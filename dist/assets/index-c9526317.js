var Rk=Object.defineProperty;var Lk=(t,e,r)=>e in t?Rk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var X=(t,e,r)=>(Lk(t,typeof e!="symbol"?e+"":e,r),r),I1=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var k=(t,e,r)=>(I1(t,e,"read from private field"),r?r.call(t):e.get(t)),Z=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},U=(t,e,r,i)=>(I1(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r);var Bc=(t,e,r,i)=>({set _(n){U(t,e,n,r)},get _(){return k(t,e,i)}}),Pe=(t,e,r)=>(I1(t,e,"access private method"),r);function Fk(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in t)){const a=Object.getOwnPropertyDescriptor(i,n);a&&Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $E(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var a=Function.bind.apply(e,n);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var QE={exports:{}},dg={},KE={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Symbol.for("react.element"),Mk=Symbol.for("react.portal"),Bk=Symbol.for("react.fragment"),Uk=Symbol.for("react.strict_mode"),jk=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Vk=Symbol.for("react.context"),zk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),qk=Symbol.for("react.memo"),Wk=Symbol.for("react.lazy"),yx=Symbol.iterator;function $k(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var XE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,JE={};function yc(t,e,r){this.props=t,this.context=e,this.refs=JE,this.updater=r||XE}yc.prototype.isReactComponent={};yc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZE(){}ZE.prototype=yc.prototype;function sb(t,e,r){this.props=t,this.context=e,this.refs=JE,this.updater=r||XE}var ob=sb.prototype=new ZE;ob.constructor=sb;YE(ob,yc.prototype);ob.isPureReactComponent=!0;var bx=Array.isArray,e8=Object.prototype.hasOwnProperty,lb={current:null},t8={key:!0,ref:!0,__self:!0,__source:!0};function r8(t,e,r){var i,n={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)e8.call(e,i)&&!t8.hasOwnProperty(i)&&(n[i]=e[i]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:Wd,type:t,key:a,ref:s,props:n,_owner:lb.current}}function Qk(t,e){return{$$typeof:Wd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ub(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wd}function Kk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xx=/\/+/g;function N1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kk(""+t.key):e.toString(36)}function mp(t,e,r,i,n){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Wd:case Mk:s=!0}}if(s)return s=t,n=n(s),t=i===""?"."+N1(s,0):i,bx(n)?(r="",t!=null&&(r=t.replace(xx,"$&/")+"/"),mp(n,e,r,"",function(u){return u})):n!=null&&(ub(n)&&(n=Qk(n,r+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(xx,"$&/")+"/")+t)),e.push(n)),1;if(s=0,i=i===""?".":i+":",bx(t))for(var o=0;o<t.length;o++){a=t[o];var l=i+N1(a,o);s+=mp(a,e,r,l,n)}else if(l=$k(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=i+N1(a,o++),s+=mp(a,e,r,l,n);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function kh(t,e,r){if(t==null)return t;var i=[],n=0;return mp(t,i,"","",function(a){return e.call(r,a,n++)}),i}function Xk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},gp={transition:null},Yk={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:gp,ReactCurrentOwner:lb};lt.Children={map:kh,forEach:function(t,e,r){kh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return kh(t,function(){e++}),e},toArray:function(t){return kh(t,function(e){return e})||[]},only:function(t){if(!ub(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=yc;lt.Fragment=Bk;lt.Profiler=jk;lt.PureComponent=sb;lt.StrictMode=Uk;lt.Suspense=Gk;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yk;lt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=YE({},t.props),n=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=lb.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)e8.call(e,l)&&!t8.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:Wd,type:t.type,key:n,ref:a,props:i,_owner:s}};lt.createContext=function(t){return t={$$typeof:Vk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hk,_context:t},t.Consumer=t};lt.createElement=r8;lt.createFactory=function(t){var e=r8.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:zk,render:t}};lt.isValidElement=ub;lt.lazy=function(t){return{$$typeof:Wk,_payload:{_status:-1,_result:t},_init:Xk}};lt.memo=function(t,e){return{$$typeof:qk,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=gp.transition;gp.transition={};try{t()}finally{gp.transition=e}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(t,e){return An.current.useCallback(t,e)};lt.useContext=function(t){return An.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return An.current.useDeferredValue(t)};lt.useEffect=function(t,e){return An.current.useEffect(t,e)};lt.useId=function(){return An.current.useId()};lt.useImperativeHandle=function(t,e,r){return An.current.useImperativeHandle(t,e,r)};lt.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return An.current.useMemo(t,e)};lt.useReducer=function(t,e,r){return An.current.useReducer(t,e,r)};lt.useRef=function(t){return An.current.useRef(t)};lt.useState=function(t){return An.current.useState(t)};lt.useSyncExternalStore=function(t,e,r){return An.current.useSyncExternalStore(t,e,r)};lt.useTransition=function(){return An.current.useTransition()};lt.version="18.2.0";KE.exports=lt;var Q=KE.exports;const it=Es(Q),Jk=Fk({__proto__:null,default:it},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=Q,eD=Symbol.for("react.element"),tD=Symbol.for("react.fragment"),rD=Object.prototype.hasOwnProperty,nD=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iD={key:!0,ref:!0,__self:!0,__source:!0};function n8(t,e,r){var i,n={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)rD.call(e,i)&&!iD.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:eD,type:t,key:a,ref:s,props:n,_owner:nD.current}}dg.Fragment=tD;dg.jsx=n8;dg.jsxs=n8;QE.exports=dg;var w=QE.exports,Yv={},i8={exports:{}},oi={},a8={exports:{}},s8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,ce){var de=ee.length;ee.push(ce);e:for(;0<de;){var Ge=de-1>>>1,Ee=ee[Ge];if(0<n(Ee,ce))ee[Ge]=ce,ee[de]=Ee,de=Ge;else break e}}function r(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ce=ee[0],de=ee.pop();if(de!==ce){ee[0]=de;e:for(var Ge=0,Ee=ee.length,Ze=Ee>>>1;Ge<Ze;){var Ue=2*(Ge+1)-1,dt=ee[Ue],he=Ue+1,gt=ee[he];if(0>n(dt,de))he<Ee&&0>n(gt,dt)?(ee[Ge]=gt,ee[he]=de,Ge=he):(ee[Ge]=dt,ee[Ue]=de,Ge=Ue);else if(he<Ee&&0>n(gt,de))ee[Ge]=gt,ee[he]=de,Ge=he;else break e}}return ce}function n(ee,ce){var de=ee.sortIndex-ce.sortIndex;return de!==0?de:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,h=!1,y=!1,m=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ee){for(var ce=r(u);ce!==null;){if(ce.callback===null)i(u);else if(ce.startTime<=ee)i(u),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=r(u)}}function C(ee){if(m=!1,A(ee),!y)if(r(l)!==null)y=!0,J(I);else{var ce=r(u);ce!==null&&le(C,ce.startTime-ee)}}function I(ee,ce){y=!1,m&&(m=!1,b(O),O=-1),h=!0;var de=d;try{for(A(ce),f=r(l);f!==null&&(!(f.expirationTime>ce)||ee&&!re());){var Ge=f.callback;if(typeof Ge=="function"){f.callback=null,d=f.priorityLevel;var Ee=Ge(f.expirationTime<=ce);ce=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===r(l)&&i(l),A(ce)}else i(l);f=r(l)}if(f!==null)var Ze=!0;else{var Ue=r(u);Ue!==null&&le(C,Ue.startTime-ce),Ze=!1}return Ze}finally{f=null,d=de,h=!1}}var R=!1,L=null,O=-1,W=5,H=-1;function re(){return!(t.unstable_now()-H<W)}function ne(){if(L!==null){var ee=t.unstable_now();H=ee;var ce=!0;try{ce=L(!0,ee)}finally{ce?oe():(R=!1,L=null)}}else R=!1}var oe;if(typeof E=="function")oe=function(){E(ne)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ie=_e.port2;_e.port1.onmessage=ne,oe=function(){ie.postMessage(null)}}else oe=function(){T(ne,0)};function J(ee){L=ee,R||(R=!0,oe())}function le(ee,ce){O=T(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,J(I))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var ce=3;break;default:ce=d}var de=d;d=ce;try{return ee()}finally{d=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=d;d=ee;try{return ce()}finally{d=de}},t.unstable_scheduleCallback=function(ee,ce,de){var Ge=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ge+de:Ge):de=Ge,ee){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=de+Ee,ee={id:c++,callback:ce,priorityLevel:ee,startTime:de,expirationTime:Ee,sortIndex:-1},de>Ge?(ee.sortIndex=de,e(u,ee),r(l)===null&&ee===r(u)&&(m?(b(O),O=-1):m=!0,le(C,de-Ge))):(ee.sortIndex=Ee,e(l,ee),y||h||(y=!0,J(I))),ee},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(ee){var ce=d;return function(){var de=d;d=ce;try{return ee.apply(this,arguments)}finally{d=de}}}})(s8);a8.exports=s8;var aD=a8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o8=Q,ai=aD;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l8=new Set,Vf={};function Kl(t,e){G0(t,e),G0(t+"Capture",e)}function G0(t,e){for(Vf[t]=e,t=0;t<e.length;t++)l8.add(e[t])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jv=Object.prototype.hasOwnProperty,sD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tx={},wx={};function oD(t){return Jv.call(wx,t)?!0:Jv.call(Tx,t)?!1:sD.test(t)?wx[t]=!0:(Tx[t]=!0,!1)}function lD(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uD(t,e,r,i){if(e===null||typeof e>"u"||lD(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,r,i,n,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cb=/[\-:]([a-z])/g;function fb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cb,fb);Wr[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cb,fb);Wr[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cb,fb);Wr[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function db(t,e,r,i){var n=Wr.hasOwnProperty(e)?Wr[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uD(e,r,n,i)&&(r=null),i||n===null?oD(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,i=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var Ss=o8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),Su=Symbol.for("react.portal"),Au=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),u8=Symbol.for("react.provider"),c8=Symbol.for("react.context"),pb=Symbol.for("react.forward_ref"),ey=Symbol.for("react.suspense"),ty=Symbol.for("react.suspense_list"),mb=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),f8=Symbol.for("react.offscreen"),_x=Symbol.iterator;function Uc(t){return t===null||typeof t!="object"?null:(t=_x&&t[_x]||t["@@iterator"],typeof t=="function"?t:null)}var rr=Object.assign,O1;function nf(t){if(O1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);O1=e&&e[1]||""}return`
`+O1+t}var R1=!1;function L1(t,e){if(!t||R1)return"";R1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),a=i.stack.split(`
`),s=n.length-1,o=a.length-1;1<=s&&0<=o&&n[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(n[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||n[s]!==a[o]){var l=`
`+n[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{R1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nf(t):""}function cD(t){switch(t.tag){case 5:return nf(t.type);case 16:return nf("Lazy");case 13:return nf("Suspense");case 19:return nf("SuspenseList");case 0:case 2:case 15:return t=L1(t.type,!1),t;case 11:return t=L1(t.type.render,!1),t;case 1:return t=L1(t.type,!0),t;default:return""}}function ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Au:return"Fragment";case Su:return"Portal";case Zv:return"Profiler";case hb:return"StrictMode";case ey:return"Suspense";case ty:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c8:return(t.displayName||"Context")+".Consumer";case u8:return(t._context.displayName||"Context")+".Provider";case pb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mb:return e=t.displayName||null,e!==null?e:ry(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return ry(t(e))}catch{}}return null}function fD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dD(t){var e=d8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ih(t){t._valueTracker||(t._valueTracker=dD(t))}function h8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=d8(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function Wp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ny(t,e){var r=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ex(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=wo(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p8(t,e){e=e.checked,e!=null&&db(t,"checked",e,!1)}function iy(t,e){p8(t,e);var r=wo(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ay(t,e.type,r):e.hasOwnProperty("defaultValue")&&ay(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ay(t,e,r){(e!=="number"||Wp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var af=Array.isArray;function $u(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+wo(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ax(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(af(r)){if(1<r.length)throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:wo(r)}}function m8(t,e){var r=wo(e.value),i=wo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function Cx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nh,v8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hD=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(t){hD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tf[e]=Tf[t]})});function y8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tf.hasOwnProperty(t)&&Tf[t]?(""+e).trim():e+"px"}function b8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=y8(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}var pD=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ly(t,e){if(e){if(pD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=null;function gb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fy=null,Qu=null,Ku=null;function Px(t){if(t=Kd(t)){if(typeof fy!="function")throw Error(me(280));var e=t.stateNode;e&&(e=vg(e),fy(t.stateNode,t.type,e))}}function x8(t){Qu?Ku?Ku.push(t):Ku=[t]:Qu=t}function T8(){if(Qu){var t=Qu,e=Ku;if(Ku=Qu=null,Px(t),e)for(t=0;t<e.length;t++)Px(e[t])}}function w8(t,e){return t(e)}function _8(){}var F1=!1;function E8(t,e,r){if(F1)return t(e,r);F1=!0;try{return w8(t,e,r)}finally{F1=!1,(Qu!==null||Ku!==null)&&(_8(),T8())}}function Gf(t,e){var r=t.stateNode;if(r===null)return null;var i=vg(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var dy=!1;if(ps)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){dy=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{dy=!1}function mD(t,e,r,i,n,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var wf=!1,$p=null,Qp=!1,hy=null,gD={onError:function(t){wf=!0,$p=t}};function vD(t,e,r,i,n,a,s,o,l){wf=!1,$p=null,mD.apply(gD,arguments)}function yD(t,e,r,i,n,a,s,o,l){if(vD.apply(this,arguments),wf){if(wf){var u=$p;wf=!1,$p=null}else throw Error(me(198));Qp||(Qp=!0,hy=u)}}function Xl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function S8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kx(t){if(Xl(t)!==t)throw Error(me(188))}function bD(t){var e=t.alternate;if(!e){if(e=Xl(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return kx(n),t;if(a===i)return kx(n),e;a=a.sibling}throw Error(me(188))}if(r.return!==i.return)r=n,i=a;else{for(var s=!1,o=n.child;o;){if(o===r){s=!0,r=n,i=a;break}if(o===i){s=!0,i=n,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,i=n;break}if(o===i){s=!0,i=a,r=n;break}o=o.sibling}if(!s)throw Error(me(189))}}if(r.alternate!==i)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function A8(t){return t=bD(t),t!==null?C8(t):null}function C8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C8(t);if(e!==null)return e;t=t.sibling}return null}var P8=ai.unstable_scheduleCallback,Dx=ai.unstable_cancelCallback,xD=ai.unstable_shouldYield,TD=ai.unstable_requestPaint,cr=ai.unstable_now,wD=ai.unstable_getCurrentPriorityLevel,vb=ai.unstable_ImmediatePriority,k8=ai.unstable_UserBlockingPriority,Kp=ai.unstable_NormalPriority,_D=ai.unstable_LowPriority,D8=ai.unstable_IdlePriority,hg=null,Aa=null;function ED(t){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(hg,t,void 0,(t.current.flags&128)===128)}catch{}}var Gi=Math.clz32?Math.clz32:CD,SD=Math.log,AD=Math.LN2;function CD(t){return t>>>=0,t===0?32:31-(SD(t)/AD|0)|0}var Oh=64,Rh=4194304;function sf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xp(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,n=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~n;o!==0?i=sf(o):(a&=s,a!==0&&(i=sf(a)))}else s=r&~n,s!==0?i=sf(s):a!==0&&(i=sf(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,a=e&-e,n>=a||n===16&&(a&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-Gi(e),n=1<<r,i|=t[r],e&=~n;return i}function PD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kD(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Gi(a),o=1<<s,l=n[s];l===-1?(!(o&r)||o&i)&&(n[s]=PD(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function py(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I8(){var t=Oh;return Oh<<=1,!(Oh&4194240)&&(Oh=64),t}function M1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $d(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gi(e),t[e]=r}function DD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-Gi(r),a=1<<n;e[n]=0,i[n]=-1,t[n]=-1,r&=~a}}function yb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-Gi(r),n=1<<i;n&e|t[i]&e&&(t[i]|=e),r&=~n}}var Et=0;function N8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O8,bb,R8,L8,F8,my=!1,Lh=[],co=null,fo=null,ho=null,qf=new Map,Wf=new Map,Vs=[],ID="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ix(t,e){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":qf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(e.pointerId)}}function Hc(t,e,r,i,n,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[n]},e!==null&&(e=Kd(e),e!==null&&bb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function ND(t,e,r,i,n){switch(e){case"focusin":return co=Hc(co,t,e,r,i,n),!0;case"dragenter":return fo=Hc(fo,t,e,r,i,n),!0;case"mouseover":return ho=Hc(ho,t,e,r,i,n),!0;case"pointerover":var a=n.pointerId;return qf.set(a,Hc(qf.get(a)||null,t,e,r,i,n)),!0;case"gotpointercapture":return a=n.pointerId,Wf.set(a,Hc(Wf.get(a)||null,t,e,r,i,n)),!0}return!1}function M8(t){var e=Zo(t.target);if(e!==null){var r=Xl(e);if(r!==null){if(e=r.tag,e===13){if(e=S8(r),e!==null){t.blockedOn=e,F8(t.priority,function(){R8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);cy=i,r.target.dispatchEvent(i),cy=null}else return e=Kd(r),e!==null&&bb(e),t.blockedOn=r,!1;e.shift()}return!0}function Nx(t,e,r){vp(t)&&r.delete(e)}function OD(){my=!1,co!==null&&vp(co)&&(co=null),fo!==null&&vp(fo)&&(fo=null),ho!==null&&vp(ho)&&(ho=null),qf.forEach(Nx),Wf.forEach(Nx)}function Vc(t,e){t.blockedOn===e&&(t.blockedOn=null,my||(my=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,OD)))}function $f(t){function e(n){return Vc(n,t)}if(0<Lh.length){Vc(Lh[0],t);for(var r=1;r<Lh.length;r++){var i=Lh[r];i.blockedOn===t&&(i.blockedOn=null)}}for(co!==null&&Vc(co,t),fo!==null&&Vc(fo,t),ho!==null&&Vc(ho,t),qf.forEach(e),Wf.forEach(e),r=0;r<Vs.length;r++)i=Vs[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)M8(r),r.blockedOn===null&&Vs.shift()}var Xu=Ss.ReactCurrentBatchConfig,Yp=!0;function RD(t,e,r,i){var n=Et,a=Xu.transition;Xu.transition=null;try{Et=1,xb(t,e,r,i)}finally{Et=n,Xu.transition=a}}function LD(t,e,r,i){var n=Et,a=Xu.transition;Xu.transition=null;try{Et=4,xb(t,e,r,i)}finally{Et=n,Xu.transition=a}}function xb(t,e,r,i){if(Yp){var n=gy(t,e,r,i);if(n===null)$1(t,e,i,Jp,r),Ix(t,i);else if(ND(n,t,e,r,i))i.stopPropagation();else if(Ix(t,i),e&4&&-1<ID.indexOf(t)){for(;n!==null;){var a=Kd(n);if(a!==null&&O8(a),a=gy(t,e,r,i),a===null&&$1(t,e,i,Jp,r),a===n)break;n=a}n!==null&&i.stopPropagation()}else $1(t,e,i,null,r)}}var Jp=null;function gy(t,e,r,i){if(Jp=null,t=gb(i),t=Zo(t),t!==null)if(e=Xl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=S8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jp=t,null}function B8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wD()){case vb:return 1;case k8:return 4;case Kp:case _D:return 16;case D8:return 536870912;default:return 16}default:return 16}}var so=null,Tb=null,yp=null;function U8(){if(yp)return yp;var t,e=Tb,r=e.length,i,n="value"in so?so.value:so.textContent,a=n.length;for(t=0;t<r&&e[t]===n[t];t++);var s=r-t;for(i=1;i<=s&&e[r-i]===n[a-i];i++);return yp=n.slice(t,1<i?1-i:void 0)}function bp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fh(){return!0}function Ox(){return!1}function li(t){function e(r,i,n,a,s){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fh:Ox,this.isPropagationStopped=Ox,this}return rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fh)},persist:function(){},isPersistent:Fh}),e}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wb=li(bc),Qd=rr({},bc,{view:0,detail:0}),FD=li(Qd),B1,U1,zc,pg=rr({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zc&&(zc&&t.type==="mousemove"?(B1=t.screenX-zc.screenX,U1=t.screenY-zc.screenY):U1=B1=0,zc=t),B1)},movementY:function(t){return"movementY"in t?t.movementY:U1}}),Rx=li(pg),MD=rr({},pg,{dataTransfer:0}),BD=li(MD),UD=rr({},Qd,{relatedTarget:0}),j1=li(UD),jD=rr({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),HD=li(jD),VD=rr({},bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zD=li(VD),GD=rr({},bc,{data:0}),Lx=li(GD),qD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$D={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$D[t])?!!e[t]:!1}function _b(){return QD}var KD=rr({},Qd,{key:function(t){if(t.key){var e=qD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_b,charCode:function(t){return t.type==="keypress"?bp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XD=li(KD),YD=rr({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=li(YD),JD=rr({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_b}),ZD=li(JD),eI=rr({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=li(eI),rI=rr({},pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nI=li(rI),iI=[9,13,27,32],Eb=ps&&"CompositionEvent"in window,_f=null;ps&&"documentMode"in document&&(_f=document.documentMode);var aI=ps&&"TextEvent"in window&&!_f,j8=ps&&(!Eb||_f&&8<_f&&11>=_f),Mx=String.fromCharCode(32),Bx=!1;function H8(t,e){switch(t){case"keyup":return iI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cu=!1;function sI(t,e){switch(t){case"compositionend":return V8(e);case"keypress":return e.which!==32?null:(Bx=!0,Mx);case"textInput":return t=e.data,t===Mx&&Bx?null:t;default:return null}}function oI(t,e){if(Cu)return t==="compositionend"||!Eb&&H8(t,e)?(t=U8(),yp=Tb=so=null,Cu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j8&&e.locale!=="ko"?null:e.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lI[t.type]:e==="textarea"}function z8(t,e,r,i){x8(i),e=Zp(e,"onChange"),0<e.length&&(r=new wb("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var Ef=null,Qf=null;function uI(t){eS(t,0)}function mg(t){var e=Du(t);if(h8(e))return t}function cI(t,e){if(t==="change")return e}var G8=!1;if(ps){var H1;if(ps){var V1="oninput"in document;if(!V1){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),V1=typeof jx.oninput=="function"}H1=V1}else H1=!1;G8=H1&&(!document.documentMode||9<document.documentMode)}function Hx(){Ef&&(Ef.detachEvent("onpropertychange",q8),Qf=Ef=null)}function q8(t){if(t.propertyName==="value"&&mg(Qf)){var e=[];z8(e,Qf,t,gb(t)),E8(uI,e)}}function fI(t,e,r){t==="focusin"?(Hx(),Ef=e,Qf=r,Ef.attachEvent("onpropertychange",q8)):t==="focusout"&&Hx()}function dI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mg(Qf)}function hI(t,e){if(t==="click")return mg(e)}function pI(t,e){if(t==="input"||t==="change")return mg(e)}function mI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qi=typeof Object.is=="function"?Object.is:mI;function Kf(t,e){if(Qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Jv.call(e,n)||!Qi(t[n],e[n]))return!1}return!0}function Vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zx(t,e){var r=Vx(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vx(r)}}function W8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $8(){for(var t=window,e=Wp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wp(t.document)}return e}function Sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gI(t){var e=$8(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&W8(r.ownerDocument.documentElement,r)){if(i!==null&&Sb(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,a=Math.min(i.start,n);i=i.end===void 0?a:Math.min(i.end,n),!t.extend&&a>i&&(n=i,i=a,a=n),n=zx(r,a);var s=zx(r,i);n&&s&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vI=ps&&"documentMode"in document&&11>=document.documentMode,Pu=null,vy=null,Sf=null,yy=!1;function Gx(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yy||Pu==null||Pu!==Wp(i)||(i=Pu,"selectionStart"in i&&Sb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sf&&Kf(Sf,i)||(Sf=i,i=Zp(vy,"onSelect"),0<i.length&&(e=new wb("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=Pu)))}function Mh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ku={animationend:Mh("Animation","AnimationEnd"),animationiteration:Mh("Animation","AnimationIteration"),animationstart:Mh("Animation","AnimationStart"),transitionend:Mh("Transition","TransitionEnd")},z1={},Q8={};ps&&(Q8=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function gg(t){if(z1[t])return z1[t];if(!ku[t])return t;var e=ku[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Q8)return z1[t]=e[r];return t}var K8=gg("animationend"),X8=gg("animationiteration"),Y8=gg("animationstart"),J8=gg("transitionend"),Z8=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(t,e){Z8.set(t,e),Kl(e,[t])}for(var G1=0;G1<qx.length;G1++){var q1=qx[G1],yI=q1.toLowerCase(),bI=q1[0].toUpperCase()+q1.slice(1);ko(yI,"on"+bI)}ko(K8,"onAnimationEnd");ko(X8,"onAnimationIteration");ko(Y8,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(J8,"onTransitionEnd");G0("onMouseEnter",["mouseout","mouseover"]);G0("onMouseLeave",["mouseout","mouseover"]);G0("onPointerEnter",["pointerout","pointerover"]);G0("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xI=new Set("cancel close invalid load scroll toggle".split(" ").concat(of));function Wx(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,yD(i,e,void 0,t),t.currentTarget=null}function eS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],n=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;Wx(n,o,u),a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;Wx(n,o,u),a=l}}}if(Qp)throw t=hy,Qp=!1,hy=null,t}function Ut(t,e){var r=e[_y];r===void 0&&(r=e[_y]=new Set);var i=t+"__bubble";r.has(i)||(tS(e,t,2,!1),r.add(i))}function W1(t,e,r){var i=0;e&&(i|=4),tS(r,t,i,e)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Bh]){t[Bh]=!0,l8.forEach(function(r){r!=="selectionchange"&&(xI.has(r)||W1(r,!1,t),W1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bh]||(e[Bh]=!0,W1("selectionchange",!1,e))}}function tS(t,e,r,i){switch(B8(e)){case 1:var n=RD;break;case 4:n=LD;break;default:n=xb}r=n.bind(null,e,r,t),n=void 0,!dy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function $1(t,e,r,i,n){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;s=s.return}for(;o!==null;){if(s=Zo(o),s===null)return;if(l=s.tag,l===5||l===6){i=a=s;continue e}o=o.parentNode}}i=i.return}E8(function(){var u=a,c=gb(r),f=[];e:{var d=Z8.get(t);if(d!==void 0){var h=wb,y=t;switch(t){case"keypress":if(bp(r)===0)break e;case"keydown":case"keyup":h=XD;break;case"focusin":y="focus",h=j1;break;case"focusout":y="blur",h=j1;break;case"beforeblur":case"afterblur":h=j1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZD;break;case K8:case X8:case Y8:h=HD;break;case J8:h=tI;break;case"scroll":h=FD;break;case"wheel":h=nI;break;case"copy":case"cut":case"paste":h=zD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fx}var m=(e&4)!==0,T=!m&&t==="scroll",b=m?d!==null?d+"Capture":null:d;m=[];for(var E=u,A;E!==null;){A=E;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,b!==null&&(C=Gf(E,b),C!=null&&m.push(Yf(E,C,A)))),T)break;E=E.return}0<m.length&&(d=new h(d,y,null,r,c),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==cy&&(y=r.relatedTarget||r.fromElement)&&(Zo(y)||y[ms]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=u,y=y?Zo(y):null,y!==null&&(T=Xl(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(m=Rx,C="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(m=Fx,C="onPointerLeave",b="onPointerEnter",E="pointer"),T=h==null?d:Du(h),A=y==null?d:Du(y),d=new m(C,E+"leave",h,r,c),d.target=T,d.relatedTarget=A,C=null,Zo(c)===u&&(m=new m(b,E+"enter",y,r,c),m.target=A,m.relatedTarget=T,C=m),T=C,h&&y)t:{for(m=h,b=y,E=0,A=m;A;A=cu(A))E++;for(A=0,C=b;C;C=cu(C))A++;for(;0<E-A;)m=cu(m),E--;for(;0<A-E;)b=cu(b),A--;for(;E--;){if(m===b||b!==null&&m===b.alternate)break t;m=cu(m),b=cu(b)}m=null}else m=null;h!==null&&$x(f,d,h,m,!1),y!==null&&T!==null&&$x(f,T,y,m,!0)}}e:{if(d=u?Du(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=cI;else if(Ux(d))if(G8)I=pI;else{I=dI;var R=fI}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=hI);if(I&&(I=I(t,u))){z8(f,I,r,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&ay(d,"number",d.value)}switch(R=u?Du(u):window,t){case"focusin":(Ux(R)||R.contentEditable==="true")&&(Pu=R,vy=u,Sf=null);break;case"focusout":Sf=vy=Pu=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,Gx(f,r,c);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":Gx(f,r,c)}var L;if(Eb)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Cu?H8(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(j8&&r.locale!=="ko"&&(Cu||O!=="onCompositionStart"?O==="onCompositionEnd"&&Cu&&(L=U8()):(so=c,Tb="value"in so?so.value:so.textContent,Cu=!0)),R=Zp(u,O),0<R.length&&(O=new Lx(O,t,null,r,c),f.push({event:O,listeners:R}),L?O.data=L:(L=V8(r),L!==null&&(O.data=L)))),(L=aI?sI(t,r):oI(t,r))&&(u=Zp(u,"onBeforeInput"),0<u.length&&(c=new Lx("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=L))}eS(f,e)})}function Yf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zp(t,e){for(var r=e+"Capture",i=[];t!==null;){var n=t,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Gf(t,r),a!=null&&i.unshift(Yf(t,a,n)),a=Gf(t,e),a!=null&&i.push(Yf(t,a,n))),t=t.return}return i}function cu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $x(t,e,r,i,n){for(var a=e._reactName,s=[];r!==null&&r!==i;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,n?(l=Gf(r,a),l!=null&&s.unshift(Yf(r,l,o))):n||(l=Gf(r,a),l!=null&&s.push(Yf(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var TI=/\r\n?/g,wI=/\u0000|\uFFFD/g;function Qx(t){return(typeof t=="string"?t:""+t).replace(TI,`
`).replace(wI,"")}function Uh(t,e,r){if(e=Qx(e),Qx(t)!==e&&r)throw Error(me(425))}function em(){}var by=null,xy=null;function Ty(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,_I=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(t){return Kx.resolve(null).then(t).catch(SI)}:wy;function SI(t){setTimeout(function(){throw t})}function Q1(t,e){var r=e,i=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){t.removeChild(n),$f(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);$f(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var xc=Math.random().toString(36).slice(2),ya="__reactFiber$"+xc,Jf="__reactProps$"+xc,ms="__reactContainer$"+xc,_y="__reactEvents$"+xc,AI="__reactListeners$"+xc,CI="__reactHandles$"+xc;function Zo(t){var e=t[ya];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ms]||r[ya]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Xx(t);t!==null;){if(r=t[ya])return r;t=Xx(t)}return e}t=r,r=t.parentNode}return null}function Kd(t){return t=t[ya]||t[ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function vg(t){return t[Jf]||null}var Ey=[],Iu=-1;function Do(t){return{current:t}}function Gt(t){0>Iu||(t.current=Ey[Iu],Ey[Iu]=null,Iu--)}function Nt(t,e){Iu++,Ey[Iu]=t.current,t.current=e}var _o={},an=Do(_o),Un=Do(!1),Ml=_o;function q0(t,e){var r=t.type.contextTypes;if(!r)return _o;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function jn(t){return t=t.childContextTypes,t!=null}function tm(){Gt(Un),Gt(an)}function Yx(t,e,r){if(an.current!==_o)throw Error(me(168));Nt(an,e),Nt(Un,r)}function rS(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(me(108,fD(t)||"Unknown",n));return rr({},r,i)}function rm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,Ml=an.current,Nt(an,t),Nt(Un,Un.current),!0}function Jx(t,e,r){var i=t.stateNode;if(!i)throw Error(me(169));r?(t=rS(t,e,Ml),i.__reactInternalMemoizedMergedChildContext=t,Gt(Un),Gt(an),Nt(an,t)):Gt(Un),Nt(Un,r)}var Ha=null,yg=!1,K1=!1;function nS(t){Ha===null?Ha=[t]:Ha.push(t)}function PI(t){yg=!0,nS(t)}function Io(){if(!K1&&Ha!==null){K1=!0;var t=0,e=Et;try{var r=Ha;for(Et=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}Ha=null,yg=!1}catch(n){throw Ha!==null&&(Ha=Ha.slice(t+1)),P8(vb,Io),n}finally{Et=e,K1=!1}}return null}var Nu=[],Ou=0,nm=null,im=0,bi=[],xi=0,Bl=null,is=1,as="";function qo(t,e){Nu[Ou++]=im,Nu[Ou++]=nm,nm=t,im=e}function iS(t,e,r){bi[xi++]=is,bi[xi++]=as,bi[xi++]=Bl,Bl=t;var i=is;t=as;var n=32-Gi(i)-1;i&=~(1<<n),r+=1;var a=32-Gi(e)+n;if(30<a){var s=n-n%5;a=(i&(1<<s)-1).toString(32),i>>=s,n-=s,is=1<<32-Gi(e)+n|r<<n|i,as=a+t}else is=1<<a|r<<n|i,as=t}function Ab(t){t.return!==null&&(qo(t,1),iS(t,1,0))}function Cb(t){for(;t===nm;)nm=Nu[--Ou],Nu[Ou]=null,im=Nu[--Ou],Nu[Ou]=null;for(;t===Bl;)Bl=bi[--xi],bi[xi]=null,as=bi[--xi],bi[xi]=null,is=bi[--xi],bi[xi]=null}var ii=null,ni=null,Kt=!1,Hi=null;function aS(t,e){var r=Ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Zx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ii=t,ni=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ii=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bl!==null?{id:is,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ii=t,ni=null,!0):!1;default:return!1}}function Sy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ay(t){if(Kt){var e=ni;if(e){var r=e;if(!Zx(t,e)){if(Sy(t))throw Error(me(418));e=po(r.nextSibling);var i=ii;e&&Zx(t,e)?aS(i,r):(t.flags=t.flags&-4097|2,Kt=!1,ii=t)}}else{if(Sy(t))throw Error(me(418));t.flags=t.flags&-4097|2,Kt=!1,ii=t}}}function eT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ii=t}function jh(t){if(t!==ii)return!1;if(!Kt)return eT(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ty(t.type,t.memoizedProps)),e&&(e=ni)){if(Sy(t))throw sS(),Error(me(418));for(;e;)aS(t,e),e=po(e.nextSibling)}if(eT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ni=po(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=ii?po(t.stateNode.nextSibling):null;return!0}function sS(){for(var t=ni;t;)t=po(t.nextSibling)}function W0(){ni=ii=null,Kt=!1}function Pb(t){Hi===null?Hi=[t]:Hi.push(t)}var kI=Ss.ReactCurrentBatchConfig;function Li(t,e){if(t&&t.defaultProps){e=rr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var am=Do(null),sm=null,Ru=null,kb=null;function Db(){kb=Ru=sm=null}function Ib(t){var e=am.current;Gt(am),t._currentValue=e}function Cy(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function Yu(t,e){sm=t,kb=Ru=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(kb!==t)if(t={context:t,memoizedValue:e,next:null},Ru===null){if(sm===null)throw Error(me(308));Ru=t,sm.dependencies={lanes:0,firstContext:t}}else Ru=Ru.next=t;return e}var el=null;function Nb(t){el===null?el=[t]:el.push(t)}function oS(t,e,r,i){var n=e.interleaved;return n===null?(r.next=r,Nb(e)):(r.next=n.next,n.next=r),e.interleaved=r,gs(t,i)}function gs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function Ob(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mo(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,mt&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,gs(t,r)}return n=i.interleaved,n===null?(e.next=e,Nb(i)):(e.next=n.next,n.next=e),i.interleaved=e,gs(t,r)}function xp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,yb(t,r)}}function tT(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?n=a=e:a=a.next=e}else n=a=e;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function om(t,e,r,i){var n=t.updateQueue;Hs=!1;var a=n.firstBaseUpdate,s=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=n.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,m=o;switch(d=e,h=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=rr({},f,d);break e;case 2:Hs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=n.effects,d===null?n.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;d=o,o=d.next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}while(1);if(c===null&&(l=f),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do s|=n.lane,n=n.next;while(n!==e)}else a===null&&(n.shared.lanes=0);jl|=s,t.lanes=s,t.memoizedState=f}}function rT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(me(191,n));n.call(i)}}}var uS=new o8.Component().refs;function Py(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:rr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bg={isMounted:function(t){return(t=t._reactInternals)?Xl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=En(),n=vo(t),a=os(i,n);a.payload=e,r!=null&&(a.callback=r),e=mo(t,a,n),e!==null&&(qi(e,t,n,i),xp(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=En(),n=vo(t),a=os(i,n);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=mo(t,a,n),e!==null&&(qi(e,t,n,i),xp(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=En(),i=vo(t),n=os(r,i);n.tag=2,e!=null&&(n.callback=e),e=mo(t,n,i),e!==null&&(qi(e,t,i,r),xp(e,t,i))}};function nT(t,e,r,i,n,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!Kf(r,i)||!Kf(n,a):!0}function cS(t,e,r){var i=!1,n=_o,a=e.contextType;return typeof a=="object"&&a!==null?a=Ai(a):(n=jn(e)?Ml:an.current,i=e.contextTypes,a=(i=i!=null)?q0(t,n):_o),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bg,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),e}function iT(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&bg.enqueueReplaceState(e,e.state,null)}function ky(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs=uS,Ob(t);var a=e.contextType;typeof a=="object"&&a!==null?n.context=Ai(a):(a=jn(e)?Ml:an.current,n.context=q0(t,a)),n.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Py(t,e,a,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&bg.enqueueReplaceState(n,n.state,null),om(t,r,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Gc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var i=r.stateNode}if(!i)throw Error(me(147,t));var n=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=n.refs;o===uS&&(o=n.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function Hh(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aT(t){var e=t._init;return e(t._payload)}function fS(t){function e(b,E){if(t){var A=b.deletions;A===null?(b.deletions=[E],b.flags|=16):A.push(E)}}function r(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function i(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function n(b,E){return b=yo(b,E),b.index=0,b.sibling=null,b}function a(b,E,A){return b.index=A,t?(A=b.alternate,A!==null?(A=A.index,A<E?(b.flags|=2,E):A):(b.flags|=2,E)):(b.flags|=1048576,E)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,E,A,C){return E===null||E.tag!==6?(E=rv(A,b.mode,C),E.return=b,E):(E=n(E,A),E.return=b,E)}function l(b,E,A,C){var I=A.type;return I===Au?c(b,E,A.props.children,C,A.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===js&&aT(I)===E.type)?(C=n(E,A.props),C.ref=Gc(b,E,A),C.return=b,C):(C=Ap(A.type,A.key,A.props,null,b.mode,C),C.ref=Gc(b,E,A),C.return=b,C)}function u(b,E,A,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=nv(A,b.mode,C),E.return=b,E):(E=n(E,A.children||[]),E.return=b,E)}function c(b,E,A,C,I){return E===null||E.tag!==7?(E=Dl(A,b.mode,C,I),E.return=b,E):(E=n(E,A),E.return=b,E)}function f(b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=rv(""+E,b.mode,A),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dh:return A=Ap(E.type,E.key,E.props,null,b.mode,A),A.ref=Gc(b,null,E),A.return=b,A;case Su:return E=nv(E,b.mode,A),E.return=b,E;case js:var C=E._init;return f(b,C(E._payload),A)}if(af(E)||Uc(E))return E=Dl(E,b.mode,A,null),E.return=b,E;Hh(b,E)}return null}function d(b,E,A,C){var I=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return I!==null?null:o(b,E,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Dh:return A.key===I?l(b,E,A,C):null;case Su:return A.key===I?u(b,E,A,C):null;case js:return I=A._init,d(b,E,I(A._payload),C)}if(af(A)||Uc(A))return I!==null?null:c(b,E,A,C,null);Hh(b,A)}return null}function h(b,E,A,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(A)||null,o(E,b,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dh:return b=b.get(C.key===null?A:C.key)||null,l(E,b,C,I);case Su:return b=b.get(C.key===null?A:C.key)||null,u(E,b,C,I);case js:var R=C._init;return h(b,E,A,R(C._payload),I)}if(af(C)||Uc(C))return b=b.get(A)||null,c(E,b,C,I,null);Hh(E,C)}return null}function y(b,E,A,C){for(var I=null,R=null,L=E,O=E=0,W=null;L!==null&&O<A.length;O++){L.index>O?(W=L,L=null):W=L.sibling;var H=d(b,L,A[O],C);if(H===null){L===null&&(L=W);break}t&&L&&H.alternate===null&&e(b,L),E=a(H,E,O),R===null?I=H:R.sibling=H,R=H,L=W}if(O===A.length)return r(b,L),Kt&&qo(b,O),I;if(L===null){for(;O<A.length;O++)L=f(b,A[O],C),L!==null&&(E=a(L,E,O),R===null?I=L:R.sibling=L,R=L);return Kt&&qo(b,O),I}for(L=i(b,L);O<A.length;O++)W=h(L,b,O,A[O],C),W!==null&&(t&&W.alternate!==null&&L.delete(W.key===null?O:W.key),E=a(W,E,O),R===null?I=W:R.sibling=W,R=W);return t&&L.forEach(function(re){return e(b,re)}),Kt&&qo(b,O),I}function m(b,E,A,C){var I=Uc(A);if(typeof I!="function")throw Error(me(150));if(A=I.call(A),A==null)throw Error(me(151));for(var R=I=null,L=E,O=E=0,W=null,H=A.next();L!==null&&!H.done;O++,H=A.next()){L.index>O?(W=L,L=null):W=L.sibling;var re=d(b,L,H.value,C);if(re===null){L===null&&(L=W);break}t&&L&&re.alternate===null&&e(b,L),E=a(re,E,O),R===null?I=re:R.sibling=re,R=re,L=W}if(H.done)return r(b,L),Kt&&qo(b,O),I;if(L===null){for(;!H.done;O++,H=A.next())H=f(b,H.value,C),H!==null&&(E=a(H,E,O),R===null?I=H:R.sibling=H,R=H);return Kt&&qo(b,O),I}for(L=i(b,L);!H.done;O++,H=A.next())H=h(L,b,O,H.value,C),H!==null&&(t&&H.alternate!==null&&L.delete(H.key===null?O:H.key),E=a(H,E,O),R===null?I=H:R.sibling=H,R=H);return t&&L.forEach(function(ne){return e(b,ne)}),Kt&&qo(b,O),I}function T(b,E,A,C){if(typeof A=="object"&&A!==null&&A.type===Au&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Dh:e:{for(var I=A.key,R=E;R!==null;){if(R.key===I){if(I=A.type,I===Au){if(R.tag===7){r(b,R.sibling),E=n(R,A.props.children),E.return=b,b=E;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===js&&aT(I)===R.type){r(b,R.sibling),E=n(R,A.props),E.ref=Gc(b,R,A),E.return=b,b=E;break e}r(b,R);break}else e(b,R);R=R.sibling}A.type===Au?(E=Dl(A.props.children,b.mode,C,A.key),E.return=b,b=E):(C=Ap(A.type,A.key,A.props,null,b.mode,C),C.ref=Gc(b,E,A),C.return=b,b=C)}return s(b);case Su:e:{for(R=A.key;E!==null;){if(E.key===R)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(b,E.sibling),E=n(E,A.children||[]),E.return=b,b=E;break e}else{r(b,E);break}else e(b,E);E=E.sibling}E=nv(A,b.mode,C),E.return=b,b=E}return s(b);case js:return R=A._init,T(b,E,R(A._payload),C)}if(af(A))return y(b,E,A,C);if(Uc(A))return m(b,E,A,C);Hh(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(b,E.sibling),E=n(E,A),E.return=b,b=E):(r(b,E),E=rv(A,b.mode,C),E.return=b,b=E),s(b)):r(b,E)}return T}var $0=fS(!0),dS=fS(!1),Xd={},Ca=Do(Xd),Zf=Do(Xd),ed=Do(Xd);function tl(t){if(t===Xd)throw Error(me(174));return t}function Rb(t,e){switch(Nt(ed,e),Nt(Zf,t),Nt(Ca,Xd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oy(e,t)}Gt(Ca),Nt(Ca,e)}function Q0(){Gt(Ca),Gt(Zf),Gt(ed)}function hS(t){tl(ed.current);var e=tl(Ca.current),r=oy(e,t.type);e!==r&&(Nt(Zf,t),Nt(Ca,r))}function Lb(t){Zf.current===t&&(Gt(Ca),Gt(Zf))}var Zt=Do(0);function lm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var X1=[];function Fb(){for(var t=0;t<X1.length;t++)X1[t]._workInProgressVersionPrimary=null;X1.length=0}var Tp=Ss.ReactCurrentDispatcher,Y1=Ss.ReactCurrentBatchConfig,Ul=0,tr=null,Ar=null,Ir=null,um=!1,Af=!1,td=0,DI=0;function $r(){throw Error(me(321))}function Mb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qi(t[r],e[r]))return!1;return!0}function Bb(t,e,r,i,n,a){if(Ul=a,tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tp.current=t===null||t.memoizedState===null?RI:LI,t=r(i,n),Af){a=0;do{if(Af=!1,td=0,25<=a)throw Error(me(301));a+=1,Ir=Ar=null,e.updateQueue=null,Tp.current=FI,t=r(i,n)}while(Af)}if(Tp.current=cm,e=Ar!==null&&Ar.next!==null,Ul=0,Ir=Ar=tr=null,um=!1,e)throw Error(me(300));return t}function Ub(){var t=td!==0;return td=0,t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?tr.memoizedState=Ir=t:Ir=Ir.next=t,Ir}function Ci(){if(Ar===null){var t=tr.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Ir===null?tr.memoizedState:Ir.next;if(e!==null)Ir=e,Ar=t;else{if(t===null)throw Error(me(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Ir===null?tr.memoizedState=Ir=t:Ir=Ir.next=t}return Ir}function rd(t,e){return typeof e=="function"?e(t):e}function J1(t){var e=Ci(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var i=Ar,n=i.baseQueue,a=r.pending;if(a!==null){if(n!==null){var s=n.next;n.next=a.next,a.next=s}i.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,i=i.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Ul&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=i):l=l.next=f,tr.lanes|=c,jl|=c}u=u.next}while(u!==null&&u!==a);l===null?s=i:l.next=o,Qi(i,e.memoizedState)||(Mn=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,r.lastRenderedState=i}if(t=r.interleaved,t!==null){n=t;do a=n.lane,tr.lanes|=a,jl|=a,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Z1(t){var e=Ci(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,a=e.memoizedState;if(n!==null){r.pending=null;var s=n=n.next;do a=t(a,s.action),s=s.next;while(s!==n);Qi(a,e.memoizedState)||(Mn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,i]}function pS(){}function mS(t,e){var r=tr,i=Ci(),n=e(),a=!Qi(i.memoizedState,n);if(a&&(i.memoizedState=n,Mn=!0),i=i.queue,jb(yS.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,nd(9,vS.bind(null,r,i,n,e),void 0,null),Lr===null)throw Error(me(349));Ul&30||gS(r,e,n)}return n}function gS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function vS(t,e,r,i){e.value=r,e.getSnapshot=i,bS(e)&&xS(t)}function yS(t,e,r){return r(function(){bS(e)&&xS(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qi(t,r)}catch{return!0}}function xS(t){var e=gs(t,1);e!==null&&qi(e,t,1,-1)}function sT(t){var e=oa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=OI.bind(null,tr,t),[e.memoizedState,t]}function nd(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function TS(){return Ci().memoizedState}function wp(t,e,r,i){var n=oa();tr.flags|=t,n.memoizedState=nd(1|e,r,void 0,i===void 0?null:i)}function xg(t,e,r,i){var n=Ci();i=i===void 0?null:i;var a=void 0;if(Ar!==null){var s=Ar.memoizedState;if(a=s.destroy,i!==null&&Mb(i,s.deps)){n.memoizedState=nd(e,r,a,i);return}}tr.flags|=t,n.memoizedState=nd(1|e,r,a,i)}function oT(t,e){return wp(8390656,8,t,e)}function jb(t,e){return xg(2048,8,t,e)}function wS(t,e){return xg(4,2,t,e)}function _S(t,e){return xg(4,4,t,e)}function ES(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SS(t,e,r){return r=r!=null?r.concat([t]):null,xg(4,4,ES.bind(null,e,t),r)}function Hb(){}function AS(t,e){var r=Ci();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Mb(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function CS(t,e){var r=Ci();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Mb(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function PS(t,e,r){return Ul&21?(Qi(r,e)||(r=I8(),tr.lanes|=r,jl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=r)}function II(t,e){var r=Et;Et=r!==0&&4>r?r:4,t(!0);var i=Y1.transition;Y1.transition={};try{t(!1),e()}finally{Et=r,Y1.transition=i}}function kS(){return Ci().memoizedState}function NI(t,e,r){var i=vo(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},DS(t))IS(e,r);else if(r=oS(t,e,r,i),r!==null){var n=En();qi(r,t,i,n),NS(r,e,i)}}function OI(t,e,r){var i=vo(t),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(DS(t))IS(e,n);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(n.hasEagerState=!0,n.eagerState=o,Qi(o,s)){var l=e.interleaved;l===null?(n.next=n,Nb(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}r=oS(t,e,n,i),r!==null&&(n=En(),qi(r,t,i,n),NS(r,e,i))}}function DS(t){var e=t.alternate;return t===tr||e!==null&&e===tr}function IS(t,e){Af=um=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function NS(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,yb(t,r)}}var cm={readContext:Ai,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},RI={readContext:Ai,useCallback:function(t,e){return oa().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:oT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,wp(4194308,4,ES.bind(null,e,t),r)},useLayoutEffect:function(t,e){return wp(4194308,4,t,e)},useInsertionEffect:function(t,e){return wp(4,2,t,e)},useMemo:function(t,e){var r=oa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=oa();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=NI.bind(null,tr,t),[i.memoizedState,t]},useRef:function(t){var e=oa();return t={current:t},e.memoizedState=t},useState:sT,useDebugValue:Hb,useDeferredValue:function(t){return oa().memoizedState=t},useTransition:function(){var t=sT(!1),e=t[0];return t=II.bind(null,t[1]),oa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=tr,n=oa();if(Kt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=e(),Lr===null)throw Error(me(349));Ul&30||gS(i,e,r)}n.memoizedState=r;var a={value:r,getSnapshot:e};return n.queue=a,oT(yS.bind(null,i,a,t),[t]),i.flags|=2048,nd(9,vS.bind(null,i,a,r,e),void 0,null),r},useId:function(){var t=oa(),e=Lr.identifierPrefix;if(Kt){var r=as,i=is;r=(i&~(1<<32-Gi(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=td++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=DI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LI={readContext:Ai,useCallback:AS,useContext:Ai,useEffect:jb,useImperativeHandle:SS,useInsertionEffect:wS,useLayoutEffect:_S,useMemo:CS,useReducer:J1,useRef:TS,useState:function(){return J1(rd)},useDebugValue:Hb,useDeferredValue:function(t){var e=Ci();return PS(e,Ar.memoizedState,t)},useTransition:function(){var t=J1(rd)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:pS,useSyncExternalStore:mS,useId:kS,unstable_isNewReconciler:!1},FI={readContext:Ai,useCallback:AS,useContext:Ai,useEffect:jb,useImperativeHandle:SS,useInsertionEffect:wS,useLayoutEffect:_S,useMemo:CS,useReducer:Z1,useRef:TS,useState:function(){return Z1(rd)},useDebugValue:Hb,useDeferredValue:function(t){var e=Ci();return Ar===null?e.memoizedState=t:PS(e,Ar.memoizedState,t)},useTransition:function(){var t=Z1(rd)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:pS,useSyncExternalStore:mS,useId:kS,unstable_isNewReconciler:!1};function K0(t,e){try{var r="",i=e;do r+=cD(i),i=i.return;while(i);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:n,digest:null}}function ev(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var MI=typeof WeakMap=="function"?WeakMap:Map;function OS(t,e,r){r=os(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){dm||(dm=!0,jy=i),Dy(t,e)},r}function RS(t,e,r){r=os(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;r.payload=function(){return i(n)},r.callback=function(){Dy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dy(t,e),typeof i!="function"&&(go===null?go=new Set([this]):go.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function lT(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new MI;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(r)||(n.add(r),t=YI.bind(null,t,e,r),e.then(t,t))}function uT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cT(t,e,r,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=os(-1,1),e.tag=2,mo(r,e,1))),r.lanes|=1),t)}var BI=Ss.ReactCurrentOwner,Mn=!1;function dn(t,e,r,i){e.child=t===null?dS(e,null,r,i):$0(e,t.child,r,i)}function fT(t,e,r,i,n){r=r.render;var a=e.ref;return Yu(e,n),i=Bb(t,e,r,i,a,n),r=Ub(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vs(t,e,n)):(Kt&&r&&Ab(e),e.flags|=1,dn(t,e,i,n),e.child)}function dT(t,e,r,i,n){if(t===null){var a=r.type;return typeof a=="function"&&!Kb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,LS(t,e,a,i,n)):(t=Ap(r.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&n)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Kf,r(s,i)&&t.ref===e.ref)return vs(t,e,n)}return e.flags|=1,t=yo(a,i),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,r,i,n){if(t!==null){var a=t.memoizedProps;if(Kf(a,i)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=i=a,(t.lanes&n)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,vs(t,e,n)}return Iy(t,e,r,i,n)}function FS(t,e,r){var i=e.pendingProps,n=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Fu,ti),ti|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Fu,ti),ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,Nt(Fu,ti),ti|=i}else a!==null?(i=a.baseLanes|r,e.memoizedState=null):i=r,Nt(Fu,ti),ti|=i;return dn(t,e,n,r),e.child}function MS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Iy(t,e,r,i,n){var a=jn(r)?Ml:an.current;return a=q0(e,a),Yu(e,n),r=Bb(t,e,r,i,a,n),i=Ub(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vs(t,e,n)):(Kt&&i&&Ab(e),e.flags|=1,dn(t,e,r,n),e.child)}function hT(t,e,r,i,n){if(jn(r)){var a=!0;rm(e)}else a=!1;if(Yu(e,n),e.stateNode===null)_p(t,e),cS(e,r,i),ky(e,r,i,n),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ai(u):(u=jn(r)?Ml:an.current,u=q0(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||l!==u)&&iT(e,s,i,u),Hs=!1;var d=e.memoizedState;s.state=d,om(e,i,s,n),l=e.memoizedState,o!==i||d!==l||Un.current||Hs?(typeof c=="function"&&(Py(e,r,c,i),l=e.memoizedState),(o=Hs||nT(e,r,o,i,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,lS(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Li(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ai(l):(l=jn(r)?Ml:an.current,l=q0(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&iT(e,s,i,l),Hs=!1,d=e.memoizedState,s.state=d,om(e,i,s,n);var y=e.memoizedState;o!==f||d!==y||Un.current||Hs?(typeof h=="function"&&(Py(e,r,h,i),y=e.memoizedState),(u=Hs||nT(e,r,u,i,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ny(t,e,r,i,a,n)}function Ny(t,e,r,i,n,a){MS(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return n&&Jx(e,r,!1),vs(t,e,a);i=e.stateNode,BI.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=$0(e,t.child,null,a),e.child=$0(e,null,o,a)):dn(t,e,o,a),e.memoizedState=i.state,n&&Jx(e,r,!0),e.child}function BS(t){var e=t.stateNode;e.pendingContext?Yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yx(t,e.context,!1),Rb(t,e.containerInfo)}function pT(t,e,r,i,n){return W0(),Pb(n),e.flags|=256,dn(t,e,r,i),e.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function Ry(t){return{baseLanes:t,cachePool:null,transitions:null}}function US(t,e,r){var i=e.pendingProps,n=Zt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Nt(Zt,n&1),t===null)return Ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,a?(i=e.mode,a=e.child,s={mode:"hidden",children:s},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=_g(s,i,0,null),t=Dl(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ry(r),e.memoizedState=Oy,t):Vb(e,s));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return UI(t,e,s,i,o,n,r);if(a){a=i.fallback,s=e.mode,n=t.child,o=n.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=yo(n,l),i.subtreeFlags=n.subtreeFlags&14680064),o!==null?a=yo(o,a):(a=Dl(a,s,r,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,s=t.child.memoizedState,s=s===null?Ry(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Oy,i}return a=t.child,t=a.sibling,i=yo(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Vb(t,e){return e=_g({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vh(t,e,r,i){return i!==null&&Pb(i),$0(e,t.child,null,r),t=Vb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UI(t,e,r,i,n,a,s){if(r)return e.flags&256?(e.flags&=-257,i=ev(Error(me(422))),Vh(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,n=e.mode,i=_g({mode:"visible",children:i.children},n,0,null),a=Dl(a,n,s,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&$0(e,t.child,null,s),e.child.memoizedState=Ry(s),e.memoizedState=Oy,a);if(!(e.mode&1))return Vh(t,e,s,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(me(419)),i=ev(a,i,void 0),Vh(t,e,s,i)}if(o=(s&t.childLanes)!==0,Mn||o){if(i=Lr,i!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|s)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,gs(t,n),qi(i,t,n,-1))}return Qb(),i=ev(Error(me(421))),Vh(t,e,s,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=JI.bind(null,t),n._reactRetry=e,null):(t=a.treeContext,ni=po(n.nextSibling),ii=e,Kt=!0,Hi=null,t!==null&&(bi[xi++]=is,bi[xi++]=as,bi[xi++]=Bl,is=t.id,as=t.overflow,Bl=e),e=Vb(e,i.children),e.flags|=4096,e)}function mT(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cy(t.return,e,r)}function tv(t,e,r,i,n){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=n)}function jS(t,e,r){var i=e.pendingProps,n=i.revealOrder,a=i.tail;if(dn(t,e,i.children,r),i=Zt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mT(t,r,e);else if(t.tag===19)mT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Nt(Zt,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&lm(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),tv(e,!1,n,r,a);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&lm(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}tv(e,!0,r,null,a);break;case"together":tv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _p(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),jl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=yo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jI(t,e,r){switch(e.tag){case 3:BS(e),W0();break;case 5:hS(e);break;case 1:jn(e.type)&&rm(e);break;case 4:Rb(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;Nt(am,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Nt(Zt,Zt.current&1),e.flags|=128,null):r&e.child.childLanes?US(t,e,r):(Nt(Zt,Zt.current&1),t=vs(t,e,r),t!==null?t.sibling:null);Nt(Zt,Zt.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return jS(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Nt(Zt,Zt.current),i)break;return null;case 22:case 23:return e.lanes=0,FS(t,e,r)}return vs(t,e,r)}var HS,Ly,VS,zS;HS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ly=function(){};VS=function(t,e,r,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,tl(Ca.current);var a=null;switch(r){case"input":n=ny(t,n),i=ny(t,i),a=[];break;case"select":n=rr({},n,{value:void 0}),i=rr({},i,{value:void 0}),a=[];break;case"textarea":n=sy(t,n),i=sy(t,i),a=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=em)}ly(r,i);var s;r=null;for(u in n)if(!i.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var l=i[u];if(o=n!=null?n[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ut("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};zS=function(t,e,r,i){r!==i&&(e.flags|=4)};function qc(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function HI(t,e,r){var i=e.pendingProps;switch(Cb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(e),null;case 1:return jn(e.type)&&tm(),Qr(e),null;case 3:return i=e.stateNode,Q0(),Gt(Un),Gt(an),Fb(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(jh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&(zy(Hi),Hi=null))),Ly(t,e),Qr(e),null;case 5:Lb(e);var n=tl(ed.current);if(r=e.type,t!==null&&e.stateNode!=null)VS(t,e,r,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(me(166));return Qr(e),null}if(t=tl(Ca.current),jh(e)){i=e.stateNode,r=e.type;var a=e.memoizedProps;switch(i[ya]=e,i[Jf]=a,t=(e.mode&1)!==0,r){case"dialog":Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":case"embed":Ut("load",i);break;case"video":case"audio":for(n=0;n<of.length;n++)Ut(of[n],i);break;case"source":Ut("error",i);break;case"img":case"image":case"link":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"input":Ex(i,a),Ut("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ut("invalid",i);break;case"textarea":Ax(i,a),Ut("invalid",i)}ly(r,a),n=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&Uh(i.textContent,o,t),n=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Uh(i.textContent,o,t),n=["children",""+o]):Vf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ut("scroll",i)}switch(r){case"input":Ih(i),Sx(i,a,!0);break;case"textarea":Ih(i),Cx(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=em)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(r,{is:i.is}):(t=s.createElement(r),r==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,r),t[ya]=e,t[Jf]=i,HS(t,e,!1,!1),e.stateNode=t;e:{switch(s=uy(r,i),r){case"dialog":Ut("cancel",t),Ut("close",t),n=i;break;case"iframe":case"object":case"embed":Ut("load",t),n=i;break;case"video":case"audio":for(n=0;n<of.length;n++)Ut(of[n],t);n=i;break;case"source":Ut("error",t),n=i;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),n=i;break;case"details":Ut("toggle",t),n=i;break;case"input":Ex(t,i),n=ny(t,i),Ut("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=rr({},i,{value:void 0}),Ut("invalid",t);break;case"textarea":Ax(t,i),n=sy(t,i),Ut("invalid",t);break;default:n=i}ly(r,n),o=n;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?b8(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v8(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zf(t,l):typeof l=="number"&&zf(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ut("scroll",t):l!=null&&db(t,a,l,s))}switch(r){case"input":Ih(t),Sx(t,i,!1);break;case"textarea":Ih(t),Cx(t);break;case"option":i.value!=null&&t.setAttribute("value",""+wo(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?$u(t,!!i.multiple,a,!1):i.defaultValue!=null&&$u(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=em)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qr(e),null;case 6:if(t&&e.stateNode!=null)zS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(me(166));if(r=tl(ed.current),tl(Ca.current),jh(e)){if(i=e.stateNode,r=e.memoizedProps,i[ya]=e,(a=i.nodeValue!==r)&&(t=ii,t!==null))switch(t.tag){case 3:Uh(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uh(i.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[ya]=e,e.stateNode=i}return Qr(e),null;case 13:if(Gt(Zt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&ni!==null&&e.mode&1&&!(e.flags&128))sS(),W0(),e.flags|=98560,a=!1;else if(a=jh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(me(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[ya]=e}else W0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qr(e),a=!1}else Hi!==null&&(zy(Hi),Hi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Zt.current&1?Cr===0&&(Cr=3):Qb())),e.updateQueue!==null&&(e.flags|=4),Qr(e),null);case 4:return Q0(),Ly(t,e),t===null&&Xf(e.stateNode.containerInfo),Qr(e),null;case 10:return Ib(e.type._context),Qr(e),null;case 17:return jn(e.type)&&tm(),Qr(e),null;case 19:if(Gt(Zt),a=e.memoizedState,a===null)return Qr(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)qc(a,!1);else{if(Cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=lm(t),s!==null){for(e.flags|=128,qc(a,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)a=r,t=i,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(Zt,Zt.current&1|2),e.child}t=t.sibling}a.tail!==null&&cr()>X0&&(e.flags|=128,i=!0,qc(a,!1),e.lanes=4194304)}else{if(!i)if(t=lm(s),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Kt)return Qr(e),null}else 2*cr()-a.renderingStartTime>X0&&r!==1073741824&&(e.flags|=128,i=!0,qc(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=cr(),e.sibling=null,r=Zt.current,Nt(Zt,i?r&1|2:r&1),e):(Qr(e),null);case 22:case 23:return $b(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ti&1073741824&&(Qr(e),e.subtreeFlags&6&&(e.flags|=8192)):Qr(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function VI(t,e){switch(Cb(e),e.tag){case 1:return jn(e.type)&&tm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Q0(),Gt(Un),Gt(an),Fb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lb(e),null;case 13:if(Gt(Zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));W0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(Zt),null;case 4:return Q0(),null;case 10:return Ib(e.type._context),null;case 22:case 23:return $b(),null;case 24:return null;default:return null}}var zh=!1,Zr=!1,zI=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Lu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ir(t,e,i)}else r.current=null}function Fy(t,e,r){try{r()}catch(i){ir(t,e,i)}}var gT=!1;function GI(t,e){if(by=Yp,t=$8(),Sb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||n!==0&&f.nodeType!==3||(o=s+n),f!==a||i!==0&&f.nodeType!==3||(l=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++u===n&&(o=s),d===a&&++c===i&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xy={focusedElem:t,selectionRange:r},Yp=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,T=y.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:Li(e.type,m),T);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(C){ir(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return y=gT,gT=!1,y}function Cf(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var a=n.destroy;n.destroy=void 0,a!==void 0&&Fy(e,r,a)}n=n.next}while(n!==i)}}function Tg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function My(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function GS(t){var e=t.alternate;e!==null&&(t.alternate=null,GS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ya],delete e[Jf],delete e[_y],delete e[AI],delete e[CI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qS(t){return t.tag===5||t.tag===3||t.tag===4}function vT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function By(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=em));else if(i!==4&&(t=t.child,t!==null))for(By(t,e,r),t=t.sibling;t!==null;)By(t,e,r),t=t.sibling}function Uy(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Uy(t,e,r),t=t.sibling;t!==null;)Uy(t,e,r),t=t.sibling}var Hr=null,ji=!1;function Rs(t,e,r){for(r=r.child;r!==null;)WS(t,e,r),r=r.sibling}function WS(t,e,r){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(hg,r)}catch{}switch(r.tag){case 5:Zr||Lu(r,e);case 6:var i=Hr,n=ji;Hr=null,Rs(t,e,r),Hr=i,ji=n,Hr!==null&&(ji?(t=Hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(ji?(t=Hr,r=r.stateNode,t.nodeType===8?Q1(t.parentNode,r):t.nodeType===1&&Q1(t,r),$f(t)):Q1(Hr,r.stateNode));break;case 4:i=Hr,n=ji,Hr=r.stateNode.containerInfo,ji=!0,Rs(t,e,r),Hr=i,ji=n;break;case 0:case 11:case 14:case 15:if(!Zr&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var a=n,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Fy(r,e,s),n=n.next}while(n!==i)}Rs(t,e,r);break;case 1:if(!Zr&&(Lu(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(o){ir(r,e,o)}Rs(t,e,r);break;case 21:Rs(t,e,r);break;case 22:r.mode&1?(Zr=(i=Zr)||r.memoizedState!==null,Rs(t,e,r),Zr=i):Rs(t,e,r);break;default:Rs(t,e,r)}}function yT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zI),e.forEach(function(i){var n=ZI.bind(null,t,i);r.has(i)||(r.add(i),i.then(n,n))})}}function Ni(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Hr=o.stateNode,ji=!1;break e;case 3:Hr=o.stateNode.containerInfo,ji=!0;break e;case 4:Hr=o.stateNode.containerInfo,ji=!0;break e}o=o.return}if(Hr===null)throw Error(me(160));WS(a,s,n),Hr=null,ji=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){ir(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$S(e,t),e=e.sibling}function $S(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),aa(t),i&4){try{Cf(3,t,t.return),Tg(3,t)}catch(m){ir(t,t.return,m)}try{Cf(5,t,t.return)}catch(m){ir(t,t.return,m)}}break;case 1:Ni(e,t),aa(t),i&512&&r!==null&&Lu(r,r.return);break;case 5:if(Ni(e,t),aa(t),i&512&&r!==null&&Lu(r,r.return),t.flags&32){var n=t.stateNode;try{zf(n,"")}catch(m){ir(t,t.return,m)}}if(i&4&&(n=t.stateNode,n!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&p8(n,a),uy(o,s);var u=uy(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?b8(n,f):c==="dangerouslySetInnerHTML"?v8(n,f):c==="children"?zf(n,f):db(n,c,f,u)}switch(o){case"input":iy(n,a);break;case"textarea":m8(n,a);break;case"select":var d=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?$u(n,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?$u(n,!!a.multiple,a.defaultValue,!0):$u(n,!!a.multiple,a.multiple?[]:"",!1))}n[Jf]=a}catch(m){ir(t,t.return,m)}}break;case 6:if(Ni(e,t),aa(t),i&4){if(t.stateNode===null)throw Error(me(162));n=t.stateNode,a=t.memoizedProps;try{n.nodeValue=a}catch(m){ir(t,t.return,m)}}break;case 3:if(Ni(e,t),aa(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{$f(e.containerInfo)}catch(m){ir(t,t.return,m)}break;case 4:Ni(e,t),aa(t);break;case 13:Ni(e,t),aa(t),n=t.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(qb=cr())),i&4&&yT(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Zr=(u=Zr)||c,Ni(e,t),Zr=u):Ni(e,t),aa(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ie=t,c=t.child;c!==null;){for(f=Ie=c;Ie!==null;){switch(d=Ie,h=d.child,d.tag){case 0:case 11:case 14:case 15:Cf(4,d,d.return);break;case 1:Lu(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){i=d,r=d.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){ir(i,r,m)}}break;case 5:Lu(d,d.return);break;case 22:if(d.memoizedState!==null){xT(f);continue}}h!==null?(h.return=d,Ie=h):xT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{n=f.stateNode,u?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=y8("display",s))}catch(m){ir(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ir(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ni(e,t),aa(t),i&4&&yT(t);break;case 21:break;default:Ni(e,t),aa(t)}}function aa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qS(r)){var i=r;break e}r=r.return}throw Error(me(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(zf(n,""),i.flags&=-33);var a=vT(t);Uy(t,a,n);break;case 3:case 4:var s=i.stateNode.containerInfo,o=vT(t);By(t,o,s);break;default:throw Error(me(161))}}catch(l){ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qI(t,e,r){Ie=t,QS(t)}function QS(t,e,r){for(var i=(t.mode&1)!==0;Ie!==null;){var n=Ie,a=n.child;if(n.tag===22&&i){var s=n.memoizedState!==null||zh;if(!s){var o=n.alternate,l=o!==null&&o.memoizedState!==null||Zr;o=zh;var u=Zr;if(zh=s,(Zr=l)&&!u)for(Ie=n;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?TT(n):l!==null?(l.return=s,Ie=l):TT(n);for(;a!==null;)Ie=a,QS(a),a=a.sibling;Ie=n,zh=o,Zr=u}bT(t)}else n.subtreeFlags&8772&&a!==null?(a.return=n,Ie=a):bT(t)}}function bT(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zr||Tg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zr)if(r===null)i.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:Li(e.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&rT(e,a,i);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rT(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&$f(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Zr||e.flags&512&&My(e)}catch(d){ir(e,e.return,d)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function xT(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function TT(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Tg(4,e)}catch(l){ir(e,r,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(l){ir(e,n,l)}}var a=e.return;try{My(e)}catch(l){ir(e,a,l)}break;case 5:var s=e.return;try{My(e)}catch(l){ir(e,s,l)}}}catch(l){ir(e,e.return,l)}if(e===t){Ie=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ie=o;break}Ie=e.return}}var WI=Math.ceil,fm=Ss.ReactCurrentDispatcher,zb=Ss.ReactCurrentOwner,wi=Ss.ReactCurrentBatchConfig,mt=0,Lr=null,xr=null,Gr=0,ti=0,Fu=Do(0),Cr=0,id=null,jl=0,wg=0,Gb=0,Pf=null,On=null,qb=0,X0=1/0,Fa=null,dm=!1,jy=null,go=null,Gh=!1,oo=null,hm=0,kf=0,Hy=null,Ep=-1,Sp=0;function En(){return mt&6?cr():Ep!==-1?Ep:Ep=cr()}function vo(t){return t.mode&1?mt&2&&Gr!==0?Gr&-Gr:kI.transition!==null?(Sp===0&&(Sp=I8()),Sp):(t=Et,t!==0||(t=window.event,t=t===void 0?16:B8(t.type)),t):1}function qi(t,e,r,i){if(50<kf)throw kf=0,Hy=null,Error(me(185));$d(t,r,i),(!(mt&2)||t!==Lr)&&(t===Lr&&(!(mt&2)&&(wg|=r),Cr===4&&zs(t,Gr)),Hn(t,i),r===1&&mt===0&&!(e.mode&1)&&(X0=cr()+500,yg&&Io()))}function Hn(t,e){var r=t.callbackNode;kD(t,e);var i=Xp(t,t===Lr?Gr:0);if(i===0)r!==null&&Dx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&Dx(r),e===1)t.tag===0?PI(wT.bind(null,t)):nS(wT.bind(null,t)),EI(function(){!(mt&6)&&Io()}),r=null;else{switch(N8(i)){case 1:r=vb;break;case 4:r=k8;break;case 16:r=Kp;break;case 536870912:r=D8;break;default:r=Kp}r=rA(r,KS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function KS(t,e){if(Ep=-1,Sp=0,mt&6)throw Error(me(327));var r=t.callbackNode;if(Ju()&&t.callbackNode!==r)return null;var i=Xp(t,t===Lr?Gr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=pm(t,i);else{e=i;var n=mt;mt|=2;var a=YS();(Lr!==t||Gr!==e)&&(Fa=null,X0=cr()+500,kl(t,e));do try{KI();break}catch(o){XS(t,o)}while(1);Db(),fm.current=a,mt=n,xr!==null?e=0:(Lr=null,Gr=0,e=Cr)}if(e!==0){if(e===2&&(n=py(t),n!==0&&(i=n,e=Vy(t,n))),e===1)throw r=id,kl(t,0),zs(t,i),Hn(t,cr()),r;if(e===6)zs(t,i);else{if(n=t.current.alternate,!(i&30)&&!$I(n)&&(e=pm(t,i),e===2&&(a=py(t),a!==0&&(i=a,e=Vy(t,a))),e===1))throw r=id,kl(t,0),zs(t,i),Hn(t,cr()),r;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(me(345));case 2:Wo(t,On,Fa);break;case 3:if(zs(t,i),(i&130023424)===i&&(e=qb+500-cr(),10<e)){if(Xp(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){En(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=wy(Wo.bind(null,t,On,Fa),e);break}Wo(t,On,Fa);break;case 4:if(zs(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var s=31-Gi(i);a=1<<s,s=e[s],s>n&&(n=s),i&=~a}if(i=n,i=cr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*WI(i/1960))-i,10<i){t.timeoutHandle=wy(Wo.bind(null,t,On,Fa),i);break}Wo(t,On,Fa);break;case 5:Wo(t,On,Fa);break;default:throw Error(me(329))}}}return Hn(t,cr()),t.callbackNode===r?KS.bind(null,t):null}function Vy(t,e){var r=Pf;return t.current.memoizedState.isDehydrated&&(kl(t,e).flags|=256),t=pm(t,e),t!==2&&(e=On,On=r,e!==null&&zy(e)),t}function zy(t){On===null?On=t:On.push.apply(On,t)}function $I(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],a=n.getSnapshot;n=n.value;try{if(!Qi(a(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zs(t,e){for(e&=~Gb,e&=~wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gi(e),i=1<<r;t[r]=-1,e&=~i}}function wT(t){if(mt&6)throw Error(me(327));Ju();var e=Xp(t,0);if(!(e&1))return Hn(t,cr()),null;var r=pm(t,e);if(t.tag!==0&&r===2){var i=py(t);i!==0&&(e=i,r=Vy(t,i))}if(r===1)throw r=id,kl(t,0),zs(t,e),Hn(t,cr()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wo(t,On,Fa),Hn(t,cr()),null}function Wb(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(X0=cr()+500,yg&&Io())}}function Hl(t){oo!==null&&oo.tag===0&&!(mt&6)&&Ju();var e=mt;mt|=1;var r=wi.transition,i=Et;try{if(wi.transition=null,Et=1,t)return t()}finally{Et=i,wi.transition=r,mt=e,!(mt&6)&&Io()}}function $b(){ti=Fu.current,Gt(Fu)}function kl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_I(r)),xr!==null)for(r=xr.return;r!==null;){var i=r;switch(Cb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&tm();break;case 3:Q0(),Gt(Un),Gt(an),Fb();break;case 5:Lb(i);break;case 4:Q0();break;case 13:Gt(Zt);break;case 19:Gt(Zt);break;case 10:Ib(i.type._context);break;case 22:case 23:$b()}r=r.return}if(Lr=t,xr=t=yo(t.current,null),Gr=ti=e,Cr=0,id=null,Gb=wg=jl=0,On=Pf=null,el!==null){for(e=0;e<el.length;e++)if(r=el[e],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,a=r.pending;if(a!==null){var s=a.next;a.next=n,i.next=s}r.pending=i}el=null}return t}function XS(t,e){do{var r=xr;try{if(Db(),Tp.current=cm,um){for(var i=tr.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}um=!1}if(Ul=0,Ir=Ar=tr=null,Af=!1,td=0,zb.current=null,r===null||r.return===null){Cr=1,id=e,xr=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=uT(s);if(h!==null){h.flags&=-257,cT(h,s,o,a,e),h.mode&1&&lT(a,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){lT(a,u,e),Qb();break e}l=Error(me(426))}}else if(Kt&&o.mode&1){var T=uT(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),cT(T,s,o,a,e),Pb(K0(l,o));break e}}a=l=K0(l,o),Cr!==4&&(Cr=2),Pf===null?Pf=[a]:Pf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=OS(a,l,e);tT(a,b);break e;case 1:o=l;var E=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(go===null||!go.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=RS(a,o,e);tT(a,C);break e}}a=a.return}while(a!==null)}ZS(r)}catch(I){e=I,xr===r&&r!==null&&(xr=r=r.return);continue}break}while(1)}function YS(){var t=fm.current;return fm.current=cm,t===null?cm:t}function Qb(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Lr===null||!(jl&268435455)&&!(wg&268435455)||zs(Lr,Gr)}function pm(t,e){var r=mt;mt|=2;var i=YS();(Lr!==t||Gr!==e)&&(Fa=null,kl(t,e));do try{QI();break}catch(n){XS(t,n)}while(1);if(Db(),mt=r,fm.current=i,xr!==null)throw Error(me(261));return Lr=null,Gr=0,Cr}function QI(){for(;xr!==null;)JS(xr)}function KI(){for(;xr!==null&&!xD();)JS(xr)}function JS(t){var e=tA(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?ZS(t):xr=e,zb.current=null}function ZS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=VI(r,e),r!==null){r.flags&=32767,xr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cr=6,xr=null;return}}else if(r=HI(r,e,ti),r!==null){xr=r;return}if(e=e.sibling,e!==null){xr=e;return}xr=e=t}while(e!==null);Cr===0&&(Cr=5)}function Wo(t,e,r){var i=Et,n=wi.transition;try{wi.transition=null,Et=1,XI(t,e,r,i)}finally{wi.transition=n,Et=i}return null}function XI(t,e,r,i){do Ju();while(oo!==null);if(mt&6)throw Error(me(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(DD(t,a),t===Lr&&(xr=Lr=null,Gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gh||(Gh=!0,rA(Kp,function(){return Ju(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wi.transition,wi.transition=null;var s=Et;Et=1;var o=mt;mt|=4,zb.current=null,GI(t,r),$S(r,t),gI(xy),Yp=!!by,xy=by=null,t.current=r,qI(r),TD(),mt=o,Et=s,wi.transition=a}else t.current=r;if(Gh&&(Gh=!1,oo=t,hm=n),a=t.pendingLanes,a===0&&(go=null),ED(r.stateNode),Hn(t,cr()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(dm)throw dm=!1,t=jy,jy=null,t;return hm&1&&t.tag!==0&&Ju(),a=t.pendingLanes,a&1?t===Hy?kf++:(kf=0,Hy=t):kf=0,Io(),null}function Ju(){if(oo!==null){var t=N8(hm),e=wi.transition,r=Et;try{if(wi.transition=null,Et=16>t?16:t,oo===null)var i=!1;else{if(t=oo,oo=null,hm=0,mt&6)throw Error(me(331));var n=mt;for(mt|=4,Ie=t.current;Ie!==null;){var a=Ie,s=a.child;if(Ie.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ie=u;Ie!==null;){var c=Ie;switch(c.tag){case 0:case 11:case 15:Cf(8,c,a)}var f=c.child;if(f!==null)f.return=c,Ie=f;else for(;Ie!==null;){c=Ie;var d=c.sibling,h=c.return;if(GS(c),c===u){Ie=null;break}if(d!==null){d.return=h,Ie=d;break}Ie=h}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var T=m.sibling;m.sibling=null,m=T}while(m!==null)}}Ie=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ie=s;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cf(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ie=b;break e}Ie=a.return}}var E=t.current;for(Ie=E;Ie!==null;){s=Ie;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ie=A;else e:for(s=E;Ie!==null;){if(o=Ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tg(9,o)}}catch(I){ir(o,o.return,I)}if(o===s){Ie=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,Ie=C;break e}Ie=o.return}}if(mt=n,Io(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(hg,t)}catch{}i=!0}return i}finally{Et=r,wi.transition=e}}return!1}function _T(t,e,r){e=K0(r,e),e=OS(t,e,1),t=mo(t,e,1),e=En(),t!==null&&($d(t,1,e),Hn(t,e))}function ir(t,e,r){if(t.tag===3)_T(t,t,r);else for(;e!==null;){if(e.tag===3){_T(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(go===null||!go.has(i))){t=K0(r,t),t=RS(e,t,1),e=mo(e,t,1),t=En(),e!==null&&($d(e,1,t),Hn(e,t));break}}e=e.return}}function YI(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&r,Lr===t&&(Gr&r)===r&&(Cr===4||Cr===3&&(Gr&130023424)===Gr&&500>cr()-qb?kl(t,0):Gb|=r),Hn(t,e)}function eA(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var r=En();t=gs(t,e),t!==null&&($d(t,e,r),Hn(t,r))}function JI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),eA(t,r)}function ZI(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(me(314))}i!==null&&i.delete(e),eA(t,r)}var tA;tA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Mn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mn=!1,jI(t,e,r);Mn=!!(t.flags&131072)}else Mn=!1,Kt&&e.flags&1048576&&iS(e,im,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;_p(t,e),t=e.pendingProps;var n=q0(e,an.current);Yu(e,r),n=Bb(null,e,i,t,n,r);var a=Ub();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(i)?(a=!0,rm(e)):a=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Ob(e),n.updater=bg,e.stateNode=n,n._reactInternals=e,ky(e,i,t,r),e=Ny(null,e,i,!0,a,r)):(e.tag=0,Kt&&a&&Ab(e),dn(null,e,n,r),e=e.child),e;case 16:i=e.elementType;e:{switch(_p(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=tN(i),t=Li(i,t),n){case 0:e=Iy(null,e,i,t,r);break e;case 1:e=hT(null,e,i,t,r);break e;case 11:e=fT(null,e,i,t,r);break e;case 14:e=dT(null,e,i,Li(i.type,t),r);break e}throw Error(me(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:Li(i,n),Iy(t,e,i,n,r);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:Li(i,n),hT(t,e,i,n,r);case 3:e:{if(BS(e),t===null)throw Error(me(387));i=e.pendingProps,a=e.memoizedState,n=a.element,lS(t,e),om(e,i,null,r);var s=e.memoizedState;if(i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){n=K0(Error(me(423)),e),e=pT(t,e,i,r,n);break e}else if(i!==n){n=K0(Error(me(424)),e),e=pT(t,e,i,r,n);break e}else for(ni=po(e.stateNode.containerInfo.firstChild),ii=e,Kt=!0,Hi=null,r=dS(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(W0(),i===n){e=vs(t,e,r);break e}dn(t,e,i,r)}e=e.child}return e;case 5:return hS(e),t===null&&Ay(e),i=e.type,n=e.pendingProps,a=t!==null?t.memoizedProps:null,s=n.children,Ty(i,n)?s=null:a!==null&&Ty(i,a)&&(e.flags|=32),MS(t,e),dn(t,e,s,r),e.child;case 6:return t===null&&Ay(e),null;case 13:return US(t,e,r);case 4:return Rb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=$0(e,null,i,r):dn(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:Li(i,n),fT(t,e,i,n,r);case 7:return dn(t,e,e.pendingProps,r),e.child;case 8:return dn(t,e,e.pendingProps.children,r),e.child;case 12:return dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,a=e.memoizedProps,s=n.value,Nt(am,i._currentValue),i._currentValue=s,a!==null)if(Qi(a.value,s)){if(a.children===n.children&&!Un.current){e=vs(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(a.tag===1){l=os(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Cy(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(me(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Cy(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}dn(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,Yu(e,r),n=Ai(n),i=i(n),e.flags|=1,dn(t,e,i,r),e.child;case 14:return i=e.type,n=Li(i,e.pendingProps),n=Li(i.type,n),dT(t,e,i,n,r);case 15:return LS(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:Li(i,n),_p(t,e),e.tag=1,jn(i)?(t=!0,rm(e)):t=!1,Yu(e,r),cS(e,i,n),ky(e,i,n,r),Ny(null,e,i,!0,t,r);case 19:return jS(t,e,r);case 22:return FS(t,e,r)}throw Error(me(156,e.tag))};function rA(t,e){return P8(t,e)}function eN(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,r,i){return new eN(t,e,r,i)}function Kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tN(t){if(typeof t=="function")return Kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pb)return 11;if(t===mb)return 14}return 2}function yo(t,e){var r=t.alternate;return r===null?(r=Ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ap(t,e,r,i,n,a){var s=2;if(i=t,typeof t=="function")Kb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Au:return Dl(r.children,n,a,e);case hb:s=8,n|=8;break;case Zv:return t=Ti(12,r,e,n|2),t.elementType=Zv,t.lanes=a,t;case ey:return t=Ti(13,r,e,n),t.elementType=ey,t.lanes=a,t;case ty:return t=Ti(19,r,e,n),t.elementType=ty,t.lanes=a,t;case f8:return _g(r,n,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u8:s=10;break e;case c8:s=9;break e;case pb:s=11;break e;case mb:s=14;break e;case js:s=16,i=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Ti(s,r,e,n),e.elementType=t,e.type=i,e.lanes=a,e}function Dl(t,e,r,i){return t=Ti(7,t,i,e),t.lanes=r,t}function _g(t,e,r,i){return t=Ti(22,t,i,e),t.elementType=f8,t.lanes=r,t.stateNode={isHidden:!1},t}function rv(t,e,r){return t=Ti(6,t,null,e),t.lanes=r,t}function nv(t,e,r){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rN(t,e,r,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M1(0),this.expirationTimes=M1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M1(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Xb(t,e,r,i,n,a,s,o,l){return t=new rN(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ti(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ob(a),t}function nN(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Su,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function nA(t){if(!t)return _o;t=t._reactInternals;e:{if(Xl(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(jn(r))return rS(t,r,e)}return e}function iA(t,e,r,i,n,a,s,o,l){return t=Xb(r,i,!0,t,n,a,s,o,l),t.context=nA(null),r=t.current,i=En(),n=vo(r),a=os(i,n),a.callback=e??null,mo(r,a,n),t.current.lanes=n,$d(t,n,i),Hn(t,i),t}function Eg(t,e,r,i){var n=e.current,a=En(),s=vo(n);return r=nA(r),e.context===null?e.context=r:e.pendingContext=r,e=os(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=mo(n,e,s),t!==null&&(qi(t,n,s,a),xp(t,n,s)),s}function mm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ET(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Yb(t,e){ET(t,e),(t=t.alternate)&&ET(t,e)}function iN(){return null}var aA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jb(t){this._internalRoot=t}Sg.prototype.render=Jb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Eg(t,e,null,null)};Sg.prototype.unmount=Jb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hl(function(){Eg(null,t,null,null)}),e[ms]=null}};function Sg(t){this._internalRoot=t}Sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=L8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vs.length&&e!==0&&e<Vs[r].priority;r++);Vs.splice(r,0,t),r===0&&M8(t)}};function Zb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ST(){}function aN(t,e,r,i,n){if(n){if(typeof i=="function"){var a=i;i=function(){var u=mm(s);a.call(u)}}var s=iA(e,i,t,0,null,!1,!1,"",ST);return t._reactRootContainer=s,t[ms]=s.current,Xf(t.nodeType===8?t.parentNode:t),Hl(),s}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var o=i;i=function(){var u=mm(l);o.call(u)}}var l=Xb(t,0,!1,null,null,!1,!1,"",ST);return t._reactRootContainer=l,t[ms]=l.current,Xf(t.nodeType===8?t.parentNode:t),Hl(function(){Eg(e,l,r,i)}),l}function Cg(t,e,r,i,n){var a=r._reactRootContainer;if(a){var s=a;if(typeof n=="function"){var o=n;n=function(){var l=mm(s);o.call(l)}}Eg(e,s,t,n)}else s=aN(r,e,t,n,i);return mm(s)}O8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sf(e.pendingLanes);r!==0&&(yb(e,r|1),Hn(e,cr()),!(mt&6)&&(X0=cr()+500,Io()))}break;case 13:Hl(function(){var i=gs(t,1);if(i!==null){var n=En();qi(i,t,1,n)}}),Yb(t,1)}};bb=function(t){if(t.tag===13){var e=gs(t,134217728);if(e!==null){var r=En();qi(e,t,134217728,r)}Yb(t,134217728)}};R8=function(t){if(t.tag===13){var e=vo(t),r=gs(t,e);if(r!==null){var i=En();qi(r,t,e,i)}Yb(t,e)}};L8=function(){return Et};F8=function(t,e){var r=Et;try{return Et=t,e()}finally{Et=r}};fy=function(t,e,r){switch(e){case"input":if(iy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=vg(i);if(!n)throw Error(me(90));h8(i),iy(i,n)}}}break;case"textarea":m8(t,r);break;case"select":e=r.value,e!=null&&$u(t,!!r.multiple,e,!1)}};w8=Wb;_8=Hl;var sN={usingClientEntryPoint:!1,Events:[Kd,Du,vg,x8,T8,Wb]},Wc={findFiberByHostInstance:Zo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oN={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A8(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{hg=qh.inject(oN),Aa=qh}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sN;oi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zb(e))throw Error(me(200));return nN(t,e,null,r)};oi.createRoot=function(t,e){if(!Zb(t))throw Error(me(299));var r=!1,i="",n=aA;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=Xb(t,1,!1,null,null,r,!1,i,n),t[ms]=e.current,Xf(t.nodeType===8?t.parentNode:t),new Jb(e)};oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=A8(e),t=t===null?null:t.stateNode,t};oi.flushSync=function(t){return Hl(t)};oi.hydrate=function(t,e,r){if(!Ag(e))throw Error(me(200));return Cg(null,t,e,!0,r)};oi.hydrateRoot=function(t,e,r){if(!Zb(t))throw Error(me(405));var i=r!=null&&r.hydratedSources||null,n=!1,a="",s=aA;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=iA(e,null,t,1,r??null,n,!1,a,s),t[ms]=e.current,Xf(t),i)for(t=0;t<i.length;t++)r=i[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new Sg(e)};oi.render=function(t,e,r){if(!Ag(e))throw Error(me(200));return Cg(null,t,e,!1,r)};oi.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(me(40));return t._reactRootContainer?(Hl(function(){Cg(null,null,t,!1,function(){t._reactRootContainer=null,t[ms]=null})}),!0):!1};oi.unstable_batchedUpdates=Wb;oi.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Ag(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Cg(t,e,r,!1,i)};oi.version="18.2.0-next-9e3b772b8-20220608";function sA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sA)}catch(t){console.error(t)}}sA(),i8.exports=oi;var lN=i8.exports,AT=lN;Yv.createRoot=AT.createRoot,Yv.hydrateRoot=AT.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ad.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const CT="popstate";function uN(t){t===void 0&&(t={});function e(i,n){let{pathname:a,search:s,hash:o}=i.location;return Gy("",{pathname:a,search:s,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:gm(n)}return fN(e,r,null,t)}function wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function e6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cN(){return Math.random().toString(36).substr(2,8)}function PT(t,e){return{usr:t.state,key:t.key,idx:e}}function Gy(t,e,r,i){return r===void 0&&(r=null),ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tc(e):e,{state:r,key:e&&e.key||i||cN()})}function gm(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function fN(t,e,r,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:a=!1}=i,s=n.history,o=lo.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ad({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=lo.Pop;let T=c(),b=T==null?null:T-u;u=T,l&&l({action:o,location:m.location,delta:b})}function d(T,b){o=lo.Push;let E=Gy(m.location,T,b);r&&r(E,T),u=c()+1;let A=PT(E,u),C=m.createHref(E);try{s.pushState(A,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;n.location.assign(C)}a&&l&&l({action:o,location:m.location,delta:1})}function h(T,b){o=lo.Replace;let E=Gy(m.location,T,b);r&&r(E,T),u=c();let A=PT(E,u),C=m.createHref(E);s.replaceState(A,"",C),a&&l&&l({action:o,location:m.location,delta:0})}function y(T){let b=n.location.origin!=="null"?n.location.origin:n.location.href,E=typeof T=="string"?T:gm(T);return wr(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let m={get action(){return o},get location(){return t(n,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(CT,f),l=T,()=>{n.removeEventListener(CT,f),l=null}},createHref(T){return e(n,T)},createURL:y,encodeLocation(T){let b=y(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:h,go(T){return s.go(T)}};return m}var kT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kT||(kT={}));function dN(t,e,r){r===void 0&&(r="/");let i=typeof e=="string"?Tc(e):e,n=t6(i.pathname||"/",r);if(n==null)return null;let a=oA(t);hN(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=wN(a[o],SN(n));return s}function oA(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let n=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(wr(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=bo([i,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(wr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oA(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:xN(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))n(a,s);else for(let l of lA(a.path))n(a,s,l)}),e}function lA(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return n?[a,""]:[a];let s=lA(i.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),n&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function hN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TN(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const pN=/^:\w+$/,mN=3,gN=2,vN=1,yN=10,bN=-2,DT=t=>t==="*";function xN(t,e){let r=t.split("/"),i=r.length;return r.some(DT)&&(i+=bN),e&&(i+=gN),r.filter(n=>!DT(n)).reduce((n,a)=>n+(pN.test(a)?mN:a===""?vN:yN),i)}function TN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,n)=>i===e[n])?t[t.length-1]-e[e.length-1]:0}function wN(t,e){let{routesMeta:r}=t,i={},n="/",a=[];for(let s=0;s<r.length;++s){let o=r[s],l=s===r.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=_N({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let f=o.route;a.push({params:i,pathname:bo([n,c.pathname]),pathnameBase:kN(bo([n,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(n=bo([n,c.pathnameBase]))}return a}function _N(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=EN(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let a=n[0],s=a.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:i.reduce((u,c,f)=>{if(c==="*"){let d=o[f]||"";s=a.slice(0,a.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=AN(o[f]||"",c),u},{}),pathname:a,pathnameBase:s,pattern:t}}function EN(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),e6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(i.push(o),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function SN(t){try{return decodeURI(t)}catch(e){return e6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AN(t,e){try{return decodeURIComponent(t)}catch(r){return e6(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function t6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function CN(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:n=""}=typeof t=="string"?Tc(t):t;return{pathname:r?r.startsWith("/")?r:PN(r,e):e,search:DN(i),hash:IN(n)}}function PN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function iv(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cA(t,e,r,i){i===void 0&&(i=!1);let n;typeof t=="string"?n=Tc(t):(n=ad({},t),wr(!n.pathname||!n.pathname.includes("?"),iv("?","pathname","search",n)),wr(!n.pathname||!n.pathname.includes("#"),iv("#","pathname","hash",n)),wr(!n.search||!n.search.includes("#"),iv("#","search","hash",n)));let a=t===""||n.pathname==="",s=a?"/":n.pathname,o;if(i||s==null)o=r;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;n.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=CN(n,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),kN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fA=["post","put","patch","delete"];new Set(fA);const ON=["get",...fA];new Set(ON);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vm.apply(this,arguments)}const r6=Q.createContext(null),dA=Q.createContext(null),Yl=Q.createContext(null),Pg=Q.createContext(null),No=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),hA=Q.createContext(null);function RN(t,e){let{relative:r}=e===void 0?{}:e;Yd()||wr(!1);let{basename:i,navigator:n}=Q.useContext(Yl),{hash:a,pathname:s,search:o}=i6(t,{relative:r}),l=s;return i!=="/"&&(l=s==="/"?i:bo([i,s])),n.createHref({pathname:l,search:o,hash:a})}function Yd(){return Q.useContext(Pg)!=null}function Jd(){return Yd()||wr(!1),Q.useContext(Pg).location}function pA(t){Q.useContext(Yl).static||Q.useLayoutEffect(t)}function Jl(){let{isDataRoute:t}=Q.useContext(No);return t?$N():LN()}function LN(){Yd()||wr(!1);let t=Q.useContext(r6),{basename:e,navigator:r}=Q.useContext(Yl),{matches:i}=Q.useContext(No),{pathname:n}=Jd(),a=JSON.stringify(uA(i).map(l=>l.pathnameBase)),s=Q.useRef(!1);return pA(()=>{s.current=!0}),Q.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=cA(l,JSON.parse(a),n,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:bo([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,a,n,t])}function n6(){let{matches:t}=Q.useContext(No),e=t[t.length-1];return e?e.params:{}}function i6(t,e){let{relative:r}=e===void 0?{}:e,{matches:i}=Q.useContext(No),{pathname:n}=Jd(),a=JSON.stringify(uA(i).map(s=>s.pathnameBase));return Q.useMemo(()=>cA(t,JSON.parse(a),n,r==="path"),[t,a,n,r])}function FN(t,e){return MN(t,e)}function MN(t,e,r){Yd()||wr(!1);let{navigator:i}=Q.useContext(Yl),{matches:n}=Q.useContext(No),a=n[n.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=Jd(),u;if(e){var c;let m=typeof e=="string"?Tc(e):e;o==="/"||(c=m.pathname)!=null&&c.startsWith(o)||wr(!1),u=m}else u=l;let f=u.pathname||"/",d=o==="/"?f:f.slice(o.length)||"/",h=dN(t,{pathname:d}),y=VN(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:bo([o,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?o:bo([o,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),n,r);return e&&y?Q.createElement(Pg.Provider,{value:{location:vm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lo.Pop}},y):y}function BN(){let t=WN(),e=NN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:n},r):null,a)}const UN=Q.createElement(BN,null);class jN extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?Q.createElement(No.Provider,{value:this.props.routeContext},Q.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HN(t){let{routeContext:e,match:r,children:i}=t,n=Q.useContext(r6);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(No.Provider,{value:e},i)}function VN(t,e,r){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var n;if((n=r)!=null&&n.errors)t=r.matches;else return null}let a=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let o=a.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));o>=0||wr(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((o,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,f=null;r&&(f=l.route.errorElement||UN);let d=e.concat(a.slice(0,u+1)),h=()=>{let y;return c?y=f:l.route.Component?y=Q.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=o,Q.createElement(HN,{match:l,routeContext:{outlet:o,matches:d,isDataRoute:r!=null},children:y})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?Q.createElement(jN,{location:r.location,revalidation:r.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var qy;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(qy||(qy={}));var sd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(sd||(sd={}));function zN(t){let e=Q.useContext(r6);return e||wr(!1),e}function GN(t){let e=Q.useContext(dA);return e||wr(!1),e}function qN(t){let e=Q.useContext(No);return e||wr(!1),e}function mA(t){let e=qN(),r=e.matches[e.matches.length-1];return r.route.id||wr(!1),r.route.id}function WN(){var t;let e=Q.useContext(hA),r=GN(sd.UseRouteError),i=mA(sd.UseRouteError);return e||((t=r.errors)==null?void 0:t[i])}function $N(){let{router:t}=zN(qy.UseNavigateStable),e=mA(sd.UseNavigateStable),r=Q.useRef(!1);return pA(()=>{r.current=!0}),Q.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,vm({fromRouteId:e},a)))},[t,e])}function kr(t){wr(!1)}function QN(t){let{basename:e="/",children:r=null,location:i,navigationType:n=lo.Pop,navigator:a,static:s=!1}=t;Yd()&&wr(!1);let o=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof i=="string"&&(i=Tc(i));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=i,y=Q.useMemo(()=>{let m=t6(u,o);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:n}},[o,u,c,f,d,h,n]);return y==null?null:Q.createElement(Yl.Provider,{value:l},Q.createElement(Pg.Provider,{children:r,value:y}))}function KN(t){let{children:e,location:r}=t;return FN(Wy(e),r)}var IT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(IT||(IT={}));new Promise(()=>{});function Wy(t,e){e===void 0&&(e=[]);let r=[];return Q.Children.forEach(t,(i,n)=>{if(!Q.isValidElement(i))return;let a=[...e,n];if(i.type===Q.Fragment){r.push.apply(r,Wy(i.props.children,a));return}i.type!==kr&&wr(!1),!i.props.index||!i.props.children||wr(!1);let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Wy(i.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ym.apply(this,arguments)}function gA(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function XN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YN(t,e){return t.button===0&&(!e||e==="_self")&&!XN(t)}const JN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ZN=["aria-current","caseSensitive","className","end","style","to","children"],eO="startTransition",NT=Jk[eO];function tO(t){let{basename:e,children:r,future:i,window:n}=t,a=Q.useRef();a.current==null&&(a.current=uN({window:n,v5Compat:!0}));let s=a.current,[o,l]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:u}=i||{},c=Q.useCallback(f=>{u&&NT?NT(()=>l(f)):l(f)},[l,u]);return Q.useLayoutEffect(()=>s.listen(c),[s,c]),Q.createElement(QN,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s})}const rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=Q.forwardRef(function(e,r){let{onClick:i,relative:n,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c}=e,f=gA(e,JN),{basename:d}=Q.useContext(Yl),h,y=!1;if(typeof u=="string"&&nO.test(u)&&(h=u,rO))try{let E=new URL(window.location.href),A=u.startsWith("//")?new URL(E.protocol+u):new URL(u),C=t6(A.pathname,d);A.origin===E.origin&&C!=null?u=C+A.search+A.hash:y=!0}catch{}let m=RN(u,{relative:n}),T=aO(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:n});function b(E){i&&i(E),E.defaultPrevented||T(E)}return Q.createElement("a",ym({},f,{href:h||m,onClick:y||a?i:b,ref:r,target:l}))}),iO=Q.forwardRef(function(e,r){let{"aria-current":i="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:l,children:u}=e,c=gA(e,ZN),f=i6(l,{relative:c.relative}),d=Jd(),h=Q.useContext(dA),{navigator:y}=Q.useContext(Yl),m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,T=d.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(T=T.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase());let E=T===m||!s&&T.startsWith(m)&&T.charAt(m.length)==="/",A=b!=null&&(b===m||!s&&b.startsWith(m)&&b.charAt(m.length)==="/"),C=E?i:void 0,I;typeof a=="function"?I=a({isActive:E,isPending:A}):I=[a,E?"active":null,A?"pending":null].filter(Boolean).join(" ");let R=typeof o=="function"?o({isActive:E,isPending:A}):o;return Q.createElement(pr,ym({},c,{"aria-current":C,className:I,ref:r,style:R,to:l}),typeof u=="function"?u({isActive:E,isPending:A}):u)});var OT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(OT||(OT={}));var RT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(RT||(RT={}));function aO(t,e){let{target:r,replace:i,state:n,preventScrollReset:a,relative:s}=e===void 0?{}:e,o=Jl(),l=Jd(),u=i6(t,{relative:s});return Q.useCallback(c=>{if(YN(c,r)){c.preventDefault();let f=i!==void 0?i:gm(l)===gm(u);o(t,{replace:f,state:n,preventScrollReset:a,relative:s})}},[l,o,u,i,n,r,t,a,s])}const Zd=Q.createContext();function sO({children:t}){const[e,r]=Q.useState(0),i=Q.useMemo(()=>({progress:e,setProgress:r}),[e]);return w.jsx(Zd.Provider,{value:i,children:t})}function vA(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=vA(t[e]))&&(i&&(i+=" "),i+=r);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function uo(){for(var t,e,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(e=vA(t))&&(i&&(i+=" "),i+=e);return i}const Df=t=>typeof t=="number"&&!isNaN(t),Vl=t=>typeof t=="string",Bn=t=>typeof t=="function",Cp=t=>Vl(t)||Bn(t)?t:null,av=t=>Q.isValidElement(t)||Vl(t)||Bn(t)||Df(t);function oO(t,e,r){r===void 0&&(r=300);const{scrollHeight:i,style:n}=t;requestAnimationFrame(()=>{n.minHeight="initial",n.height=i+"px",n.transition=`all ${r}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(e,r)})})}function kg(t){let{enter:e,exit:r,appendPosition:i=!1,collapse:n=!0,collapseDuration:a=300}=t;return function(s){let{children:o,position:l,preventExitTransition:u,done:c,nodeRef:f,isIn:d}=s;const h=i?`${e}--${l}`:e,y=i?`${r}--${l}`:r,m=Q.useRef(0);return Q.useLayoutEffect(()=>{const T=f.current,b=h.split(" "),E=A=>{A.target===f.current&&(T.dispatchEvent(new Event("d")),T.removeEventListener("animationend",E),T.removeEventListener("animationcancel",E),m.current===0&&A.type!=="animationcancel"&&T.classList.remove(...b))};T.classList.add(...b),T.addEventListener("animationend",E),T.addEventListener("animationcancel",E)},[]),Q.useEffect(()=>{const T=f.current,b=()=>{T.removeEventListener("animationend",b),n?oO(T,c,a):c()};d||(u?b():(m.current=1,T.className+=` ${y}`,T.addEventListener("animationend",b)))},[d]),it.createElement(it.Fragment,null,o)}}function LT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const yi={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const r=this.list.get(t).filter(i=>i!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},Wh=t=>{let{theme:e,type:r,...i}=t;return it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},sv={info:function(t){return it.createElement(Wh,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return it.createElement(Wh,{...t},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return it.createElement(Wh,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return it.createElement(Wh,{...t},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return it.createElement("div",{className:"Toastify__spinner"})}};function lO(t){const[,e]=Q.useReducer(h=>h+1,0),[r,i]=Q.useState([]),n=Q.useRef(null),a=Q.useRef(new Map).current,s=h=>r.indexOf(h)!==-1,o=Q.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:s,getToast:h=>a.get(h)}).current;function l(h){let{containerId:y}=h;const{limit:m}=o.props;!m||y&&o.containerId!==y||(o.count-=o.queue.length,o.queue=[])}function u(h){i(y=>h==null?[]:y.filter(m=>m!==h))}function c(){const{toastContent:h,toastProps:y,staleId:m}=o.queue.shift();d(h,y,m)}function f(h,y){let{delay:m,staleId:T,...b}=y;if(!av(h)||function(ne){return!n.current||o.props.enableMultiContainer&&ne.containerId!==o.props.containerId||a.has(ne.toastId)&&ne.updateId==null}(b))return;const{toastId:E,updateId:A,data:C}=b,{props:I}=o,R=()=>u(E),L=A==null;L&&o.count++;const O={...I,style:I.toastStyle,key:o.toastKey++,...Object.fromEntries(Object.entries(b).filter(ne=>{let[oe,_e]=ne;return _e!=null})),toastId:E,updateId:A,data:C,closeToast:R,isIn:!1,className:Cp(b.className||I.toastClassName),bodyClassName:Cp(b.bodyClassName||I.bodyClassName),progressClassName:Cp(b.progressClassName||I.progressClassName),autoClose:!b.isLoading&&(W=b.autoClose,H=I.autoClose,W===!1||Df(W)&&W>0?W:H),deleteToast(){const ne=LT(a.get(E),"removed");a.delete(E),yi.emit(4,ne);const oe=o.queue.length;if(o.count=E==null?o.count-o.displayedToast:o.count-1,o.count<0&&(o.count=0),oe>0){const _e=E==null?o.props.limit:1;if(oe===1||_e===1)o.displayedToast++,c();else{const ie=_e>oe?oe:_e;o.displayedToast=ie;for(let J=0;J<ie;J++)c()}}else e()}};var W,H;O.iconOut=function(ne){let{theme:oe,type:_e,isLoading:ie,icon:J}=ne,le=null;const ee={theme:oe,type:_e};return J===!1||(Bn(J)?le=J(ee):Q.isValidElement(J)?le=Q.cloneElement(J,ee):Vl(J)||Df(J)?le=J:ie?le=sv.spinner():(ce=>ce in sv)(_e)&&(le=sv[_e](ee))),le}(O),Bn(b.onOpen)&&(O.onOpen=b.onOpen),Bn(b.onClose)&&(O.onClose=b.onClose),O.closeButton=I.closeButton,b.closeButton===!1||av(b.closeButton)?O.closeButton=b.closeButton:b.closeButton===!0&&(O.closeButton=!av(I.closeButton)||I.closeButton);let re=h;Q.isValidElement(h)&&!Vl(h.type)?re=Q.cloneElement(h,{closeToast:R,toastProps:O,data:C}):Bn(h)&&(re=h({closeToast:R,toastProps:O,data:C})),I.limit&&I.limit>0&&o.count>I.limit&&L?o.queue.push({toastContent:re,toastProps:O,staleId:T}):Df(m)?setTimeout(()=>{d(re,O,T)},m):d(re,O,T)}function d(h,y,m){const{toastId:T}=y;m&&a.delete(m);const b={content:h,props:y};a.set(T,b),i(E=>[...E,T].filter(A=>A!==m)),yi.emit(4,LT(b,b.props.updateId==null?"added":"updated"))}return Q.useEffect(()=>(o.containerId=t.containerId,yi.cancelEmit(3).on(0,f).on(1,h=>n.current&&u(h)).on(5,l).emit(2,o),()=>{a.clear(),yi.emit(3,o)}),[]),Q.useEffect(()=>{o.props=t,o.isToastActive=s,o.displayedToast=r.length}),{getToastToRender:function(h){const y=new Map,m=Array.from(a.values());return t.newestOnTop&&m.reverse(),m.forEach(T=>{const{position:b}=T.props;y.has(b)||y.set(b,[]),y.get(b).push(T)}),Array.from(y,T=>h(T[0],T[1]))},containerRef:n,isToastActive:s}}function FT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function MT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function uO(t){const[e,r]=Q.useState(!1),[i,n]=Q.useState(!1),a=Q.useRef(null),s=Q.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,o=Q.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:d}=t;function h(C){if(t.draggable){C.nativeEvent.type==="touchstart"&&C.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),document.addEventListener("touchmove",b),document.addEventListener("touchend",E);const I=a.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=I.getBoundingClientRect(),I.style.transition="",s.x=FT(C.nativeEvent),s.y=MT(C.nativeEvent),t.draggableDirection==="x"?(s.start=s.x,s.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(C){if(s.boundingRect){const{top:I,bottom:R,left:L,right:O}=s.boundingRect;C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&s.x>=L&&s.x<=O&&s.y>=I&&s.y<=R?T():m()}}function m(){r(!0)}function T(){r(!1)}function b(C){const I=a.current;s.canDrag&&I&&(s.didMove=!0,e&&T(),s.x=FT(C),s.y=MT(C),s.delta=t.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),I.style.transform=`translate${t.draggableDirection}(${s.delta}px)`,I.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function E(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",E);const C=a.current;if(s.canDrag&&s.didMove&&C){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return n(!0),void t.closeToast();C.style.transition="transform 0.2s, opacity 0.2s",C.style.transform=`translate${t.draggableDirection}(0)`,C.style.opacity="1"}}Q.useEffect(()=>{o.current=t}),Q.useEffect(()=>(a.current&&a.current.addEventListener("d",m,{once:!0}),Bn(t.onOpen)&&t.onOpen(Q.isValidElement(t.children)&&t.children.props),()=>{const C=o.current;Bn(C.onClose)&&C.onClose(Q.isValidElement(C.children)&&C.children.props)}),[]),Q.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||T(),window.addEventListener("focus",m),window.addEventListener("blur",T)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",T))}),[t.pauseOnFocusLoss]);const A={onMouseDown:h,onTouchStart:h,onMouseUp:y,onTouchEnd:y};return l&&u&&(A.onMouseEnter=T,A.onMouseLeave=m),d&&(A.onClick=C=>{f&&f(C),s.canCloseOnClick&&c()}),{playToast:m,pauseToast:T,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:A}}function yA(t){let{closeToast:e,theme:r,ariaLabel:i="close"}=t;return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:n=>{n.stopPropagation(),e(n)},"aria-label":i},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cO(t){let{delay:e,isRunning:r,closeToast:i,type:n="default",hide:a,className:s,style:o,controlledProgress:l,progress:u,rtl:c,isIn:f,theme:d}=t;const h=a||l&&u===0,y={...o,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused",opacity:h?0:1};l&&(y.transform=`scaleX(${u})`);const m=uo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),T=Bn(s)?s({rtl:c,type:n,defaultClassName:m}):uo(m,s);return it.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:y,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&i()}})}const fO=t=>{const{isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:n}=uO(t),{closeButton:a,children:s,autoClose:o,onClick:l,type:u,hideProgressBar:c,closeToast:f,transition:d,position:h,className:y,style:m,bodyClassName:T,bodyStyle:b,progressClassName:E,progressStyle:A,updateId:C,role:I,progress:R,rtl:L,toastId:O,deleteToast:W,isIn:H,isLoading:re,iconOut:ne,closeOnClick:oe,theme:_e}=t,ie=uo("Toastify__toast",`Toastify__toast-theme--${_e}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":oe}),J=Bn(y)?y({rtl:L,position:h,type:u,defaultClassName:ie}):uo(ie,y),le=!!R||!o,ee={closeToast:f,type:u,theme:_e};let ce=null;return a===!1||(ce=Bn(a)?a(ee):Q.isValidElement(a)?Q.cloneElement(a,ee):yA(ee)),it.createElement(d,{isIn:H,done:W,position:h,preventExitTransition:r,nodeRef:i},it.createElement("div",{id:O,onClick:l,className:J,...n,style:m,ref:i},it.createElement("div",{...H&&{role:I},className:Bn(T)?T({type:u}):uo("Toastify__toast-body",T),style:b},ne!=null&&it.createElement("div",{className:uo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!re})},ne),it.createElement("div",null,s)),ce,it.createElement(cO,{...C&&!le?{key:`pb-${C}`}:{},rtl:L,theme:_e,delay:o,isRunning:e,isIn:H,closeToast:f,hide:c,type:u,style:A,className:E,controlledProgress:le,progress:R||0})))},Dg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},dO=kg(Dg("bounce",!0));kg(Dg("slide",!0));kg(Dg("zoom"));kg(Dg("flip"));const $y=Q.forwardRef((t,e)=>{const{getToastToRender:r,containerRef:i,isToastActive:n}=lO(t),{className:a,style:s,rtl:o,containerId:l}=t;function u(c){const f=uo("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":o});return Bn(a)?a({position:c,rtl:o,defaultClassName:f}):uo(f,Cp(a))}return Q.useEffect(()=>{e&&(e.current=i.current)},[]),it.createElement("div",{ref:i,className:"Toastify",id:l},r((c,f)=>{const d=f.length?{...s}:{...s,pointerEvents:"none"};return it.createElement("div",{className:u(c),style:d,key:`container-${c}`},f.map((h,y)=>{let{content:m,props:T}=h;return it.createElement(fO,{...T,isIn:n(T.toastId),style:{...T.style,"--nth":y+1,"--len":f.length},key:`toast-${T.key}`},m)}))}))});$y.displayName="ToastContainer",$y.defaultProps={position:"top-right",transition:dO,autoClose:5e3,closeButton:yA,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ov,$o=new Map,lf=[],hO=1;function bA(){return""+hO++}function pO(t){return t&&(Vl(t.toastId)||Df(t.toastId))?t.toastId:bA()}function If(t,e){return $o.size>0?yi.emit(0,t,e):lf.push({content:t,options:e}),e.toastId}function bm(t,e){return{...e,type:e&&e.type||t,toastId:pO(e)}}function $h(t){return(e,r)=>If(e,bm(t,r))}function Me(t,e){return If(t,bm("default",e))}Me.loading=(t,e)=>If(t,bm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Me.promise=function(t,e,r){let i,{pending:n,error:a,success:s}=e;n&&(i=Vl(n)?Me.loading(n,r):Me.loading(n.render,{...r,...n}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,f,d)=>{if(f==null)return void Me.dismiss(i);const h={type:c,...o,...r,data:d},y=Vl(f)?{render:f}:f;return i?Me.update(i,{...h,...y}):Me(y.render,{...h,...y}),d},u=Bn(t)?t():t;return u.then(c=>l("success",s,c)).catch(c=>l("error",a,c)),u},Me.success=$h("success"),Me.info=$h("info"),Me.error=$h("error"),Me.warning=$h("warning"),Me.warn=Me.warning,Me.dark=(t,e)=>If(t,bm("default",{theme:"dark",...e})),Me.dismiss=t=>{$o.size>0?yi.emit(1,t):lf=lf.filter(e=>t!=null&&e.options.toastId!==t)},Me.clearWaitingQueue=function(t){return t===void 0&&(t={}),yi.emit(5,t)},Me.isActive=t=>{let e=!1;return $o.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},Me.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const r=function(i,n){let{containerId:a}=n;const s=$o.get(a||ov);return s&&s.getToast(i)}(t,e);if(r){const{props:i,content:n}=r,a={delay:100,...i,...e,toastId:e.toastId||t,updateId:bA()};a.toastId!==t&&(a.staleId=t);const s=a.render||n;delete a.render,If(s,a)}},0)},Me.done=t=>{Me.update(t,{progress:1})},Me.onChange=t=>(yi.on(4,t),()=>{yi.off(4,t)}),Me.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Me.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},yi.on(2,t=>{ov=t.containerId||t,$o.set(ov,t),lf.forEach(e=>{yi.emit(0,e.content,e.options)}),lf=[]}).on(3,t=>{$o.delete(t.containerId||t),$o.size===0&&yi.off(0).off(1).off(5)});function Qn(){return(Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var mO=function(){};function xA(t,e){return Math.random()*(e-t+1)+t}function BT(t,e){return Math.floor(xA(t,e))}var gO=Q.forwardRef(function(t,e){var r=t.progress,i=t.height,n=i===void 0?2:i,a=t.className,s=a===void 0?"":a,o=t.color,l=o===void 0?"red":o,u=t.background,c=u===void 0?"transparent":u,f=t.onLoaderFinished,d=t.transitionTime,h=d===void 0?300:d,y=t.loaderSpeed,m=y===void 0?500:y,T=t.waitingTime,b=T===void 0?1e3:T,E=t.shadow,A=E===void 0||E,C=t.containerStyle,I=C===void 0?{}:C,R=t.style,L=R===void 0?{}:R,O=t.shadowStyle,W=O===void 0?{}:O,H=t.containerClassName,re=H===void 0?"":H,ne=Q.useRef(!1),oe=Q.useState(0),_e=oe[0],ie=oe[1],J=Q.useRef({active:!1,refreshRate:1e3}),le=Q.useState(!1),ee=le[0],ce=le[1],de=Q.useState({active:!1,value:20}),Ge=de[0],Ee=de[1],Ze={position:"fixed",top:0,left:0,height:n,background:c,zIndex:99999999999,width:"100%"},Ue={boxShadow:"0 0 10px "+l+", 0 0 10px "+l,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+m+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},dt=Q.useState({height:"100%",background:l,transition:"all "+m+"ms ease",width:"0%"}),he=dt[0],gt=dt[1],Ne=Q.useState(Ue),Tt=Ne[0],gr=Ne[1];Q.useEffect(function(){return ne.current=!0,function(){ne.current=!1}},[]),Q.useImperativeHandle(e,function(){return{continuousStart:function(Re,Ce){if(Ce===void 0&&(Ce=1e3),!Ge.active)if(ee)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Oe=Re||BT(10,20);J.current={active:!0,refreshRate:Ce},ie(Oe),Y(Oe)}},staticStart:function(Re){if(!J.current.active)if(ee)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Ce=Re||BT(30,50);Ee({active:!0,value:Ce}),ie(Ce),Y(Ce)}},complete:function(){ee?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(ie(100),Y(100))}}}),Q.useEffect(function(){gt(Qn({},he,{background:l})),gr(Qn({},Tt,{boxShadow:"0 0 10px "+l+", 0 0 5px "+l}))},[l]),Q.useEffect(function(){if(e){if(e&&r!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);Y(_e),ce(!1)}else r&&Y(r),ce(!0)},[r]);var qn,qt,q,Y=function Re(Ce){Ce>=100?(gt(Qn({},he,{width:"100%"})),A&&gr(Qn({},Tt,{left:Ce-10+"%"})),setTimeout(function(){ne.current&&(gt(Qn({},he,{opacity:0,width:"100%",transition:"all "+h+"ms ease-out",color:l})),setTimeout(function(){ne.current&&(J.current.active&&(J.current=Qn({},J.current,{active:!1}),ie(0),Re(0)),Ge.active&&(Ee(Qn({},Ge,{active:!1})),ie(0),Re(0)),f&&f(),ie(0),Re(0))},h))},b)):(gt(function(Oe){return Qn({},Oe,{width:Ce+"%",opacity:1,transition:Ce>0?"all "+m+"ms ease":""})}),A&&gr(Qn({},Tt,{left:Ce-5.5+"%",transition:Ce>0?"all "+m+"ms ease":""})))};return qn=function(){var Re=xA(Math.min(10,(100-_e)/5),Math.min(20,(100-_e)/3));_e+Re<95&&(ie(_e+Re),Y(_e+Re))},qt=J.current.active?J.current.refreshRate:null,q=Q.useRef(mO),Q.useEffect(function(){q.current=qn}),Q.useEffect(function(){},[void 0]),Q.useEffect(function(){if(qt!==null&&qt!==!1){var Re=setInterval(function(){return q.current()},qt);return function(){return clearInterval(Re)}}},[qt]),Q.createElement("div",{className:re,style:Qn({},Ze,I)},Q.createElement("div",{className:s,style:Qn({},he,L)},A?Q.createElement("div",{style:Qn({},Tt,W)}):null))});function vO(){return w.jsx(pr,{to:"/",children:w.jsx("img",{alt:"Logo",className:"block cursor-pointer",height:100,width:100,src:"/logo.PNG"})})}var TA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UT=it.createContext&&it.createContext(TA),xo=globalThis&&globalThis.__assign||function(){return xo=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},xo.apply(this,arguments)},yO=globalThis&&globalThis.__rest||function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};function wA(t){return t&&t.map(function(e,r){return it.createElement(e.tag,xo({key:r},e.attr),wA(e.child))})}function Ji(t){return function(e){return it.createElement(bO,xo({attr:xo({},t.attr)},e),wA(t.child))}}function bO(t){var e=function(r){var i=t.attr,n=t.size,a=t.title,s=yO(t,["attr","size","title"]),o=n||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),it.createElement("svg",xo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,s,{className:l,style:xo(xo({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&it.createElement("title",null,a),t.children)};return UT!==void 0?it.createElement(UT.Consumer,null,function(r){return e(r)}):e(TA)}function xO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(t)}function TO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M22 18.0048C22 18.5544 21.5544 19 21.0048 19H12.9952C12.4456 19 12 18.5544 12 18.0048C12 17.4552 12.4456 17.0096 12.9952 17.0096H21.0048C21.5544 17.0096 22 17.4552 22 18.0048Z",fill:"currentColor"}},{tag:"path",attr:{d:"M22 12.0002C22 12.5499 21.5544 12.9954 21.0048 12.9954H2.99519C2.44556 12.9954 2 12.5499 2 12.0002C2 11.4506 2.44556 11.0051 2.99519 11.0051H21.0048C21.5544 11.0051 22 11.4506 22 12.0002Z",fill:"currentColor"}},{tag:"path",attr:{d:"M21.0048 6.99039C21.5544 6.99039 22 6.54482 22 5.99519C22 5.44556 21.5544 5 21.0048 5H8.99519C8.44556 5 8 5.44556 8 5.99519C8 6.54482 8.44556 6.99039 8.99519 6.99039H21.0048Z",fill:"currentColor"}}]})(t)}function wO({navigations:t}){const[e,r]=Q.useState(!1);return w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsxs("div",{className:"relative text-left",children:[w.jsx("button",{tabIndex:0,type:"button",className:"flex justify-center text-3xl font-medium text-gray-700 hover:text-gray-900 transition",id:"menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:()=>r(!e),children:e?w.jsx(xO,{}):w.jsx(TO,{})}),e&&w.jsx("div",{className:"absolute right-0 mt-2 w-40 origin-top-right rounded-md bg-white shadow-2xl ring-1 z-50 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:w.jsx("ul",{className:"py-1",children:t.map((i,n)=>w.jsx("li",{children:w.jsx(pr,{to:i.path,className:"mobile-item",onClick:()=>r(!e),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&r(!e)},children:i.name})},n))})})]})})}const jT=[{name:"Home",path:"/"},{name:"Properties",path:"/properties"},{name:"Agreements",path:"/agreements"}];function _O(){return w.jsxs("div",{className:"flex justify-between",children:[w.jsx("nav",{className:"hidden md:ml-auto md:mr-auto md:flex md:flex-wrap md:items-center text-base md:justify-center",children:w.jsx("ul",{className:"md:flex md:gap-x-8",children:jT.map((t,e)=>w.jsx("li",{className:"mr-5 capitalize transition-all items-center hover:text-accent z-50",children:w.jsx(iO,{to:t.path,className:r=>r.isActive?"text-accent":"",children:t.name})},e))})}),w.jsx("div",{className:"md:hidden bottom-0 max-w-xs transition-all",children:w.jsx(wO,{navigations:jT})})]})}function Qy(t){return Ji({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor"}}]})(t)}function EO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 8l-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"}}]})(t)}function SO(){const[t,e]=Q.useState(!1);let r=localStorage.getItem("Istenant"),i=localStorage.getItem("Islandlord"),n=localStorage.getItem("Isstateagent");const a=()=>{r&&localStorage.removeItem("Istenant"),i&&localStorage.removeItem("Islandlord"),n&&localStorage.removeItem("Isstateagent"),r=null,i=null,n=null};return w.jsx("div",{className:"flex items-center justify-end px-4",children:w.jsxs("div",{className:"inline-block items-center relative text-left",children:[w.jsx("button",{type:"button",className:"flex text-3xl font-medium text-gray-700 hover:text-accent",id:"menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:()=>e(!t),children:w.jsx(Qy,{})}),t&&!n&&!i&&!r&&w.jsx("div",{role:"button",tabIndex:0,onClick:()=>e(!t),onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&e(!t)},children:w.jsxs("ul",{className:"mobile-menu",children:[w.jsx("li",{className:"py-1",children:w.jsx(pr,{to:"/login",className:"mobile-item",children:"Login"})}),w.jsx("li",{children:w.jsx(pr,{to:"/register",className:"mobile-item",children:"Register"})})]})}),t&&(n||i||r)&&w.jsx("div",{onClick:()=>e(!t),onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&e(!t)},role:"button",tabIndex:0,children:w.jsxs("ul",{className:"mobile-menu",children:[w.jsx("li",{className:"py-1",children:w.jsxs(pr,{to:"/profile",className:"flex items-center justify-start gap-3 mobile-item",children:[w.jsx(Qy,{className:"text-xl"}),"My Account"]})}),w.jsx("li",{className:"py-1",children:w.jsxs(pr,{to:"/",className:"mobile-item flex items-center justify-start gap-3 mobile-item",onClick:()=>a(),children:[w.jsx(EO,{className:"text-xl"}),"Logout"]})})]})})]})})}function AO(){const[t,e]=Q.useState(!1),r=()=>{window.scrollY>=80?e(!0):e(!1)};return Q.useEffect(()=>()=>{window.addEventListener("scroll",r)},[]),w.jsx("div",{className:"header bg-white",children:w.jsxs("div",{className:"flex w-full justify-between relative items-center",children:[w.jsx(vO,{}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(_O,{}),w.jsx(SO,{})]})]})})}function CO(){return w.jsx("footer",{className:" p-10 bg-[#0a0c3d] text-white gap-4 grid-cols-4 flex flex-col items-center justify-center",children:w.jsx("div",{children:w.jsx("h1",{className:"block text-sm text-gray-500 sm:text-center dark:text-gray-400",children:"Rent Safe - Secure Homes | All credits goes to team."})})})}function PO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function kO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(t)}function DO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function IO(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(t)}function Qh(t){const e="text-blue-500",r="bg-green-500 text-white rounded-full px-2 py-1",i=Jl();return w.jsxs("div",{onClick:()=>{i(`/properties/${t.id}`)},className:`flex z-49 flex-col bg-red\r
                  backdrop-blur-2xl\r
             rounded-3xl gap-5 bg-slate-400/5 items-center border relative border-slate-300/50 hover:bg-slate-400/20 p-5 transition-all duration-200`,children:[w.jsx("div",{className:"img",children:w.jsx("img",{src:t.image,alt:t.name,className:"rounded-3xl max-w-md w-[105%]"})}),w.jsxs("div",{className:"text flex flex-col w-full",children:[w.jsxs("div",{className:"category flex justify-between items-start mb-2",children:[w.jsx("span",{style:{background:t.category==="For Sale"?"#25b5791a":"#ff98001a",color:t.category==="For Sale"?"#25b579":"#ff9800"},children:t.category}),w.jsx(kO,{className:"text-xl"})]}),w.jsx("h2",{className:`text-left capitalize font-bold ${e} text-2xl drop-shadow font-sans shadow-accent mt-2`,children:t.name}),w.jsxs("p",{className:`flex items-center mt-1 ${e} `,children:[w.jsx(DO,{className:"hover:text-blue-600 mr-2 text-xl"}),w.jsx("span",{className:"text-lg",children:t.location})]}),w.jsx("div",{className:"button flex"}),w.jsxs("div",{className:`${e} flex items-center mt-10 ml-1`,children:[w.jsx("div",{className:r,children:t.price}),w.jsx("span",{className:"ml-1",children:"/Month"}),w.jsx("span",{className:`${e} ml-auto`,children:t.type})]})]})]})}const NO="/assets/img1-c0d17686.png",OO="/assets/img2-82cd1df2.png",RO="/assets/img3-ff94dcfb.png",LO="/assets/img4-9fd5b5d6.png";function FO(){return w.jsx("section",{className:"flex flex-col items-center justify-center  bg-[url('/bgsvg.svg')]  min-h-[50vh] w-full",children:w.jsxs("div",{className:" flex flex-col items-center filter w-full  py-24 h-full bg-white/70",children:[w.jsx("h1",{className:"text-5xl blue-gradient font-semibold drop-shadow-lg ",children:"Checkout the Recently listed properties"}),w.jsxs("div",{className:"flex flex-col md:flex-row z-49 p-6 gap-10 justify-between items-center w-[100%]",children:[w.jsx(Qh,{image:NO,name:"Pearl Luxury",location:"Maymar",price:"85,000",type:"Apartment",category:"For rent",id:"65716a535c5b47daa40c4572"}),w.jsx(Qh,{image:OO,name:"Apsara",location:"Nazimabad",price:"60,000",type:"Apartment",category:"For rent",id:2}),w.jsx(Qh,{image:RO,name:"Bridge View",location:"Gulshan",price:"75,000",type:"Apartment",category:"For rent",id:3}),w.jsx(Qh,{image:LO,name:"Sky Tower",location:"Bahria Town",price:"54,000",type:"Apartment",category:"For rent",id:4})]})]})})}const MO=[{name:"Properties",href:"/properties"},{name:"Agreements",href:"/agreements"}],BO=[{name:"Tenants Who Trust Us",value:"1000 +"},{name:"EstateAgent Who Trust Us",value:"1000 +"},{name:"Landlord Who Trust Us",value:"1000 +"}];function _A(){return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"relative isolate overflow-hidden bg-gray-900 py-24 sm:py-32",children:[w.jsx("img",{src:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&crop=focalpoint&fp-y=.8&w=2830&h=1500&q=80&blend=111827&sat=-100&exp=15&blend-mode=multiply",alt:"",className:"absolute inset-0 -z-10 h-full w-full object-cover object-right md:object-center"}),w.jsx("div",{className:"hidden sm:absolute sm:-top-10 sm:right-1/2 sm:-z-10 sm:mr-10 sm:block sm:transform-gpu sm:blur-3xl","aria-hidden":"true",children:w.jsx("div",{className:"aspect-[1097/845] w-[68.5625rem] bg-gradient-to-tr from-[#ff4694] to-[#776fff] opacity-20",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),w.jsx("div",{className:"absolute -top-52 left-1/2 -z-10 -translate-x-1/2 transform-gpu blur-3xl sm:top-[-28rem] sm:ml-16 sm:translate-x-0 sm:transform-gpu","aria-hidden":"true",children:w.jsx("div",{className:"aspect-[1097/845] w-[68.5625rem] bg-gradient-to-tr from-[#ff4694] to-[#776fff] opacity-20",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),w.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[w.jsxs("div",{className:"mx-auto max-w-2xl lg:mx-0",children:[w.jsx("h2",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl ",children:"About Rent Safe"}),w.jsx("p",{className:"mt-6 text-lg leading-8 text-gray-300 text-justify",children:"Welcome to Rent Safe, where your property journey begins with trust and security. At Rent Safe, we believe in revolutionizing the renting experience by providing a secure and transparent platform for landlords, tenants, and state agents. Our commitment to safety is reflected in our blockchain-based smart contracts, ensuring every agreement and transaction is tamper-proof and verifiable. Whether you're a landlord managing your property listings, a tenant seeking a reliable rental, or a state agent facilitating seamless agreements, Rent Safe is your trusted partner. Join us in creating a rental ecosystem where safety and transparency redefine the way we live, rent, and thrive."})]}),w.jsxs("div",{className:"mx-auto mt-10 max-w-2xl lg:mx-0 lg:max-w-none",children:[w.jsx("div",{className:"grid grid-cols-1 gap-x-8 gap-y-6 text-base font-semibold leading-7 text-white sm:grid-cols-2 md:flex lg:gap-x-10",children:MO.map(t=>w.jsxs("a",{href:t.href,children:[t.name," ",w.jsx("span",{"aria-hidden":"true",children:"→"})]},t.name))}),w.jsx("dl",{className:"mt-16 grid grid-cols-1 gap-8 sm:mt-20 sm:grid-cols-2 lg:grid-cols-4",children:BO.map(t=>w.jsxs("div",{className:"flex flex-col-reverse",children:[w.jsx("dt",{className:"text-base leading-7 text-gray-300",children:t.name}),w.jsx("dd",{className:"text-2xl font-bold leading-9 tracking-tight text-white",children:t.value})]},t.name))})]})]})]})})}function UO(){return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex flex-col w-full justify-center",children:[w.jsx(_A,{}),w.jsx(FO,{})]}),w.jsx(CO,{})]})}const jO=({agreementsProp:t=[]})=>{const e=localStorage.getItem("Isstateagent"),r=localStorage.getItem("Islandlord"),i=localStorage.getItem("Istenant");let n;!e&&!r&&!i?n=t.slice(0,4):n=t;function a(s){return s/1e18*810483}return n.map(s=>{const{agreementId:o,rentAmount:l,durationMonths:u,status:c,propertyId:f,estateName:d}=s;return w.jsx(it.Fragment,{children:w.jsxs(pr,{to:`/agreements/${o}`,className:"flex flex-col items-start gap-3 p-5 hover:bg-slate-100 cursor-pointer border-t w-full relative",children:[w.jsxs("div",{className:"flex  flex-col lg:flex-row w-full gap-6 items-center relative",children:[w.jsx("img",{src:"/public/recentproperty/img1.png",className:"aspect-video md:w4 h-40 object-cover rounded-lg",alt:""}),w.jsxs("div",{className:"flex flex-col w-full",children:[w.jsx("h1",{className:"text-xl font-medium text-slate-900",children:a(l)}),w.jsxs("div",{className:"flex my-5",children:[w.jsxs("div",{className:"flex flex-col w-1/2 items-start justify-start gap-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:"propertyId"}),w.jsx("h4",{className:"listing-content-constant company-propertyId",children:f})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:"duration"}),w.jsxs("h4",{className:"listing-content-constant company-propertyId",children:[u," ",u==1?"month":"months"]})]})]}),w.jsxs("div",{className:"flex flex-col w-1/2 items-start justify-start gap-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:"Status"}),w.jsx("h4",{className:"listing-content-constant",children:c})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:"Created By"}),w.jsx("h4",{className:"listing-content-constant",children:d})]})]})]})]})]}),w.jsxs("div",{className:"flex border  bg-accent/5 shadow-sm p-2 text-sm px-2 py-1 rounded-xl",children:["Agreement Id : ",o]})]})},o)})};function EA({filters:t,setProjects:e,setOrganizations:r,setDevelopers:i}){const[n,a]=Q.useState(!1),s=Q.useContext(Zd),{setProgress:o}=s,l=u=>{let c;const f=async()=>{await o(0),await o(30);const y=await fetch(`http://localhost:8000/projects${c}`,{mode:"cors"});await o(60);const m=await y.json();e(m.data),await o(100)},d=async()=>{await o(0),await o(30);const y=await fetch(`http://localhost:8000/organizations${c}`,{mode:"cors"});await o(50);const m=await y.json();await o(70),r(m.data),await o(100)},h=async()=>{await o(0),await o(10);const y=await fetch(`http://localhost:8000/developers${c}`,{mode:"cors"});await o(50);const m=await y.json();await o(70),i(m.data),await o(100)};u.label==="featured"?(c="?featured=true",f()):u.property==="newest_first_project"?(c="?sort=-createdAt",f()):u.label==="Open to work"?(c="?open=true",f()):u.property==="#proj_sort_asc"?(c="?sort=title",f()):u.property==="#proj_sort_dsc"&&(c="?sort=-title",f()),u.property==="#newest_first_dev"?(c="?sort=createdAt",h()):u.property==="#open_to_work_dev"?(c="?openToWork=true",h()):u.property==="#sort_asc_dev"?(c="?sort=fname",h()):u.property==="#sort_dsc_dev"&&(c="?sort=-fname",h()),u.property==="#newest_first_org"?(c="?sort=-createdAt",d()):u.property==="#hiring"?(c="?hiring=true",d()):u.property==="#sort_asc_org"?(c="?sort=name",d()):u.property==="#sort_dsc_org"&&(c="?sort=-name",d()),a(!n)};return w.jsx("div",{className:"flex items-center justify-end px-4",children:w.jsxs("div",{className:"relative inline-block text-left",children:[w.jsxs("button",{type:"button",className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-accent",id:"menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:()=>a(!n),children:["Sort",w.jsx("svg",{className:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n&&w.jsxs("div",{className:"absolute right-0 mt-2 w-40 origin-top-right rounded-md bg-white shadow-2xl ring-1 z-50 ring-black ring-opacity-5 focus:outline-none ",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:[" ",w.jsx("div",{className:"py-1",role:"none",children:t.map((u,c)=>w.jsx("a",{onClick:()=>l(u),href:u.property,className:"font-medium capitalize hover:bg-slate-100 text-gray-900 block px-4 py-2 text-sm",children:u.label},c))})]})]})})}const eh="/assets/loading-12116d91.svg";function SA({searchInput:t,setSearchInput:e,searchPlaceholder:r}){const i=n=>{n.preventDefault(),e({...t,searchString:n.target.value})};return w.jsx("div",{className:"flex gap-0 items-center w-full rounded-xl p-0 h-10 justify-center",children:w.jsx("input",{type:"text",placeholder:r,value:t.searchString,onChange:n=>i(n),className:"px-3 h-full outline-1 border w-full rounded-xl text-center border-slate-300 outline-slate-300/50 "})})}const HO=[{label:"Newest first",property:"#newest_first_org"},{label:"Sort A-Z",property:"#sort_asc_org"},{label:"Sort Z-A",property:"#sort_dsc_org"}];function VO(){const[t,e]=Q.useState([]),[r,i]=Q.useState({searchString:""}),n=localStorage.getItem("Isstateagent"),a=localStorage.getItem("Islandlord"),s=localStorage.getItem("Istenant");Q.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await(await fetch("http://localhost:8000/agreements/getAllAgreements")).json();e(u)}catch(l){console.log(l)}};return w.jsxs("div",{className:"flex flex-col justify-center w-full",children:[w.jsx("div",{className:"gradient z-0"}),w.jsxs("div",{className:"gap-0 z-[1] mt-5",children:[w.jsx("h1",{className:"text-gray-900 text-center text-3xl md:text-4xl font-semibold",children:"Simplifying Rental Agreements for You!"}),w.jsx("h1",{className:"blue-gradient text-center text-3xl md:text-4xl font-semibold",children:"Transparent Terms. Easy Agreements. Hassle-Free Renting."})]}),w.jsx("div",{className:"flex justify-center my-6 relative mx-3",children:w.jsxs("div",{className:"flex lg:w-3/5 flex-col justify-center w-full md:w-4/5 items-start border z-10 border-slate-300  bg-white/50 rounded-2xl py-5",children:[w.jsxs("div",{className:"flex mt-6 w-full justify-between border-b ",children:[w.jsx("h1",{className:"text-2xl text-start font-medium text-slate-800 px-5 my-2",children:"List of Agreements"}),w.jsx(EA,{filters:HO,agreements:t,setagreements:e})]}),w.jsx("div",{className:"flex w-full px-4 py-2",children:w.jsx(SA,{searchInput:r,setSearchInput:i,searchPlaceholder:"Type agreements name to search.."})}),t.length>0?w.jsx(jO,{agreementsProp:t}):w.jsx("div",{className:"flex w-full py-10 justify-center text-slate-500",children:w.jsx("img",{alt:"loader",src:eh})}),!n&&!a&&!s&&t.length>0?w.jsx("h1",{className:" blue-gradient text-center text-3xl md:text-4xl font-semibold ml-5",children:"Please login to see more..."}):null]})})]})}function AA(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z"}}]})(t)}const zO=({propertiesProp:t=[]})=>{const e=localStorage.getItem("Isstateagent"),r=localStorage.getItem("Islandlord"),i=localStorage.getItem("Istenant");let n;return!e&&!r&&!i?n=t.slice(0,4):n=t,n.map((a,s)=>{const{propertyId:o,listingDate:l,description:u,thumbnail:c,floor:f,status:d,stateAgent:h}=a;return w.jsx(it.Fragment,{children:w.jsxs(pr,{to:`/properties/${o}/${l}`,className:"flex flex-col items-start gap-3 p-5 hover:bg-slate-100 cursor-pointer border-t w-full relative",children:[w.jsxs("div",{className:"flex flex-col lg:flex-row w-full gap-6 items-center relative",children:[w.jsx("img",{src:c,className:"flex place-content-start items-start w-full aspect-video  h-48 object-cover rounded-lg"}),w.jsxs("div",{className:"flex flex-col w-full",children:[w.jsx("h1",{className:"text-xl font-medium text-slate-900",children:"Rent Amount"}),w.jsxs("div",{className:"flex my-5",children:[w.jsxs("div",{className:"flex flex-col w-1/2 items-start justify-start gap-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:l}),w.jsx("h4",{className:"listing-content-constant",children:"Listed Date"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:d===0?"Pending":d===1?"Listed":d===2?"Rented":"Delisted"}),w.jsx("h4",{className:"listing-content-constant",children:"Status"})]})]}),w.jsx("div",{className:"flex flex-col w-1/2 items-start justify-start gap-3",children:w.jsxs("div",{children:[w.jsx("h3",{className:"listing-content-data",children:f}),w.jsx("h4",{className:"listing-content-constant",children:"Floor"})]})})]})]})]}),w.jsx("p",{className:"listing-description",children:u}),w.jsxs("div",{className:"flex border  bg-accent/5 shadow-sm p-2 text-sm px-2 py-1 rounded-xl",children:["Posted By :  ",w.jsx("b",{children:h})]})]},s)},s)})},GO="6.11.1";function qO(t,e,r){const i=e.split("|").map(a=>a.trim());for(let a=0;a<i.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const n=new Error(`invalid value for type ${e}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=t,n}async function hn(t){const e=Object.keys(t);return(await Promise.all(e.map(i=>Promise.resolve(t[i])))).reduce((i,n,a)=>(i[e[a]]=n,i),{})}function Qe(t,e,r){for(let i in e){let n=e[i];const a=r?r[i]:null;a&&qO(n,a,i),Object.defineProperty(t,i,{enumerable:!0,value:n,writable:!1})}}function Mu(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Mu).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=e[t[i]>>4],r+=e[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Mu(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Mu(r)}: ${Mu(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function tn(t,e){return t&&t.code===e}function a6(t){return tn(t,"CALL_EXCEPTION")}function br(t,e,r){let i=t;{const a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Mu(r)}`);for(const s in r){if(s==="shortMessage")continue;const o=r[s];a.push(s+"="+Mu(o))}}a.push(`code=${e}`),a.push(`version=${GO}`),a.length&&(t+=" ("+a.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return Qe(n,{code:e}),r&&Object.assign(n,r),n.shortMessage==null&&Qe(n,{shortMessage:i}),n}function fe(t,e,r,i){if(!t)throw br(e,r,i)}function $(t,e,r,i){fe(t,e,"INVALID_ARGUMENT",{argument:r,value:i})}function CA(t,e,r){r==null&&(r=""),r&&(r=": "+r),fe(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),fe(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const WO=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const r=String.fromCharCode(233).normalize("NFD"),i=String.fromCharCode(101,769);if(r!==i)throw new Error("broken")}t.push(e)}catch{}return t},[]);function $O(t){fe(WO.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function Ig(t,e,r){if(r==null&&(r=""),t!==e){let i=r,n="new";r&&(i+=".",n+=" "+r),fe(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:n})}}function PA(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const i=new Uint8Array((t.length-2)/2);let n=2;for(let a=0;a<i.length;a++)i[a]=parseInt(t.substring(n,n+2),16),n+=2;return i}$(!1,"invalid BytesLike value",e||"value",t)}function xt(t,e){return PA(t,e,!1)}function mn(t,e){return PA(t,e,!0)}function Ot(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function QO(t){return Ot(t,!0)||t instanceof Uint8Array}const HT="0123456789abcdef";function je(t){const e=xt(t);let r="0x";for(let i=0;i<e.length;i++){const n=e[i];r+=HT[(n&240)>>4]+HT[n&15]}return r}function mr(t){return"0x"+t.map(e=>je(e).substring(2)).join("")}function Zu(t){return Ot(t,!0)?(t.length-2)/2:xt(t).length}function nr(t,e,r){const i=xt(t);return r!=null&&r>i.length&&fe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),je(i.slice(e??0,r??i.length))}function kA(t,e,r){const i=xt(t);fe(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const n=new Uint8Array(e);return n.fill(0),r?n.set(i,e-i.length):n.set(i,0),je(n)}function zl(t,e){return kA(t,e,!0)}function KO(t,e){return kA(t,e,!1)}const Ng=BigInt(0),zi=BigInt(1),Bu=9007199254740991;function XO(t,e){const r=Og(t,"value"),i=BigInt(at(e,"width"));if(fe(r>>i===Ng,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>i-zi){const n=(zi<<i)-zi;return-((~r&n)+zi)}return r}function DA(t,e){let r=Le(t,"value");const i=BigInt(at(e,"width")),n=zi<<i-zi;if(r<Ng){r=-r,fe(r<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const a=(zi<<i)-zi;return(~r&a)+zi}else fe(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function uf(t,e){const r=Og(t,"value"),i=BigInt(at(e,"bits"));return r&(zi<<i)-zi}function Le(t,e){switch(typeof t){case"bigint":return t;case"number":return $(Number.isInteger(t),"underflow",e||"value",t),$(t>=-Bu&&t<=Bu,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){$(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}$(!1,"invalid BigNumberish value",e||"value",t)}function Og(t,e){const r=Le(t,e);return fe(r>=Ng,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const VT="0123456789abcdef";function s6(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=VT[r>>4],e+=VT[r&15];return BigInt(e)}return Le(t)}function at(t,e){switch(typeof t){case"bigint":return $(t>=-Bu&&t<=Bu,"overflow",e||"value",t),Number(t);case"number":return $(Number.isInteger(t),"underflow",e||"value",t),$(t>=-Bu&&t<=Bu,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return at(BigInt(t),e)}catch(r){$(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}$(!1,"invalid numeric value",e||"value",t)}function YO(t){return at(s6(t))}function Eo(t,e){let i=Og(t,"value").toString(16);if(e==null)i.length%2&&(i="0"+i);else{const n=at(e,"width");for(fe(n*2>=i.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});i.length<n*2;)i="0"+i}return"0x"+i}function xn(t){const e=Og(t,"value");if(e===Ng)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let n=0;n<i.length;n++){const a=n*2;i[n]=parseInt(r.substring(a,a+2),16)}return i}function Uu(t){let e=je(QO(t)?t:xn(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const zT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const GT=BigInt(58);function JO(t){const e=xt(t);let r=s6(e),i="";for(;r;)i=zT[Number(r%GT)]+i,r/=GT;for(let n=0;n<e.length&&!e[n];n++)i=zT[0]+i;return i}function ZO(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return xt(e)}function e7(t){const e=xt(t);let r="";for(let i=0;i<e.length;i++)r+=String.fromCharCode(e[i]);return btoa(r)}var i0;class IA{constructor(e,r,i){X(this,"filter");X(this,"emitter");Z(this,i0,void 0);U(this,i0,r),Qe(this,{emitter:e,filter:i})}async removeListener(){k(this,i0)!=null&&await this.emitter.off(this.filter,k(this,i0))}}i0=new WeakMap;function t7(t,e,r,i,n){$(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function NA(t,e,r,i,n){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let a=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)a++;return a}return t==="OVERRUN"?r.length-e-1:0}function r7(t,e,r,i,n){return t==="OVERLONG"?($(typeof n=="number","invalid bad code point for replacement","badCodepoint",n),i.push(n),0):(i.push(65533),NA(t,e,r))}const n7=Object.freeze({error:t7,ignore:NA,replace:r7});function i7(t,e){e==null&&(e=n7.error);const r=xt(t,"bytes"),i=[];let n=0;for(;n<r.length;){const a=r[n++];if(!(a>>7)){i.push(a);continue}let s=null,o=null;if((a&224)===192)s=1,o=127;else if((a&240)===224)s=2,o=2047;else if((a&248)===240)s=3,o=65535;else{(a&192)===128?n+=e("UNEXPECTED_CONTINUE",n-1,r,i):n+=e("BAD_PREFIX",n-1,r,i);continue}if(n-1+s>=r.length){n+=e("OVERRUN",n-1,r,i);continue}let l=a&(1<<8-s-1)-1;for(let u=0;u<s;u++){let c=r[n];if((c&192)!=128){n+=e("MISSING_CONTINUE",n,r,i),l=null;break}l=l<<6|c&63,n++}if(l!==null){if(l>1114111){n+=e("OUT_OF_RANGE",n-1-s,r,i,l);continue}if(l>=55296&&l<=57343){n+=e("UTF16_SURROGATE",n-1-s,r,i,l);continue}if(l<=o){n+=e("OVERLONG",n-1-s,r,i,l);continue}i.push(l)}}return i}function _i(t,e){$(typeof t=="string","invalid string value","str",t),e!=null&&($O(e),t=t.normalize(e));let r=[];for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const a=t.charCodeAt(i);$(i<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((n&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return new Uint8Array(r)}function a7(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function xm(t,e){return a7(i7(t,e))}function OA(t){async function e(r,i){const n=r.url.split(":")[0].toLowerCase();fe(n==="http"||n==="https",`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),fe(n==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a;if(i){const f=new AbortController;a=f.signal,i.addListener(()=>{f.abort()})}const s={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a},o=await fetch(r.url,s),l={};o.headers.forEach((f,d)=>{l[d.toLowerCase()]=f});const u=await o.arrayBuffer(),c=u==null?null:new Uint8Array(u);return{statusCode:o.status,statusMessage:o.statusText,headers:l,body:c}}return e}const s7=12,o7=250;let qT=OA();const l7=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),u7=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let lv=!1;async function RA(t,e){try{const r=t.match(l7);if(!r)throw new Error("invalid data");return new To(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?ZO(r[3]):f7(r[3]))}catch{return new To(599,"BAD REQUEST (invalid data: URI)",{},null,new So(t))}}function LA(t){async function e(r,i){try{const n=r.match(u7);if(!n)throw new Error("invalid link");return new So(`${t}${n[2]}`)}catch{return new To(599,"BAD REQUEST (invalid IPFS URI)",{},null,new So(r))}}return e}const Kh={data:RA,ipfs:LA("https://gateway.ipfs.io/ipfs/")},FA=new WeakMap;var sl,Gs;class c7{constructor(e){Z(this,sl,void 0);Z(this,Gs,void 0);U(this,sl,[]),U(this,Gs,!1),FA.set(e,()=>{if(!k(this,Gs)){U(this,Gs,!0);for(const r of k(this,sl))setTimeout(()=>{r()},0);U(this,sl,[])}})}addListener(e){fe(!k(this,Gs),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),k(this,sl).push(e)}get cancelled(){return k(this,Gs)}checkSignal(){fe(!this.cancelled,"cancelled","CANCELLED",{})}}sl=new WeakMap,Gs=new WeakMap;function Xh(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var a0,s0,Mi,za,o0,l0,Dr,Yn,Ga,ol,ll,ul,ua,qa,qs,cl,cf;const ig=class ig{constructor(e){Z(this,cl);Z(this,a0,void 0);Z(this,s0,void 0);Z(this,Mi,void 0);Z(this,za,void 0);Z(this,o0,void 0);Z(this,l0,void 0);Z(this,Dr,void 0);Z(this,Yn,void 0);Z(this,Ga,void 0);Z(this,ol,void 0);Z(this,ll,void 0);Z(this,ul,void 0);Z(this,ua,void 0);Z(this,qa,void 0);Z(this,qs,void 0);U(this,l0,String(e)),U(this,a0,!1),U(this,s0,!0),U(this,Mi,{}),U(this,za,""),U(this,o0,3e5),U(this,qa,{slotInterval:o7,maxAttempts:s7}),U(this,qs,null)}get url(){return k(this,l0)}set url(e){U(this,l0,String(e))}get body(){return k(this,Dr)==null?null:new Uint8Array(k(this,Dr))}set body(e){if(e==null)U(this,Dr,void 0),U(this,Yn,void 0);else if(typeof e=="string")U(this,Dr,_i(e)),U(this,Yn,"text/plain");else if(e instanceof Uint8Array)U(this,Dr,e),U(this,Yn,"application/octet-stream");else if(typeof e=="object")U(this,Dr,_i(JSON.stringify(e))),U(this,Yn,"application/json");else throw new Error("invalid body")}hasBody(){return k(this,Dr)!=null}get method(){return k(this,za)?k(this,za):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),U(this,za,String(e).toUpperCase())}get headers(){const e=Object.assign({},k(this,Mi));return k(this,Ga)&&(e.authorization=`Basic ${e7(_i(k(this,Ga)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&k(this,Yn)&&(e["content-type"]=k(this,Yn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){k(this,Mi)[String(e).toLowerCase()]=String(r)}clearHeaders(){U(this,Mi,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let i=0;return{next:()=>{if(i<r.length){const n=r[i++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return k(this,Ga)||null}setCredentials(e,r){$(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),U(this,Ga,`${e}:${r}`)}get allowGzip(){return k(this,s0)}set allowGzip(e){U(this,s0,!!e)}get allowInsecureAuthentication(){return!!k(this,a0)}set allowInsecureAuthentication(e){U(this,a0,!!e)}get timeout(){return k(this,o0)}set timeout(e){$(e>=0,"timeout must be non-zero","timeout",e),U(this,o0,e)}get preflightFunc(){return k(this,ol)||null}set preflightFunc(e){U(this,ol,e)}get processFunc(){return k(this,ll)||null}set processFunc(e){U(this,ll,e)}get retryFunc(){return k(this,ul)||null}set retryFunc(e){U(this,ul,e)}get getUrlFunc(){return k(this,qs)||qT}set getUrlFunc(e){U(this,qs,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${k(this,Dr)?je(k(this,Dr)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(k(this,qa).slotInterval=e.slotInterval),e.maxAttempts!=null&&(k(this,qa).maxAttempts=e.maxAttempts)}send(){return fe(k(this,ua)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),U(this,ua,new c7(this)),Pe(this,cl,cf).call(this,0,WT()+this.timeout,0,this,new To(0,"",{},null,this))}cancel(){fe(k(this,ua)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=FA.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),i=e.split(":")[0].toLowerCase();fe(this.method==="GET"&&(r!=="https"||i!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const n=new ig(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,U(n,Mi,Object.assign({},k(this,Mi))),k(this,Dr)&&U(n,Dr,new Uint8Array(k(this,Dr))),U(n,Yn,k(this,Yn)),n}clone(){const e=new ig(this.url);return U(e,za,k(this,za)),k(this,Dr)&&U(e,Dr,k(this,Dr)),U(e,Yn,k(this,Yn)),U(e,Mi,Object.assign({},k(this,Mi))),U(e,Ga,k(this,Ga)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),U(e,ol,k(this,ol)),U(e,ll,k(this,ll)),U(e,ul,k(this,ul)),U(e,qs,k(this,qs)),e}static lockConfig(){lv=!0}static getGateway(e){return Kh[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(lv)throw new Error("gateways locked");Kh[e]=r}static registerGetUrl(e){if(lv)throw new Error("gateways locked");qT=e}static createGetUrlFunc(e){return OA()}static createDataGateway(){return RA}static createIpfsGatewayFunc(e){return LA(e)}};a0=new WeakMap,s0=new WeakMap,Mi=new WeakMap,za=new WeakMap,o0=new WeakMap,l0=new WeakMap,Dr=new WeakMap,Yn=new WeakMap,Ga=new WeakMap,ol=new WeakMap,ll=new WeakMap,ul=new WeakMap,ua=new WeakMap,qa=new WeakMap,qs=new WeakMap,cl=new WeakSet,cf=async function(e,r,i,n,a){var c,f,d;if(e>=k(this,qa).maxAttempts)return a.makeServerError("exceeded maximum retry limit");fe(WT()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),i>0&&await d7(i);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in Kh){const h=await Kh[o](s.url,Xh(k(n,ua)));if(h instanceof To){let y=h;if(this.processFunc){Xh(k(n,ua));try{y=await this.processFunc(s,y)}catch(m){(m.throttle==null||typeof m.stall!="number")&&y.makeServerError("error in post-processing function",m).assertOk()}}return y}s=h}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,Xh(k(n,ua)));let u=new To(l.statusCode,l.statusMessage,l.headers,l.body,n);if(u.statusCode===301||u.statusCode===302){try{const h=u.headers.location||"";return Pe(c=s.redirect(h),cl,cf).call(c,e+1,r,0,n,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,u,e))){const h=u.headers["retry-after"];let y=k(this,qa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof h=="string"&&h.match(/^[1-9][0-9]*$/)&&(y=parseInt(h)),Pe(f=s.clone(),cl,cf).call(f,e+1,r,y,n,u)}if(this.processFunc){Xh(k(n,ua));try{u=await this.processFunc(s,u)}catch(h){(h.throttle==null||typeof h.stall!="number")&&u.makeServerError("error in post-processing function",h).assertOk();let y=k(this,qa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(y=h.stall),Pe(d=s.clone(),cl,cf).call(d,e+1,r,y,n,u)}}return u};let So=ig;var Pd,kd,Dd,Jn,u0,fl;const z5=class z5{constructor(e,r,i,n,a){Z(this,Pd,void 0);Z(this,kd,void 0);Z(this,Dd,void 0);Z(this,Jn,void 0);Z(this,u0,void 0);Z(this,fl,void 0);U(this,Pd,e),U(this,kd,r),U(this,Dd,Object.keys(i).reduce((s,o)=>(s[o.toLowerCase()]=String(i[o]),s),{})),U(this,Jn,n==null?null:new Uint8Array(n)),U(this,u0,a||null),U(this,fl,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${k(this,Jn)?je(k(this,Jn)):"null"}>`}get statusCode(){return k(this,Pd)}get statusMessage(){return k(this,kd)}get headers(){return Object.assign({},k(this,Dd))}get body(){return k(this,Jn)==null?null:new Uint8Array(k(this,Jn))}get bodyText(){try{return k(this,Jn)==null?"":xm(k(this,Jn))}catch{fe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{fe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let i=0;return{next:()=>{if(i<r.length){const n=r[i++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let i;e?i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,i=`CLIENT ESCALATED SERVER ERROR (${e})`);const n=new z5(599,i,this.headers,this.body,k(this,u0)||void 0);return U(n,fl,{message:e,error:r}),n}throwThrottleError(e,r){r==null?r=-1:$(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const i=new Error(e||"throttling requests");throw Qe(i,{stall:r,throttle:!0}),i}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return k(this,Jn)!=null}get request(){return k(this,u0)}ok(){return k(this,fl).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=k(this,fl);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let n=null;try{k(this,Jn)&&(n=xm(k(this,Jn)))}catch{}fe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:i,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Pd=new WeakMap,kd=new WeakMap,Dd=new WeakMap,Jn=new WeakMap,u0=new WeakMap,fl=new WeakMap;let To=z5;function WT(){return new Date().getTime()}function f7(t){return _i(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function d7(t){return new Promise(e=>setTimeout(e,t))}function h7(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function $T(t,e,r){let i=0;for(let n=0;n<r;n++)i=i*256+t[e+n];return i}function QT(t,e,r,i){const n=[];for(;r<e+1+i;){const a=MA(t,r);n.push(a.result),r+=a.consumed,fe(r<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:t,length:i,offset:e})}return{consumed:1+i,result:n}}function MA(t,e){fe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=i=>{fe(i<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:i})};if(t[e]>=248){const i=t[e]-247;r(e+1+i);const n=$T(t,e+1,i);return r(e+1+i+n),QT(t,e,e+1+i,i+n)}else if(t[e]>=192){const i=t[e]-192;return r(e+1+i),QT(t,e,e+1,i)}else if(t[e]>=184){const i=t[e]-183;r(e+1+i);const n=$T(t,e+1,i);r(e+1+i+n);const a=je(t.slice(e+1+i,e+1+i+n));return{consumed:1+i+n,result:a}}else if(t[e]>=128){const i=t[e]-128;r(e+1+i);const n=je(t.slice(e+1,e+1+i));return{consumed:1+i,result:n}}return{consumed:1,result:h7(t[e])}}function Rg(t){const e=xt(t,"data"),r=MA(e,0);return $(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function KT(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function BA(t){if(Array.isArray(t)){let i=[];if(t.forEach(function(a){i=i.concat(BA(a))}),i.length<=55)return i.unshift(192+i.length),i;const n=KT(i.length);return n.unshift(247+n.length),n.concat(i)}const e=Array.prototype.slice.call(xt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=KT(e.length);return r.unshift(183+r.length),r.concat(e)}const XT="0123456789abcdef";function Y0(t){let e="0x";for(const r of BA(t))e+=XT[r>>4],e+=XT[r&15];return e}const Tn=32,Ky=new Uint8Array(Tn),p7=["then"],Yh={};function $c(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}var Ws;const jf=class jf extends Array{constructor(...r){const i=r[0];let n=r[1],a=(r[2]||[]).slice(),s=!0;i!==Yh&&(n=r,a=[],s=!1);super(n.length);Z(this,Ws,void 0);n.forEach((l,u)=>{this[u]=l});const o=a.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(U(this,Ws,Object.freeze(n.map((l,u)=>{const c=a[u];return c!=null&&o.get(c)===1?c:null}))),!!s)return Object.freeze(this),new Proxy(this,{get:(l,u,c)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const d=at(u,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");const h=l[d];return h instanceof Error&&$c(`index ${d}`,h),h}if(p7.indexOf(u)>=0)return Reflect.get(l,u,c);const f=l[u];if(f instanceof Function)return function(...d){return f.apply(this===c?l:this,d)};if(!(u in l))return l.getValue.apply(this===c?l:this,[u])}return Reflect.get(l,u,c)}})}toArray(){const r=[];return this.forEach((i,n)=>{i instanceof Error&&$c(`index ${n}`,i),r.push(i)}),r}toObject(){return k(this,Ws).reduce((r,i,n)=>(fe(i!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),i in r||(r[i]=this.getValue(i)),r),{})}slice(r,i){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),i==null&&(i=this.length),i<0&&(i+=this.length,i<0&&(i=0)),i>this.length&&(i=this.length);const n=[],a=[];for(let s=r;s<i;s++)n.push(this[s]),a.push(k(this,Ws)[s]);return new jf(Yh,n,a)}filter(r,i){const n=[],a=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&$c(`index ${s}`,o),r.call(i,o,s,this)&&(n.push(o),a.push(k(this,Ws)[s]))}return new jf(Yh,n,a)}map(r,i){const n=[];for(let a=0;a<this.length;a++){const s=this[a];s instanceof Error&&$c(`index ${a}`,s),n.push(r.call(i,s,a,this))}return n}getValue(r){const i=k(this,Ws).indexOf(r);if(i===-1)return;const n=this[i];return n instanceof Error&&$c(`property ${JSON.stringify(r)}`,n.error),n}static fromItems(r,i){return new jf(Yh,r,i)}};Ws=new WeakMap;let Tm=jf;function YT(t){let e=xn(t);return fe(e.length<=Tn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Tn,offset:e.length}),e.length!==Tn&&(e=mn(mr([Ky.slice(e.length%Tn),e]))),e}class As{constructor(e,r,i,n){X(this,"name");X(this,"type");X(this,"localName");X(this,"dynamic");Qe(this,{name:e,type:r,localName:i,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){$(!1,e,this.localName,r)}}var Wa,dl,c0,Pp;class Xy{constructor(){Z(this,c0);Z(this,Wa,void 0);Z(this,dl,void 0);U(this,Wa,[]),U(this,dl,0)}get data(){return mr(k(this,Wa))}get length(){return k(this,dl)}appendWriter(e){return Pe(this,c0,Pp).call(this,mn(e.data))}writeBytes(e){let r=mn(e);const i=r.length%Tn;return i&&(r=mn(mr([r,Ky.slice(i)]))),Pe(this,c0,Pp).call(this,r)}writeValue(e){return Pe(this,c0,Pp).call(this,YT(e))}writeUpdatableValue(){const e=k(this,Wa).length;return k(this,Wa).push(Ky),U(this,dl,k(this,dl)+Tn),r=>{k(this,Wa)[e]=YT(r)}}}Wa=new WeakMap,dl=new WeakMap,c0=new WeakSet,Pp=function(e){return k(this,Wa).push(e),U(this,dl,k(this,dl)+e.length),e.length};var Pn,Zn,hl,pl,$s,Id,Jy,ag,UA;const G5=class G5{constructor(e,r,i){Z(this,Id);Z(this,ag);X(this,"allowLoose");Z(this,Pn,void 0);Z(this,Zn,void 0);Z(this,hl,void 0);Z(this,pl,void 0);Z(this,$s,void 0);Qe(this,{allowLoose:!!r}),U(this,Pn,mn(e)),U(this,hl,0),U(this,pl,null),U(this,$s,i??1024),U(this,Zn,0)}get data(){return je(k(this,Pn))}get dataLength(){return k(this,Pn).length}get consumed(){return k(this,Zn)}get bytes(){return new Uint8Array(k(this,Pn))}subReader(e){const r=new G5(k(this,Pn).slice(k(this,Zn)+e),this.allowLoose,k(this,$s));return U(r,pl,this),r}readBytes(e,r){let i=Pe(this,ag,UA).call(this,0,e,!!r);return Pe(this,Id,Jy).call(this,e),U(this,Zn,k(this,Zn)+i.length),i.slice(0,e)}readValue(){return s6(this.readBytes(Tn))}readIndex(){return YO(this.readBytes(Tn))}};Pn=new WeakMap,Zn=new WeakMap,hl=new WeakMap,pl=new WeakMap,$s=new WeakMap,Id=new WeakSet,Jy=function(e){var r;if(k(this,pl))return Pe(r=k(this,pl),Id,Jy).call(r,e);U(this,hl,k(this,hl)+e),fe(k(this,$s)<1||k(this,hl)<=k(this,$s)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${k(this,$s)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:mn(k(this,Pn)),offset:k(this,Zn),length:e,info:{bytesRead:k(this,hl),dataLength:this.dataLength}})},ag=new WeakSet,UA=function(e,r,i){let n=Math.ceil(r/Tn)*Tn;return k(this,Zn)+n>k(this,Pn).length&&(this.allowLoose&&i&&k(this,Zn)+r<=k(this,Pn).length?n=r:fe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:mn(k(this,Pn)),length:k(this,Pn).length,offset:k(this,Zn)+n})),k(this,Pn).slice(k(this,Zn),k(this,Zn)+n)};let Yy=G5;function wm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function o6(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function m7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wm(t.outputLen),wm(t.blockLen)}function J0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jA(t,e){o6(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const uv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HA=t=>t instanceof Uint8Array,g7=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),cv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),sa=(t,e)=>t<<32-e|t>>>e,v7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!v7)throw new Error("Non little-endian hardware is not supported");function y7(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lg(t){if(typeof t=="string"&&(t=y7(t)),!HA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function b7(...t){const e=new Uint8Array(t.reduce((i,n)=>i+n.length,0));let r=0;return t.forEach(i=>{if(!HA(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class l6{clone(){return this._cloneInto()}}function VA(t){const e=i=>t().update(Lg(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function x7(t=32){if(uv&&typeof uv.getRandomValues=="function")return uv.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class zA extends l6{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,m7(e);const i=Lg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,a=new Uint8Array(n);a.set(i.length>n?e.create().update(i).digest():i);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return J0(this),this.iHash.update(e),this}digestInto(e){J0(this),o6(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:n,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=n,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const GA=(t,e,r)=>new zA(t,e).update(r).digest();GA.create=(t,e)=>new zA(t,e);function T7(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const n=BigInt(32),a=BigInt(4294967295),s=Number(r>>n&a),o=Number(r&a),l=i?4:0,u=i?0:4;t.setUint32(e+l,s,i),t.setUint32(e+u,o,i)}class w7 extends l6{constructor(e,r,i,n){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cv(this.buffer)}update(e){J0(this);const{view:r,buffer:i,blockLen:n}=this;e=Lg(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(n-this.pos,a-s);if(o===n){const l=cv(e);for(;n<=a-s;s+=n)this.process(l,s);continue}i.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){J0(this),jA(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:n,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(i,0),s=0);for(let f=s;f<n;f++)r[f]=0;T7(i,n-8,BigInt(this.length*8),a),this.process(i,0);const o=cv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,c[f],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:n,finished:a,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=a,e.destroyed=s,n%r&&e.buffer.set(i),e}}const _7=(t,e,r)=>t&e^~t&r,E7=(t,e,r)=>t&e^t&r^e&r,S7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ls=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fs=new Uint32Array(64);class A7 extends w7{constructor(){super(64,32,8,!1),this.A=Ls[0]|0,this.B=Ls[1]|0,this.C=Ls[2]|0,this.D=Ls[3]|0,this.E=Ls[4]|0,this.F=Ls[5]|0,this.G=Ls[6]|0,this.H=Ls[7]|0}get(){const{A:e,B:r,C:i,D:n,E:a,F:s,G:o,H:l}=this;return[e,r,i,n,a,s,o,l]}set(e,r,i,n,a,s,o,l){this.A=e|0,this.B=r|0,this.C=i|0,this.D=n|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)Fs[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=Fs[f-15],h=Fs[f-2],y=sa(d,7)^sa(d,18)^d>>>3,m=sa(h,17)^sa(h,19)^h>>>10;Fs[f]=m+Fs[f-7]+y+Fs[f-16]|0}let{A:i,B:n,C:a,D:s,E:o,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const d=sa(o,6)^sa(o,11)^sa(o,25),h=c+d+_7(o,l,u)+S7[f]+Fs[f]|0,m=(sa(i,2)^sa(i,13)^sa(i,22))+E7(i,n,a)|0;c=u,u=l,l=o,o=s+h|0,s=a,a=n,n=i,i=h+m|0}i=i+this.A|0,n=n+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(i,n,a,s,o,l,u,c)}roundClean(){Fs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const C7=VA(()=>new A7),Jh=BigInt(2**32-1),JT=BigInt(32);function P7(t,e=!1){return e?{h:Number(t&Jh),l:Number(t>>JT&Jh)}:{h:Number(t>>JT&Jh)|0,l:Number(t&Jh)|0}}function k7(t,e=!1){let r=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let n=0;n<t.length;n++){const{h:a,l:s}=P7(t[n],e);[r[n],i[n]]=[a,s]}return[r,i]}const D7=(t,e,r)=>t<<r|e>>>32-r,I7=(t,e,r)=>e<<r|t>>>32-r,N7=(t,e,r)=>e<<r-32|t>>>64-r,O7=(t,e,r)=>t<<r-32|e>>>64-r,[qA,WA,$A]=[[],[],[]],R7=BigInt(0),Qc=BigInt(1),L7=BigInt(2),F7=BigInt(7),M7=BigInt(256),B7=BigInt(113);for(let t=0,e=Qc,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],qA.push(2*(5*i+r)),WA.push((t+1)*(t+2)/2%64);let n=R7;for(let a=0;a<7;a++)e=(e<<Qc^(e>>F7)*B7)%M7,e&L7&&(n^=Qc<<(Qc<<BigInt(a))-Qc);$A.push(n)}const[U7,j7]=k7($A,!0),ZT=(t,e,r)=>r>32?N7(t,e,r):D7(t,e,r),ew=(t,e,r)=>r>32?O7(t,e,r):I7(t,e,r);function H7(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=r[l],c=r[l+1],f=ZT(u,c,1)^r[o],d=ew(u,c,1)^r[o+1];for(let h=0;h<50;h+=10)t[s+h]^=f,t[s+h+1]^=d}let n=t[2],a=t[3];for(let s=0;s<24;s++){const o=WA[s],l=ZT(n,a,o),u=ew(n,a,o),c=qA[s];n=t[c],a=t[c+1],t[c]=l,t[c+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=U7[i],t[1]^=j7[i]}r.fill(0)}class u6 extends l6{constructor(e,r,i,n=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=n,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,wm(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=g7(this.state)}keccak(){H7(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){J0(this);const{blockLen:r,state:i}=this;e=Lg(e);const n=e.length;for(let a=0;a<n;){const s=Math.min(r-this.pos,n-a);for(let o=0;o<s;o++)i[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:n}=this;e[i]^=r,r&128&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){J0(this,!1),o6(e),this.finish();const r=this.state,{blockLen:i}=this;for(let n=0,a=e.length;n<a;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,a-n);e.set(r.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:n,rounds:a,enableXOF:s}=this;return e||(e=new u6(r,i,n,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=i,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const V7=(t,e,r)=>VA(()=>new u6(e,t,r)),z7=V7(1,136,256/8);let QA=!1;const KA=function(t){return z7(t)};let XA=KA;function Vt(t){const e=xt(t,"data");return je(XA(e))}Vt._=KA;Vt.lock=function(){QA=!0};Vt.register=function(t){if(QA)throw new TypeError("keccak256 is locked");XA=t};Object.freeze(Vt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YA=BigInt(0),Fg=BigInt(1),G7=BigInt(2),Mg=t=>t instanceof Uint8Array,q7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Z0(t){if(!Mg(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=q7[t[r]];return e}function JA(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function c6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ec(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){const n=i*2,a=t.slice(n,n+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}function Il(t){return c6(Z0(t))}function f6(t){if(!Mg(t))throw new Error("Uint8Array expected");return c6(Z0(Uint8Array.from(t).reverse()))}function tc(t,e){return ec(t.toString(16).padStart(e*2,"0"))}function d6(t,e){return tc(t,e).reverse()}function W7(t){return ec(JA(t))}function Fi(t,e,r){let i;if(typeof e=="string")try{i=ec(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Mg(e))i=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const n=i.length;if(typeof r=="number"&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return i}function od(...t){const e=new Uint8Array(t.reduce((i,n)=>i+n.length,0));let r=0;return t.forEach(i=>{if(!Mg(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function $7(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Q7(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function K7(t){let e;for(e=0;t>YA;t>>=Fg,e+=1);return e}function X7(t,e){return t>>BigInt(e)&Fg}const Y7=(t,e,r)=>t|(r?Fg:YA)<<BigInt(e),h6=t=>(G7<<BigInt(t-1))-Fg,fv=t=>new Uint8Array(t),tw=t=>Uint8Array.from(t);function ZA(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=fv(t),n=fv(t),a=0;const s=()=>{i.fill(1),n.fill(0),a=0},o=(...f)=>r(n,i,...f),l=(f=fv())=>{n=o(tw([0]),f),i=o(),f.length!==0&&(n=o(tw([1]),f),i=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<e;){i=o();const h=i.slice();d.push(h),f+=i.length}return od(...d)};return(f,d)=>{s(),l(f);let h;for(;!(h=d(u()));)l();return s(),h}}const J7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function th(t,e,r={}){const i=(n,a,s)=>{const o=J7[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const l=t[n];if(!(s&&l===void 0)&&!o(l,t))throw new Error(`Invalid param ${String(n)}=${l} (${typeof l}), expected ${a}`)};for(const[n,a]of Object.entries(e))i(n,a,!1);for(const[n,a]of Object.entries(r))i(n,a,!0);return t}const Z7=Object.freeze(Object.defineProperty({__proto__:null,bitGet:X7,bitLen:K7,bitMask:h6,bitSet:Y7,bytesToHex:Z0,bytesToNumberBE:Il,bytesToNumberLE:f6,concatBytes:od,createHmacDrbg:ZA,ensureBytes:Fi,equalBytes:$7,hexToBytes:ec,hexToNumber:c6,numberToBytesBE:tc,numberToBytesLE:d6,numberToHexUnpadded:JA,numberToVarBytesBE:W7,utf8ToBytes:Q7,validateObject:th},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rr=BigInt(0),fr=BigInt(1),Xo=BigInt(2),eR=BigInt(3),Zy=BigInt(4),rw=BigInt(5),nw=BigInt(8);BigInt(9);BigInt(16);function Nn(t,e){const r=t%e;return r>=Rr?r:e+r}function tR(t,e,r){if(r<=Rr||e<Rr)throw new Error("Expected power/modulo > 0");if(r===fr)return Rr;let i=fr;for(;e>Rr;)e&fr&&(i=i*t%r),t=t*t%r,e>>=fr;return i}function ui(t,e,r){let i=t;for(;e-- >Rr;)i*=i,i%=r;return i}function e2(t,e){if(t===Rr||e<=Rr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Nn(t,e),i=e,n=Rr,a=fr;for(;r!==Rr;){const o=i/r,l=i%r,u=n-a*o;i=r,r=l,n=a,a=u}if(i!==fr)throw new Error("invert: does not exist");return Nn(n,e)}function rR(t){const e=(t-fr)/Xo;let r,i,n;for(r=t-fr,i=0;r%Xo===Rr;r/=Xo,i++);for(n=Xo;n<t&&tR(n,e,t)!==t-fr;n++);if(i===1){const s=(t+fr)/Zy;return function(l,u){const c=l.pow(u,s);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const a=(r+fr)/Xo;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=i,c=o.pow(o.mul(o.ONE,n),r),f=o.pow(l,a),d=o.pow(l,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let m=o.sqr(d);h<u&&!o.eql(m,o.ONE);h++)m=o.sqr(m);const y=o.pow(c,fr<<BigInt(u-h-1));c=o.sqr(y),f=o.mul(f,y),d=o.mul(d,c),u=h}return f}}function nR(t){if(t%Zy===eR){const e=(t+fr)/Zy;return function(i,n){const a=i.pow(n,e);if(!i.eql(i.sqr(a),n))throw new Error("Cannot find square root");return a}}if(t%nw===rw){const e=(t-rw)/nw;return function(i,n){const a=i.mul(n,Xo),s=i.pow(a,e),o=i.mul(n,s),l=i.mul(i.mul(o,Xo),s),u=i.mul(o,i.sub(l,i.ONE));if(!i.eql(i.sqr(u),n))throw new Error("Cannot find square root");return u}}return rR(t)}const iR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aR(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=iR.reduce((i,n)=>(i[n]="function",i),e);return th(t,r)}function sR(t,e,r){if(r<Rr)throw new Error("Expected power > 0");if(r===Rr)return t.ONE;if(r===fr)return e;let i=t.ONE,n=e;for(;r>Rr;)r&fr&&(i=t.mul(i,n)),n=t.sqr(n),r>>=fr;return i}function oR(t,e){const r=new Array(e.length),i=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),n=t.inv(i);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),n),r}function eC(t,e){const r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function lR(t,e,r=!1,i={}){if(t<=Rr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:n,nByteLength:a}=eC(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=nR(t),o=Object.freeze({ORDER:t,BITS:n,BYTES:a,MASK:h6(n),ZERO:Rr,ONE:fr,create:l=>Nn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Rr<=l&&l<t},is0:l=>l===Rr,isOdd:l=>(l&fr)===fr,neg:l=>Nn(-l,t),eql:(l,u)=>l===u,sqr:l=>Nn(l*l,t),add:(l,u)=>Nn(l+u,t),sub:(l,u)=>Nn(l-u,t),mul:(l,u)=>Nn(l*u,t),pow:(l,u)=>sR(o,l,u),div:(l,u)=>Nn(l*e2(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>e2(l,t),sqrt:i.sqrt||(l=>s(o,l)),invertBatch:l=>oR(o,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>r?d6(l,a):tc(l,a),fromBytes:l=>{if(l.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${l.length}`);return r?f6(l):Il(l)}});return Object.freeze(o)}function tC(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function rC(t){const e=tC(t);return e+Math.ceil(e/2)}function uR(t,e,r=!1){const i=t.length,n=tC(e),a=rC(e);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const s=r?Il(t):f6(t),o=Nn(s,e-fr)+fr;return r?d6(o,n):tc(o,n)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cR=BigInt(0),dv=BigInt(1);function fR(t,e){const r=(n,a)=>{const s=a.negate();return n?s:a},i=n=>{const a=Math.ceil(e/n)+1,s=2**(n-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(n,a){let s=t.ZERO,o=n;for(;a>cR;)a&dv&&(s=s.add(o)),o=o.double(),a>>=dv;return s},precomputeWindow(n,a){const{windows:s,windowSize:o}=i(a),l=[];let u=n,c=u;for(let f=0;f<s;f++){c=u,l.push(c);for(let d=1;d<o;d++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(n,a,s){const{windows:o,windowSize:l}=i(n);let u=t.ZERO,c=t.BASE;const f=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let y=0;y<o;y++){const m=y*l;let T=Number(s&f);s>>=h,T>l&&(T-=d,s+=dv);const b=m,E=m+Math.abs(T)-1,A=y%2!==0,C=T<0;T===0?c=c.add(r(A,a[b])):u=u.add(r(C,a[E]))}return{p:u,f:c}},wNAFCached(n,a,s,o){const l=n._WINDOW_SIZE||1;let u=a.get(n);return u||(u=this.precomputeWindow(n,l),l!==1&&a.set(n,o(u))),this.wNAF(l,u,s)}}}function nC(t){return aR(t.Fp),th(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dR(t){const e=nC(t);th(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:n}=e;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:hR,hexToBytes:pR}=Z7,rl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=rl;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],i=t.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:hR(i),l:t.subarray(r+2)}},toSig(t){const{Err:e}=rl,r=typeof t=="string"?pR(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:n,l:a}=rl._parseInt(r.subarray(2)),{d:s,l:o}=rl._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},i=e(r(t.s)),n=e(r(t.r)),a=i.length/2,s=n.length/2,o=r(a),l=r(s);return`30${r(s+a+4)}02${l}${n}02${o}${i}`}},ts=BigInt(0),vi=BigInt(1);BigInt(2);const iw=BigInt(3);BigInt(4);function mR(t){const e=dR(t),{Fp:r}=e,i=e.toBytes||((y,m,T)=>{const b=m.toAffine();return od(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),n=e.fromBytes||(y=>{const m=y.subarray(1),T=r.fromBytes(m.subarray(0,r.BYTES)),b=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:T,y:b}});function a(y){const{a:m,b:T}=e,b=r.sqr(y),E=r.mul(b,y);return r.add(r.add(E,r.mul(y,m)),T)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(y){return typeof y=="bigint"&&ts<y&&y<e.n}function o(y){if(!s(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:m,nByteLength:T,wrapPrivateKey:b,n:E}=e;if(m&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Z0(y)),typeof y!="string"||!m.includes(y.length))throw new Error("Invalid key");y=y.padStart(T*2,"0")}let A;try{A=typeof y=="bigint"?y:Il(Fi("private key",y,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof y}`)}return b&&(A=Nn(A,E)),o(A),A}const u=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,T,b){if(this.px=m,this.py=T,this.pz=b,m==null||!r.isValid(m))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(m){const{x:T,y:b}=m||{};if(!m||!r.isValid(T)||!r.isValid(b))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const E=A=>r.eql(A,r.ZERO);return E(T)&&E(b)?f.ZERO:new f(T,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const T=r.invertBatch(m.map(b=>b.pz));return m.map((b,E)=>b.toAffine(T[E])).map(f.fromAffine)}static fromHex(m){const T=f.fromAffine(n(Fi("pointHex",m)));return T.assertValidity(),T}static fromPrivateKey(m){return f.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y:T}=this.toAffine();if(!r.isValid(m)||!r.isValid(T))throw new Error("bad point: x or y not FE");const b=r.sqr(T),E=a(m);if(!r.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){c(m);const{px:T,py:b,pz:E}=this,{px:A,py:C,pz:I}=m,R=r.eql(r.mul(T,I),r.mul(A,E)),L=r.eql(r.mul(b,I),r.mul(C,E));return R&&L}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:T}=e,b=r.mul(T,iw),{px:E,py:A,pz:C}=this;let I=r.ZERO,R=r.ZERO,L=r.ZERO,O=r.mul(E,E),W=r.mul(A,A),H=r.mul(C,C),re=r.mul(E,A);return re=r.add(re,re),L=r.mul(E,C),L=r.add(L,L),I=r.mul(m,L),R=r.mul(b,H),R=r.add(I,R),I=r.sub(W,R),R=r.add(W,R),R=r.mul(I,R),I=r.mul(re,I),L=r.mul(b,L),H=r.mul(m,H),re=r.sub(O,H),re=r.mul(m,re),re=r.add(re,L),L=r.add(O,O),O=r.add(L,O),O=r.add(O,H),O=r.mul(O,re),R=r.add(R,O),H=r.mul(A,C),H=r.add(H,H),O=r.mul(H,re),I=r.sub(I,O),L=r.mul(H,W),L=r.add(L,L),L=r.add(L,L),new f(I,R,L)}add(m){c(m);const{px:T,py:b,pz:E}=this,{px:A,py:C,pz:I}=m;let R=r.ZERO,L=r.ZERO,O=r.ZERO;const W=e.a,H=r.mul(e.b,iw);let re=r.mul(T,A),ne=r.mul(b,C),oe=r.mul(E,I),_e=r.add(T,b),ie=r.add(A,C);_e=r.mul(_e,ie),ie=r.add(re,ne),_e=r.sub(_e,ie),ie=r.add(T,E);let J=r.add(A,I);return ie=r.mul(ie,J),J=r.add(re,oe),ie=r.sub(ie,J),J=r.add(b,E),R=r.add(C,I),J=r.mul(J,R),R=r.add(ne,oe),J=r.sub(J,R),O=r.mul(W,ie),R=r.mul(H,oe),O=r.add(R,O),R=r.sub(ne,O),O=r.add(ne,O),L=r.mul(R,O),ne=r.add(re,re),ne=r.add(ne,re),oe=r.mul(W,oe),ie=r.mul(H,ie),ne=r.add(ne,oe),oe=r.sub(re,oe),oe=r.mul(W,oe),ie=r.add(ie,oe),re=r.mul(ne,ie),L=r.add(L,re),re=r.mul(J,ie),R=r.mul(_e,R),R=r.sub(R,re),re=r.mul(_e,ne),O=r.mul(J,O),O=r.add(O,re),new f(R,L,O)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return h.wNAFCached(this,u,m,T=>{const b=r.invertBatch(T.map(E=>E.pz));return T.map((E,A)=>E.toAffine(b[A])).map(f.fromAffine)})}multiplyUnsafe(m){const T=f.ZERO;if(m===ts)return T;if(o(m),m===vi)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,m);let{k1neg:E,k1:A,k2neg:C,k2:I}=b.splitScalar(m),R=T,L=T,O=this;for(;A>ts||I>ts;)A&vi&&(R=R.add(O)),I&vi&&(L=L.add(O)),O=O.double(),A>>=vi,I>>=vi;return E&&(R=R.negate()),C&&(L=L.negate()),L=new f(r.mul(L.px,b.beta),L.py,L.pz),R.add(L)}multiply(m){o(m);let T=m,b,E;const{endo:A}=e;if(A){const{k1neg:C,k1:I,k2neg:R,k2:L}=A.splitScalar(T);let{p:O,f:W}=this.wNAF(I),{p:H,f:re}=this.wNAF(L);O=h.constTimeNegate(C,O),H=h.constTimeNegate(R,H),H=new f(r.mul(H.px,A.beta),H.py,H.pz),b=O.add(H),E=W.add(re)}else{const{p:C,f:I}=this.wNAF(T);b=C,E=I}return f.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(m,T,b){const E=f.BASE,A=(I,R)=>R===ts||R===vi||!I.equals(E)?I.multiplyUnsafe(R):I.multiply(R),C=A(this,T).add(A(m,b));return C.is0()?void 0:C}toAffine(m){const{px:T,py:b,pz:E}=this,A=this.is0();m==null&&(m=A?r.ONE:r.inv(E));const C=r.mul(T,m),I=r.mul(b,m),R=r.mul(E,m);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}isTorsionFree(){const{h:m,isTorsionFree:T}=e;if(m===vi)return!0;if(T)return T(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:T}=e;return m===vi?this:T?T(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),i(f,this,m)}toHex(m=!0){return Z0(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,h=fR(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:s}}function gR(t){const e=nC(t);return th(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vR(t){const e=gR(t),{Fp:r,n:i}=e,n=r.BYTES+1,a=2*r.BYTES+1;function s(ie){return ts<ie&&ie<r.ORDER}function o(ie){return Nn(ie,i)}function l(ie){return e2(ie,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:d}=mR({...e,toBytes(ie,J,le){const ee=J.toAffine(),ce=r.toBytes(ee.x),de=od;return le?de(Uint8Array.from([J.hasEvenY()?2:3]),ce):de(Uint8Array.from([4]),ce,r.toBytes(ee.y))},fromBytes(ie){const J=ie.length,le=ie[0],ee=ie.subarray(1);if(J===n&&(le===2||le===3)){const ce=Il(ee);if(!s(ce))throw new Error("Point is not on curve");const de=f(ce);let Ge=r.sqrt(de);const Ee=(Ge&vi)===vi;return(le&1)===1!==Ee&&(Ge=r.neg(Ge)),{x:ce,y:Ge}}else if(J===a&&le===4){const ce=r.fromBytes(ee.subarray(0,r.BYTES)),de=r.fromBytes(ee.subarray(r.BYTES,2*r.BYTES));return{x:ce,y:de}}else throw new Error(`Point of length ${J} was invalid. Expected ${n} compressed bytes or ${a} uncompressed bytes`)}}),h=ie=>Z0(tc(ie,e.nByteLength));function y(ie){const J=i>>vi;return ie>J}function m(ie){return y(ie)?o(-ie):ie}const T=(ie,J,le)=>Il(ie.slice(J,le));class b{constructor(J,le,ee){this.r=J,this.s=le,this.recovery=ee,this.assertValidity()}static fromCompact(J){const le=e.nByteLength;return J=Fi("compactSignature",J,le*2),new b(T(J,0,le),T(J,le,2*le))}static fromDER(J){const{r:le,s:ee}=rl.toSig(Fi("DER",J));return new b(le,ee)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(J){return new b(this.r,this.s,J)}recoverPublicKey(J){const{r:le,s:ee,recovery:ce}=this,de=L(Fi("msgHash",J));if(ce==null||![0,1,2,3].includes(ce))throw new Error("recovery id invalid");const Ge=ce===2||ce===3?le+e.n:le;if(Ge>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ee=ce&1?"03":"02",Ze=u.fromHex(Ee+h(Ge)),Ue=l(Ge),dt=o(-de*Ue),he=o(ee*Ue),gt=u.BASE.multiplyAndAddUnsafe(Ze,dt,he);if(!gt)throw new Error("point at infinify");return gt.assertValidity(),gt}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ec(this.toDERHex())}toDERHex(){return rl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ec(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const E={isValidPrivateKey(ie){try{return c(ie),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const ie=rC(e.n);return uR(e.randomBytes(ie),e.n)},precompute(ie=8,J=u.BASE){return J._setWindowSize(ie),J.multiply(BigInt(3)),J}};function A(ie,J=!0){return u.fromPrivateKey(ie).toRawBytes(J)}function C(ie){const J=ie instanceof Uint8Array,le=typeof ie=="string",ee=(J||le)&&ie.length;return J?ee===n||ee===a:le?ee===2*n||ee===2*a:ie instanceof u}function I(ie,J,le=!0){if(C(ie))throw new Error("first arg must be private key");if(!C(J))throw new Error("second arg must be public key");return u.fromHex(J).multiply(c(ie)).toRawBytes(le)}const R=e.bits2int||function(ie){const J=Il(ie),le=ie.length*8-e.nBitLength;return le>0?J>>BigInt(le):J},L=e.bits2int_modN||function(ie){return o(R(ie))},O=h6(e.nBitLength);function W(ie){if(typeof ie!="bigint")throw new Error("bigint expected");if(!(ts<=ie&&ie<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return tc(ie,e.nByteLength)}function H(ie,J,le=re){if(["recovered","canonical"].some(Tt=>Tt in le))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:ce}=e;let{lowS:de,prehash:Ge,extraEntropy:Ee}=le;de==null&&(de=!0),ie=Fi("msgHash",ie),Ge&&(ie=Fi("prehashed msgHash",ee(ie)));const Ze=L(ie),Ue=c(J),dt=[W(Ue),W(Ze)];if(Ee!=null){const Tt=Ee===!0?ce(r.BYTES):Ee;dt.push(Fi("extraEntropy",Tt))}const he=od(...dt),gt=Ze;function Ne(Tt){const gr=R(Tt);if(!d(gr))return;const qn=l(gr),qt=u.BASE.multiply(gr).toAffine(),q=o(qt.x);if(q===ts)return;const Y=o(qn*o(gt+q*Ue));if(Y===ts)return;let Re=(qt.x===q?0:2)|Number(qt.y&vi),Ce=Y;return de&&y(Y)&&(Ce=m(Y),Re^=1),new b(q,Ce,Re)}return{seed:he,k2sig:Ne}}const re={lowS:e.lowS,prehash:!1},ne={lowS:e.lowS,prehash:!1};function oe(ie,J,le=re){const{seed:ee,k2sig:ce}=H(ie,J,le),de=e;return ZA(de.hash.outputLen,de.nByteLength,de.hmac)(ee,ce)}u.BASE._setWindowSize(8);function _e(ie,J,le,ee=ne){var qt;const ce=ie;if(J=Fi("msgHash",J),le=Fi("publicKey",le),"strict"in ee)throw new Error("options.strict was renamed to lowS");const{lowS:de,prehash:Ge}=ee;let Ee,Ze;try{if(typeof ce=="string"||ce instanceof Uint8Array)try{Ee=b.fromDER(ce)}catch(q){if(!(q instanceof rl.Err))throw q;Ee=b.fromCompact(ce)}else if(typeof ce=="object"&&typeof ce.r=="bigint"&&typeof ce.s=="bigint"){const{r:q,s:Y}=ce;Ee=new b(q,Y)}else throw new Error("PARSE");Ze=u.fromHex(le)}catch(q){if(q.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(de&&Ee.hasHighS())return!1;Ge&&(J=e.hash(J));const{r:Ue,s:dt}=Ee,he=L(J),gt=l(dt),Ne=o(he*gt),Tt=o(Ue*gt),gr=(qt=u.BASE.multiplyAndAddUnsafe(Ze,Ne,Tt))==null?void 0:qt.toAffine();return gr?o(gr.x)===Ue:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:I,sign:oe,verify:_e,ProjectivePoint:u,Signature:b,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yR(t){return{hash:t,hmac:(e,...r)=>GA(t,e,b7(...r)),randomBytes:x7}}function bR(t,e){const r=i=>vR({...t,...yR(i)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xR=BigInt(1),t2=BigInt(2),sw=(t,e)=>(t+e/t2)/e;function TR(t){const e=iC,r=BigInt(3),i=BigInt(6),n=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=ui(c,r,e)*c%e,d=ui(f,r,e)*c%e,h=ui(d,t2,e)*u%e,y=ui(h,n,e)*h%e,m=ui(y,a,e)*y%e,T=ui(m,o,e)*m%e,b=ui(T,l,e)*T%e,E=ui(b,o,e)*m%e,A=ui(E,r,e)*c%e,C=ui(A,s,e)*y%e,I=ui(C,i,e)*u%e,R=ui(I,t2,e);if(!r2.eql(r2.sqr(R),t))throw new Error("Cannot find square root");return R}const r2=lR(iC,void 0,void 0,{sqrt:TR}),Us=bR({a:BigInt(0),b:BigInt(7),Fp:r2,n:aw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=aw,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-xR*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=sw(a*t,e),l=sw(-i*t,e);let u=Nn(t-o*r-l*n,e),c=Nn(-o*i-l*a,e);const f=u>s,d=c>s;if(f&&(u=e-u),d&&(c=e-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},C7);BigInt(0);Us.ProjectivePoint;const ld="0x0000000000000000000000000000000000000000",ow="0x0000000000000000000000000000000000000000000000000000000000000000",wR=`Ethereum Signed Message:
`,lw=BigInt(0),uw=BigInt(1),cw=BigInt(2),fw=BigInt(27),dw=BigInt(28),Zh=BigInt(35),fu={};function hw(t){return zl(xn(t),32)}var f0,d0,h0,ml;const Ri=class Ri{constructor(e,r,i,n){Z(this,f0,void 0);Z(this,d0,void 0);Z(this,h0,void 0);Z(this,ml,void 0);Ig(e,fu,"Signature"),U(this,f0,r),U(this,d0,i),U(this,h0,n),U(this,ml,null)}get r(){return k(this,f0)}set r(e){$(Zu(e)===32,"invalid r","value",e),U(this,f0,je(e))}get s(){return k(this,d0)}set s(e){$(Zu(e)===32,"invalid s","value",e);const r=je(e);$(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),U(this,d0,r)}get v(){return k(this,h0)}set v(e){const r=at(e,"value");$(r===27||r===28,"invalid v","v",e),U(this,h0,r)}get networkV(){return k(this,ml)}get legacyChainId(){const e=this.networkV;return e==null?null:Ri.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=xt(this.s);return this.yParity&&(e[0]|=128),je(e)}get compactSerialized(){return mr([this.r,this.yParityAndS])}get serialized(){return mr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ri(fu,this.r,this.s,this.v);return this.networkV&&U(e,ml,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Le(e,"v");return r==fw||r==dw?lw:($(r>=Zh,"invalid EIP-155 v","v",e),(r-Zh)/cw)}static getChainIdV(e,r){return Le(e)*cw+BigInt(35+r-27)}static getNormalizedV(e){const r=Le(e);return r===lw||r===fw?27:r===uw||r===dw?28:($(r>=Zh,"invalid v","v",e),r&uw?27:28)}static from(e){function r(u,c){$(u,c,"signature",e)}if(e==null)return new Ri(fu,ow,ow,27);if(typeof e=="string"){const u=xt(e,"signature");if(u.length===64){const c=je(u.slice(0,32)),f=u.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new Ri(fu,c,je(f),d)}if(u.length===65){const c=je(u.slice(0,32)),f=u.slice(32,64);r((f[0]&128)===0,"non-canonical s");const d=Ri.getNormalizedV(u[64]);return new Ri(fu,c,je(f),d)}r(!1,"invalid raw signature length")}if(e instanceof Ri)return e.clone();const i=e.r;r(i!=null,"missing r");const n=hw(i),a=function(u,c){if(u!=null)return hw(u);if(c!=null){r(Ot(c,32),"invalid yParityAndS");const f=xt(c);return f[0]&=127,je(f)}r(!1,"missing s")}(e.s,e.yParityAndS);r((xt(a)[0]&128)==0,"non-canonical s");const{networkV:s,v:o}=function(u,c,f){if(u!=null){const d=Le(u);return{networkV:d>=Zh?d:void 0,v:Ri.getNormalizedV(d)}}if(c!=null)return r(Ot(c,32),"invalid yParityAndS"),{v:xt(c)[0]&128?28:27};if(f!=null){switch(at(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Ri(fu,n,a,o);return s&&U(l,ml,s),r(e.yParity==null||at(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};f0=new WeakMap,d0=new WeakMap,h0=new WeakMap,ml=new WeakMap;let Ki=Ri;var $a;const Jo=class Jo{constructor(e){Z(this,$a,void 0);$(Zu(e)===32,"invalid private key","privateKey","[REDACTED]"),U(this,$a,je(e))}get privateKey(){return k(this,$a)}get publicKey(){return Jo.computePublicKey(k(this,$a))}get compressedPublicKey(){return Jo.computePublicKey(k(this,$a),!0)}sign(e){$(Zu(e)===32,"invalid digest length","digest",e);const r=Us.sign(mn(e),mn(k(this,$a)),{lowS:!0});return Ki.from({r:Eo(r.r,32),s:Eo(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Jo.computePublicKey(e);return je(Us.getSharedSecret(mn(k(this,$a)),xt(r),!1))}static computePublicKey(e,r){let i=xt(e,"key");if(i.length===32){const a=Us.getPublicKey(i,!!r);return je(a)}if(i.length===64){const a=new Uint8Array(65);a[0]=4,a.set(i,1),i=a}const n=Us.ProjectivePoint.fromHex(i);return je(n.toRawBytes(r))}static recoverPublicKey(e,r){$(Zu(e)===32,"invalid digest length","digest",e);const i=Ki.from(r);let n=Us.Signature.fromCompact(mn(mr([i.r,i.s])));n=n.addRecoveryBit(i.yParity);const a=n.recoverPublicKey(mn(e));return $(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(e,r,i){const n=Us.ProjectivePoint.fromHex(Jo.computePublicKey(e).substring(2)),a=Us.ProjectivePoint.fromHex(Jo.computePublicKey(r).substring(2));return"0x"+n.add(a).toHex(!!i)}};$a=new WeakMap;let ud=Jo;const _R=BigInt(0),ER=BigInt(36);function pw(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=e[n].charCodeAt(0);const i=xt(Vt(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const p6={};for(let t=0;t<10;t++)p6[String(t)]=String(t);for(let t=0;t<26;t++)p6[String.fromCharCode(65+t)]=String(10+t);const mw=15;function SR(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(i=>p6[i]).join("");for(;e.length>=mw;){let i=e.substring(0,mw);e=parseInt(i,10)%97+e.substring(i.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const AR=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function CR(t){t=t.toLowerCase();let e=_R;for(let r=0;r<t.length;r++)e=e*ER+AR[t[r]];return e}function Ct(t){if($(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=pw(t);return $(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){$(t.substring(2,4)===SR(t),"bad icap checksum","address",t);let e=CR(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return pw("0x"+e)}$(!1,"invalid address","address",t)}function PR(t){const e=Ct(t.from);let i=Le(t.nonce,"tx.nonce").toString(16);return i==="0"?i="0x":i.length%2?i="0x0"+i:i="0x"+i,Ct(nr(Vt(Y0([e,i])),12))}function aC(t){return t&&typeof t.getAddress=="function"}async function hv(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(fe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),$(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ct(r)}function wn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ct(t):(fe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),hv(t,e.resolveName(t)));if(aC(t))return hv(t,t.getAddress());if(t&&typeof t.then=="function")return hv(t,t);$(!1,"unsupported addressable value","target",t)}const Ma={};function De(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new rn(Ma,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function vt(t,e){return new rn(Ma,`bytes${e||""}`,t,{size:e})}const gw=Symbol.for("_ethers_typed");var gl;const Ua=class Ua{constructor(e,r,i,n){X(this,"type");X(this,"value");Z(this,gl,void 0);X(this,"_typedSymbol");n==null&&(n=null),Ig(Ma,e,"Typed"),Qe(this,{_typedSymbol:gw,type:r,value:i}),U(this,gl,n),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return k(this,gl)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return k(this,gl)===!0?-1:k(this,gl)===!1?this.value.length:null}static from(e,r){return new Ua(Ma,e,r)}static uint8(e){return De(e,8)}static uint16(e){return De(e,16)}static uint24(e){return De(e,24)}static uint32(e){return De(e,32)}static uint40(e){return De(e,40)}static uint48(e){return De(e,48)}static uint56(e){return De(e,56)}static uint64(e){return De(e,64)}static uint72(e){return De(e,72)}static uint80(e){return De(e,80)}static uint88(e){return De(e,88)}static uint96(e){return De(e,96)}static uint104(e){return De(e,104)}static uint112(e){return De(e,112)}static uint120(e){return De(e,120)}static uint128(e){return De(e,128)}static uint136(e){return De(e,136)}static uint144(e){return De(e,144)}static uint152(e){return De(e,152)}static uint160(e){return De(e,160)}static uint168(e){return De(e,168)}static uint176(e){return De(e,176)}static uint184(e){return De(e,184)}static uint192(e){return De(e,192)}static uint200(e){return De(e,200)}static uint208(e){return De(e,208)}static uint216(e){return De(e,216)}static uint224(e){return De(e,224)}static uint232(e){return De(e,232)}static uint240(e){return De(e,240)}static uint248(e){return De(e,248)}static uint256(e){return De(e,256)}static uint(e){return De(e,256)}static int8(e){return De(e,-8)}static int16(e){return De(e,-16)}static int24(e){return De(e,-24)}static int32(e){return De(e,-32)}static int40(e){return De(e,-40)}static int48(e){return De(e,-48)}static int56(e){return De(e,-56)}static int64(e){return De(e,-64)}static int72(e){return De(e,-72)}static int80(e){return De(e,-80)}static int88(e){return De(e,-88)}static int96(e){return De(e,-96)}static int104(e){return De(e,-104)}static int112(e){return De(e,-112)}static int120(e){return De(e,-120)}static int128(e){return De(e,-128)}static int136(e){return De(e,-136)}static int144(e){return De(e,-144)}static int152(e){return De(e,-152)}static int160(e){return De(e,-160)}static int168(e){return De(e,-168)}static int176(e){return De(e,-176)}static int184(e){return De(e,-184)}static int192(e){return De(e,-192)}static int200(e){return De(e,-200)}static int208(e){return De(e,-208)}static int216(e){return De(e,-216)}static int224(e){return De(e,-224)}static int232(e){return De(e,-232)}static int240(e){return De(e,-240)}static int248(e){return De(e,-248)}static int256(e){return De(e,-256)}static int(e){return De(e,-256)}static bytes1(e){return vt(e,1)}static bytes2(e){return vt(e,2)}static bytes3(e){return vt(e,3)}static bytes4(e){return vt(e,4)}static bytes5(e){return vt(e,5)}static bytes6(e){return vt(e,6)}static bytes7(e){return vt(e,7)}static bytes8(e){return vt(e,8)}static bytes9(e){return vt(e,9)}static bytes10(e){return vt(e,10)}static bytes11(e){return vt(e,11)}static bytes12(e){return vt(e,12)}static bytes13(e){return vt(e,13)}static bytes14(e){return vt(e,14)}static bytes15(e){return vt(e,15)}static bytes16(e){return vt(e,16)}static bytes17(e){return vt(e,17)}static bytes18(e){return vt(e,18)}static bytes19(e){return vt(e,19)}static bytes20(e){return vt(e,20)}static bytes21(e){return vt(e,21)}static bytes22(e){return vt(e,22)}static bytes23(e){return vt(e,23)}static bytes24(e){return vt(e,24)}static bytes25(e){return vt(e,25)}static bytes26(e){return vt(e,26)}static bytes27(e){return vt(e,27)}static bytes28(e){return vt(e,28)}static bytes29(e){return vt(e,29)}static bytes30(e){return vt(e,30)}static bytes31(e){return vt(e,31)}static bytes32(e){return vt(e,32)}static address(e){return new Ua(Ma,"address",e)}static bool(e){return new Ua(Ma,"bool",!!e)}static bytes(e){return new Ua(Ma,"bytes",e)}static string(e){return new Ua(Ma,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Ua(Ma,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===gw}static dereference(e,r){if(Ua.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};gl=new WeakMap;let rn=Ua;class kR extends As{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let i=rn.dereference(r,"string");try{i=Ct(i)}catch(n){return this._throwError(n.message,r)}return e.writeValue(i)}decode(e){return Ct(Eo(e.readValue(),20))}}class DR extends As{constructor(r){super(r.name,r.type,"_",r.dynamic);X(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,i){return this.coder.encode(r,i)}decode(r){return this.coder.decode(r)}}function sC(t,e,r){let i=[];if(Array.isArray(r))i=r;else if(r&&typeof r=="object"){let l={};i=e.map(u=>{const c=u.localName;return fe(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),fe(!l[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),l[c]=!0,r[c]})}else $(!1,"invalid tuple value","tuple",r);$(e.length===i.length,"types/value length mismatch","tuple",r);let n=new Xy,a=new Xy,s=[];e.forEach((l,u)=>{let c=i[u];if(l.dynamic){let f=a.length;l.encode(a,c);let d=n.writeUpdatableValue();s.push(h=>{d(h+f)})}else l.encode(n,c)}),s.forEach(l=>{l(n.length)});let o=t.appendWriter(n);return o+=t.appendWriter(a),o}function oC(t,e){let r=[],i=[],n=t.subReader(0);return e.forEach(a=>{let s=null;if(a.dynamic){let o=t.readIndex(),l=n.subReader(o);try{s=a.decode(l)}catch(u){if(tn(u,"BUFFER_OVERRUN"))throw u;s=u,s.baseType=a.name,s.name=a.localName,s.type=a.type}}else try{s=a.decode(t)}catch(o){if(tn(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=a.name,s.name=a.localName,s.type=a.type}if(s==null)throw new Error("investigate");r.push(s),i.push(a.localName||null)}),Tm.fromItems(r,i)}class IR extends As{constructor(r,i,n){const a=r.type+"["+(i>=0?i:"")+"]",s=i===-1||r.dynamic;super("array",a,n,s);X(this,"coder");X(this,"length");Qe(this,{coder:r,length:i})}defaultValue(){const r=this.coder.defaultValue(),i=[];for(let n=0;n<this.length;n++)i.push(r);return i}encode(r,i){const n=rn.dereference(i,"array");Array.isArray(n)||this._throwError("expected array value",n);let a=this.length;a===-1&&(a=n.length,r.writeValue(n.length)),CA(n.length,a,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<n.length;o++)s.push(this.coder);return sC(r,s,n)}decode(r){let i=this.length;i===-1&&(i=r.readIndex(),fe(i*Tn<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:i*Tn,length:r.dataLength}));let n=[];for(let a=0;a<i;a++)n.push(new DR(this.coder));return oC(r,n)}}class NR extends As{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const i=rn.dereference(r,"bool");return e.writeValue(i?1:0)}decode(e){return!!e.readValue()}}class lC extends As{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=mn(r);let i=e.writeValue(r.length);return i+=e.writeBytes(r),i}decode(e){return e.readBytes(e.readIndex(),!0)}}class OR extends lC{constructor(e){super("bytes",e)}decode(e){return je(super.decode(e))}}class RR extends As{constructor(r,i){let n="bytes"+String(r);super(n,n,i,!1);X(this,"size");Qe(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,i){let n=mn(rn.dereference(i,this.type));return n.length!==this.size&&this._throwError("incorrect data length",i),r.writeBytes(n)}decode(r){return je(r.readBytes(this.size))}}const LR=new Uint8Array([]);class FR extends As{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(LR)}decode(e){return e.readBytes(0),null}}const MR=BigInt(0),BR=BigInt(1),UR=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class jR extends As{constructor(r,i,n){const a=(i?"int":"uint")+r*8;super(a,a,n,!1);X(this,"size");X(this,"signed");Qe(this,{size:r,signed:i},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,i){let n=Le(rn.dereference(i,this.type)),a=uf(UR,Tn*8);if(this.signed){let s=uf(a,this.size*8-1);(n>s||n<-(s+BR))&&this._throwError("value out-of-bounds",i),n=DA(n,8*Tn)}else(n<MR||n>uf(a,this.size*8))&&this._throwError("value out-of-bounds",i);return r.writeValue(n)}decode(r){let i=uf(r.readValue(),this.size*8);return this.signed&&(i=XO(i,this.size*8)),i}}class HR extends lC{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,_i(rn.dereference(r,"string")))}decode(e){return xm(super.decode(e))}}class ep extends As{constructor(r,i){let n=!1;const a=[];r.forEach(o=>{o.dynamic&&(n=!0),a.push(o.type)});const s="tuple("+a.join(",")+")";super("tuple",s,i,n);X(this,"coders");Qe(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(n=>{r.push(n.defaultValue())});const i=this.coders.reduce((n,a)=>{const s=a.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,a)=>{let s=n.localName;!s||i[s]!==1||(s==="length"&&(s="_length"),r[s]==null&&(r[s]=r[a]))}),Object.freeze(r)}encode(r,i){const n=rn.dereference(i,"tuple");return sC(r,this.coders,n)}decode(r){return oC(r,this.coders)}}function Gl(t){return Vt(_i(t))}var VR="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const vw=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),yw=4;function zR(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),n=1,a=[0,1];for(let I=1;I<i;I++)a.push(n+=r());let s=r(),o=e;e+=s;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,d=2**f,h=d>>>1,y=h>>1,m=d-1;let T=0;for(let I=0;I<f;I++)T=T<<1|c();let b=[],E=0,A=d;for(;;){let I=Math.floor(((T-E+1)*n-1)/A),R=0,L=i;for(;L-R>1;){let H=R+L>>>1;I<a[H]?L=H:R=H}if(R==0)break;b.push(R);let O=E+Math.floor(A*a[R]/n),W=E+Math.floor(A*a[R+1]/n)-1;for(;!((O^W)&h);)T=T<<1&m|c(),O=O<<1&m,W=W<<1&m|1;for(;O&~W&y;)T=T&h|T<<1&m>>>1|c(),O=O<<1^h,W=(W^h)<<1|h|1;E=O,A=1+W-O}let C=i-4;return b.map(I=>{switch(I-C){case 3:return C+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return C+256+(t[o++]<<8|t[o++]);case 1:return C+t[o++];default:return I-1}})}function GR(t){let e=0;return()=>t[e++]}function uC(t){return GR(zR(qR(t)))}function qR(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((n,a)=>e[n.charCodeAt(0)]=a);let r=t.length,i=new Uint8Array(6*r>>3);for(let n=0,a=0,s=0,o=0;n<r;n++)o=o<<6|e[t.charCodeAt(n)],s+=6,s>=8&&(i[a++]=o>>(s-=8));return i}function WR(t){return t&1?~t>>1:t>>1}function $R(t,e){let r=Array(t);for(let i=0,n=0;i<t;i++)r[i]=n+=WR(e());return r}function cd(t,e=0){let r=[];for(;;){let i=t(),n=t();if(!n)break;e+=i;for(let a=0;a<n;a++)r.push(e+a);e+=n+1}return r}function cC(t){return fd(()=>{let e=cd(t);if(e.length)return e})}function fC(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(QR(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(KR(r,t))}return e.flat()}function fd(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function dC(t,e,r){let i=Array(t).fill().map(()=>[]);for(let n=0;n<e;n++)$R(t,r).forEach((a,s)=>i[s].push(a));return i}function QR(t,e){let r=1+e(),i=e(),n=fd(e);return dC(n.length,1+t,e).flatMap((s,o)=>{let[l,...u]=s;return Array(n[o]).fill().map((c,f)=>{let d=f*i;return[l+f*r,u.map(h=>h+d)]})})}function KR(t,e){let r=1+e();return dC(r,1+t,e).map(n=>[n[0],n.slice(1)])}function XR(t){let e=[],r=cd(t);return n(i([]),[]),e;function i(a){let s=t(),o=fd(()=>{let l=cd(t).map(u=>r[u]);if(l.length)return i(l)});return{S:s,B:o,Q:a}}function n({S:a,B:s},o,l){if(!(a&4&&l===o[o.length-1])){a&2&&(l=o[o.length-1]),a&1&&e.push(o);for(let u of s)for(let c of u.Q)n(u,[...o,c],l)}}}function YR(t){return t.toString(16).toUpperCase().padStart(2,"0")}function hC(t){return`{${YR(t)}}`}function JR(t){let e=[];for(let r=0,i=t.length;r<i;){let n=t.codePointAt(r);r+=n<65536?1:2,e.push(n)}return e}function rc(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let i=[];for(let n=0;n<r;)i.push(String.fromCodePoint(...t.slice(n,n+=4096)));return i.join("")}function ZR(t,e){let r=t.length,i=r-e.length;for(let n=0;i==0&&n<r;n++)i=t[n]-e[n];return i}var eL="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const dd=44032,_m=4352,Em=4449,Sm=4519,pC=19,mC=21,nc=28,Am=mC*nc,tL=pC*Am,rL=dd+tL,nL=_m+pC,iL=Em+mC,aL=Sm+nc;function ff(t){return t>>24&255}function gC(t){return t&16777215}let n2,bw,i2,kp;function sL(){let t=uC(eL);n2=new Map(cC(t).flatMap((e,r)=>e.map(i=>[i,r+1<<24]))),bw=new Set(cd(t)),i2=new Map,kp=new Map;for(let[e,r]of fC(t)){if(!bw.has(e)&&r.length==2){let[i,n]=r,a=kp.get(i);a||(a=new Map,kp.set(i,a)),a.set(n,e)}i2.set(e,r.reverse())}}function vC(t){return t>=dd&&t<rL}function oL(t,e){if(t>=_m&&t<nL&&e>=Em&&e<iL)return dd+(t-_m)*Am+(e-Em)*nc;if(vC(t)&&e>Sm&&e<aL&&(t-dd)%nc==0)return t+(e-Sm);{let r=kp.get(t);return r&&(r=r.get(e),r)?r:-1}}function yC(t){n2||sL();let e=[],r=[],i=!1;function n(a){let s=n2.get(a);s&&(i=!0,a|=s),e.push(a)}for(let a of t)for(;;){if(a<128)e.push(a);else if(vC(a)){let s=a-dd,o=s/Am|0,l=s%Am/nc|0,u=s%nc;n(_m+o),n(Em+l),u>0&&n(Sm+u)}else{let s=i2.get(a);s?r.push(...s):n(a)}if(!r.length)break;a=r.pop()}if(i&&e.length>1){let a=ff(e[0]);for(let s=1;s<e.length;s++){let o=ff(e[s]);if(o==0||a<=o){a=o;continue}let l=s-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(a=ff(e[--l]),a<=o))break}a=ff(e[s])}}return e}function lL(t){let e=[],r=[],i=-1,n=0;for(let a of t){let s=ff(a),o=gC(a);if(i==-1)s==0?i=o:e.push(o);else if(n>0&&n>=s)s==0?(e.push(i,...r),r.length=0,i=o):r.push(o),n=s;else{let l=oL(i,o);l>=0?i=l:n==0&&s==0?(e.push(i),i=o):(r.push(o),n=s)}}return i>=0&&e.push(i,...r),e}function bC(t){return yC(t).map(gC)}function uL(t){return lL(yC(t))}const xw=45,xC=".",TC=65039,wC=1,Cm=t=>Array.from(t);function hd(t,e){return t.P.has(e)||t.Q.has(e)}class cL extends Array{get is_emoji(){return!0}}let a2,_C,nl,s2,EC,e0,pv,wu,Qo,Tw,o2;function m6(){if(a2)return;let t=uC(VR);const e=()=>cd(t),r=()=>new Set(e()),i=(c,f)=>f.forEach(d=>c.add(d));a2=new Map(fC(t)),_C=r(),nl=e(),s2=new Set(e().map(c=>nl[c])),nl=new Set(nl),EC=r(),r();let n=cC(t),a=t();const s=()=>{let c=new Set;return e().forEach(f=>i(c,n[f])),i(c,e()),c};e0=fd(c=>{let f=fd(t).map(d=>d+96);if(f.length){let d=c>=a;f[0]-=32,f=rc(f),d&&(f=`Restricted[${f}]`);let h=s(),y=s(),m=!t();return{N:f,P:h,Q:y,M:m,R:d}}}),pv=r(),wu=new Map;let o=e().concat(Cm(pv)).sort((c,f)=>c-f);o.forEach((c,f)=>{let d=t(),h=o[f]=d?o[f-d]:{V:[],M:new Map};h.V.push(c),pv.has(c)||wu.set(c,h)});for(let{V:c,M:f}of new Set(wu.values())){let d=[];for(let y of c){let m=e0.filter(b=>hd(b,y)),T=d.find(({G:b})=>m.some(E=>b.has(E)));T||(T={G:new Set,V:[]},d.push(T)),T.V.push(y),i(T.G,m)}let h=d.flatMap(y=>Cm(y.G));for(let{G:y,V:m}of d){let T=new Set(h.filter(b=>!y.has(b)));for(let b of m)f.set(b,T)}}Qo=new Set;let l=new Set;const u=c=>Qo.has(c)?l.add(c):Qo.add(c);for(let c of e0){for(let f of c.P)u(f);for(let f of c.Q)u(f)}for(let c of Qo)!wu.has(c)&&!l.has(c)&&wu.set(c,wC);i(Qo,bC(Qo)),Tw=XR(t).map(c=>cL.from(c)).sort(ZR),o2=new Map;for(let c of Tw){let f=[o2];for(let d of c){let h=f.map(y=>{let m=y.get(d);return m||(m=new Map,y.set(d,m)),m});d===TC?f.push(...h):f=h}for(let d of f)d.V=c}}function g6(t){return(SC(t)?"":`${v6(Bg([t]))} `)+hC(t)}function v6(t){return`"${t}"‎`}function fL(t){if(t.length>=4&&t[2]==xw&&t[3]==xw)throw new Error(`invalid label extension: "${rc(t.slice(0,4))}"`)}function dL(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function hL(t){let e=t[0],r=vw.get(e);if(r)throw Nf(`leading ${r}`);let i=t.length,n=-1;for(let a=1;a<i;a++){e=t[a];let s=vw.get(e);if(s){if(n==a)throw Nf(`${r} + ${s}`);n=a+1,r=s}}if(n==i)throw Nf(`trailing ${r}`)}function Bg(t,e=1/0,r=hC){let i=[];pL(t[0])&&i.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let n=0,a=t.length;for(let s=0;s<a;s++){let o=t[s];SC(o)&&(i.push(rc(t.slice(n,s))),i.push(r(o)),n=s+1)}return i.push(rc(t.slice(n,a))),i.join("")}function pL(t){return m6(),nl.has(t)}function SC(t){return m6(),EC.has(t)}function mL(t){return bL(gL(t,uL,wL))}function gL(t,e,r){if(!t)return[];m6();let i=0;return t.split(xC).map(n=>{let a=JR(n),s={input:a,offset:i};i+=a.length+1;try{let o=s.tokens=TL(a,e,r),l=o.length,u;if(!l)throw new Error("empty label");let c=s.output=o.flat();if(dL(c),!(s.emoji=l>1||o[0].is_emoji)&&c.every(d=>d<128))fL(c),u="ASCII";else{let d=o.flatMap(h=>h.is_emoji?[]:h);if(!d.length)u="Emoji";else{if(nl.has(c[0]))throw Nf("leading combining mark");for(let m=1;m<l;m++){let T=o[m];if(!T.is_emoji&&nl.has(T[0]))throw Nf(`emoji + combining mark: "${rc(o[m-1])} + ${Bg([T[0]])}"`)}hL(c);let h=Cm(new Set(d)),[y]=yL(h);xL(y,d),vL(y,h),u=y.N}}s.type=u}catch(o){s.error=o}return s})}function vL(t,e){let r,i=[];for(let n of e){let a=wu.get(n);if(a===wC)return;if(a){let s=a.M.get(n);if(r=r?r.filter(o=>s.has(o)):Cm(s),!r.length)return}else i.push(n)}if(r){for(let n of r)if(i.every(a=>hd(n,a)))throw new Error(`whole-script confusable: ${t.N}/${n.N}`)}}function yL(t){let e=e0;for(let r of t){let i=e.filter(n=>hd(n,r));if(!i.length)throw e0.some(n=>hd(n,r))?CC(e[0],r):AC(r);if(e=i,i.length==1)break}return e}function bL(t){return t.map(({input:e,error:r,output:i})=>{if(r){let n=r.message;throw new Error(t.length==1?n:`Invalid label ${v6(Bg(e,63))}: ${n}`)}return rc(i)}).join(xC)}function AC(t){return new Error(`disallowed character: ${g6(t)}`)}function CC(t,e){let r=g6(e),i=e0.find(n=>n.P.has(e));return i&&(r=`${i.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Nf(t){return new Error(`illegal placement: ${t}`)}function xL(t,e){for(let r of e)if(!hd(t,r))throw CC(t,r);if(t.M){let r=bC(e);for(let i=1,n=r.length;i<n;i++)if(s2.has(r[i])){let a=i+1;for(let s;a<n&&s2.has(s=r[a]);a++)for(let o=i;o<a;o++)if(r[o]==s)throw new Error(`duplicate non-spacing marks: ${g6(s)}`);if(a-i>yw)throw new Error(`excessive non-spacing marks: ${v6(Bg(r.slice(i-1,a)))} (${a-i}/${yw})`);i=a}}}function TL(t,e,r){let i=[],n=[];for(t=t.slice().reverse();t.length;){let a=_L(t);if(a)n.length&&(i.push(e(n)),n=[]),i.push(r(a));else{let s=t.pop();if(Qo.has(s))n.push(s);else{let o=a2.get(s);if(o)n.push(...o);else if(!_C.has(s))throw AC(s)}}}return n.length&&i.push(e(n)),i}function wL(t){return t.filter(e=>e!=TC)}function _L(t,e){let r=o2,i,n=t.length;for(;n&&(r=r.get(t[--n]),!!r);){let{V:a}=r;a&&(i=a,e&&e.push(...t.slice(n).reverse()),t.length=n)}return i}const PC=new Uint8Array(32);PC.fill(0);function ww(t){return $(t.length!==0,"invalid ENS name; empty component","comp",t),t}function kC(t){const e=_i(EL(t)),r=[];if(t.length===0)return r;let i=0;for(let n=0;n<e.length;n++)e[n]===46&&(r.push(ww(e.slice(i,n))),i=n+1);return $(i<e.length,"invalid ENS name; empty component","name",t),r.push(ww(e.slice(i))),r}function EL(t){try{if(t.length===0)throw new Error("empty label");return mL(t)}catch(e){$(!1,`invalid ENS name (${e.message})`,"name",t)}}function l2(t){$(typeof t=="string","invalid ENS name; not a string","name",t),$(t.length,"invalid ENS name (empty label)","name",t);let e=PC;const r=kC(t);for(;r.length;)e=Vt(mr([e,Vt(r.pop())]));return je(e)}function SL(t,e){const r=e??63;return $(r<=255,"DNS encoded label cannot exceed 255","length",r),je(mr(kC(t).map(i=>{$(i.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const n=new Uint8Array(i.length+1);return n.set(i,1),n[0]=n.length-1,n})))+"00"}function mv(t,e){return{address:Ct(t),storageKeys:e.map((r,i)=>($(Ot(r,32),"invalid slot",`storageKeys[${i}]`,r),r.toLowerCase()))}}function Zl(t){if(Array.isArray(t))return t.map((r,i)=>Array.isArray(r)?($(r.length===2,"invalid slot set",`value[${i}]`,r),mv(r[0],r[1])):($(r!=null&&typeof r=="object","invalid address-slot set","value",t),mv(r.address,r.storageKeys)));$(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const i=t[r].reduce((n,a)=>(n[a]=!0,n),{});return mv(r,Object.keys(i).sort())});return e.sort((r,i)=>r.address.localeCompare(i.address)),e}function AL(t){let e;return typeof t=="string"?e=ud.computePublicKey(t,!1):e=t.publicKey,Ct(Vt("0x"+e.substring(4)).substring(26))}function DC(t,e){return AL(ud.recoverPublicKey(t,e))}const Or=BigInt(0),CL=BigInt(2),PL=BigInt(27),kL=BigInt(28),DL=BigInt(35),IL=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ug(t){return t==="0x"?null:Ct(t)}function y6(t,e){try{return Zl(t)}catch(r){$(!1,r.message,e,t)}}function rh(t,e){return t==="0x"?0:at(t,e)}function dr(t,e){if(t==="0x")return Or;const r=Le(t,e);return $(r<=IL,"value exceeds uint size",e,r),r}function jt(t,e){const r=Le(t,"value"),i=xn(r);return $(i.length<=32,"value too large",`tx.${e}`,r),i}function b6(t){return Zl(t).map(e=>[e.address,e.storageKeys])}function NL(t,e){$(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)$(Ot(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function OL(t){const e=Rg(t);$(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:rh(e[0],"nonce"),gasPrice:dr(e[1],"gasPrice"),gasLimit:dr(e[2],"gasLimit"),to:Ug(e[3]),value:dr(e[4],"value"),data:je(e[5]),chainId:Or};if(e.length===6)return r;const i=dr(e[6],"v"),n=dr(e[7],"r"),a=dr(e[8],"s");if(n===Or&&a===Or)r.chainId=i;else{let s=(i-DL)/CL;s<Or&&(s=Or),r.chainId=s,$(s!==Or||i===PL||i===kL,"non-canonical legacy v","v",e[6]),r.signature=Ki.from({r:zl(e[7],32),s:zl(e[8],32),v:i}),r.hash=Vt(t)}return r}function _w(t,e){const r=[jt(t.nonce,"nonce"),jt(t.gasPrice||0,"gasPrice"),jt(t.gasLimit,"gasLimit"),t.to||"0x",jt(t.value,"value"),t.data];let i=Or;if(t.chainId!=Or)i=Le(t.chainId,"tx.chainId"),$(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const a=t.signature.legacyChainId;a!=null&&(i=a)}if(!e)return i!==Or&&(r.push(xn(i)),r.push("0x"),r.push("0x")),Y0(r);let n=BigInt(27+e.yParity);return i!==Or?n=Ki.getChainIdV(i,e.v):BigInt(e.v)!==n&&$(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(xn(n)),r.push(xn(e.r)),r.push(xn(e.s)),Y0(r)}function x6(t,e){let r;try{if(r=rh(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{$(!1,"invalid yParity","yParity",e[0])}const i=zl(e[1],32),n=zl(e[2],32),a=Ki.from({r:i,s:n,yParity:r});t.signature=a}function RL(t){const e=Rg(xt(t).slice(1));$(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",je(t));const r={type:2,chainId:dr(e[0],"chainId"),nonce:rh(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:Ug(e[5]),value:dr(e[6],"value"),data:je(e[7]),accessList:y6(e[8],"accessList")};return e.length===9||(r.hash=Vt(t),x6(r,e.slice(9))),r}function Ew(t,e){const r=[jt(t.chainId,"chainId"),jt(t.nonce,"nonce"),jt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jt(t.maxFeePerGas||0,"maxFeePerGas"),jt(t.gasLimit,"gasLimit"),t.to||"0x",jt(t.value,"value"),t.data,b6(t.accessList||[])];return e&&(r.push(jt(e.yParity,"yParity")),r.push(xn(e.r)),r.push(xn(e.s))),mr(["0x02",Y0(r)])}function LL(t){const e=Rg(xt(t).slice(1));$(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",je(t));const r={type:1,chainId:dr(e[0],"chainId"),nonce:rh(e[1],"nonce"),gasPrice:dr(e[2],"gasPrice"),gasLimit:dr(e[3],"gasLimit"),to:Ug(e[4]),value:dr(e[5],"value"),data:je(e[6]),accessList:y6(e[7],"accessList")};return e.length===8||(r.hash=Vt(t),x6(r,e.slice(8))),r}function Sw(t,e){const r=[jt(t.chainId,"chainId"),jt(t.nonce,"nonce"),jt(t.gasPrice||0,"gasPrice"),jt(t.gasLimit,"gasLimit"),t.to||"0x",jt(t.value,"value"),t.data,b6(t.accessList||[])];return e&&(r.push(jt(e.yParity,"recoveryParam")),r.push(xn(e.r)),r.push(xn(e.s))),mr(["0x01",Y0(r)])}function FL(t){const e=Rg(xt(t).slice(1));$(Array.isArray(e)&&(e.length===11||e.length===14),"invalid field count for transaction type: 3","data",je(t));const r={type:3,chainId:dr(e[0],"chainId"),nonce:rh(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:Ug(e[5]),value:dr(e[6],"value"),data:je(e[7]),accessList:y6(e[8],"accessList"),maxFeePerBlobGas:dr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};$(r.to!=null,"invalid address for transaction type: 3","data",t),$(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<r.blobVersionedHashes.length;i++)$(Ot(r.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||(r.hash=Vt(t),x6(r,e.slice(11))),r}function Aw(t,e){const r=[jt(t.chainId,"chainId"),jt(t.nonce,"nonce"),jt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jt(t.maxFeePerGas||0,"maxFeePerGas"),jt(t.gasLimit,"gasLimit"),t.to||ld,jt(t.value,"value"),t.data,b6(t.accessList||[]),jt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),NL(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(jt(e.yParity,"yParity")),r.push(xn(e.r)),r.push(xn(e.s))),mr(["0x03",Y0(r)])}var ca,p0,m0,g0,v0,y0,b0,x0,T0,w0,_0,E0,vl,yl;const ja=class ja{constructor(){Z(this,ca,void 0);Z(this,p0,void 0);Z(this,m0,void 0);Z(this,g0,void 0);Z(this,v0,void 0);Z(this,y0,void 0);Z(this,b0,void 0);Z(this,x0,void 0);Z(this,T0,void 0);Z(this,w0,void 0);Z(this,_0,void 0);Z(this,E0,void 0);Z(this,vl,void 0);Z(this,yl,void 0);U(this,ca,null),U(this,p0,null),U(this,g0,0),U(this,v0,Or),U(this,y0,null),U(this,b0,null),U(this,x0,null),U(this,m0,"0x"),U(this,T0,Or),U(this,w0,Or),U(this,_0,null),U(this,E0,null),U(this,vl,null),U(this,yl,null)}get type(){return k(this,ca)}set type(e){switch(e){case null:U(this,ca,null);break;case 0:case"legacy":U(this,ca,0);break;case 1:case"berlin":case"eip-2930":U(this,ca,1);break;case 2:case"london":case"eip-1559":U(this,ca,2);break;case 3:case"cancun":case"eip-4844":U(this,ca,3);break;default:$(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=k(this,p0);return e==null&&this.type===3?ld:e}set to(e){U(this,p0,e==null?null:Ct(e))}get nonce(){return k(this,g0)}set nonce(e){U(this,g0,at(e,"value"))}get gasLimit(){return k(this,v0)}set gasLimit(e){U(this,v0,Le(e))}get gasPrice(){const e=k(this,y0);return e==null&&(this.type===0||this.type===1)?Or:e}set gasPrice(e){U(this,y0,e==null?null:Le(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=k(this,b0);return e??(this.type===2||this.type===3?Or:null)}set maxPriorityFeePerGas(e){U(this,b0,e==null?null:Le(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=k(this,x0);return e??(this.type===2||this.type===3?Or:null)}set maxFeePerGas(e){U(this,x0,e==null?null:Le(e,"maxFeePerGas"))}get data(){return k(this,m0)}set data(e){U(this,m0,je(e))}get value(){return k(this,T0)}set value(e){U(this,T0,Le(e,"value"))}get chainId(){return k(this,w0)}set chainId(e){U(this,w0,Le(e))}get signature(){return k(this,_0)||null}set signature(e){U(this,_0,e==null?null:Ki.from(e))}get accessList(){const e=k(this,E0)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){U(this,E0,e==null?null:Zl(e))}get maxFeePerBlobGas(){const e=k(this,vl);return e==null&&this.type===3?Or:e}set maxFeePerBlobGas(e){U(this,vl,e==null?null:Le(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=k(this,yl);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){$(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)$(Ot(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}U(this,yl,e)}get hash(){return this.signature==null?null:Vt(this.serialized)}get unsignedHash(){return Vt(this.unsignedSerialized)}get from(){return this.signature==null?null:DC(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ud.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(fe(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return _w(this,this.signature);case 1:return Sw(this,this.signature);case 2:return Ew(this,this.signature);case 3:return Aw(this,this.signature)}fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return _w(this);case 1:return Sw(this);case 2:return Ew(this);case 3:return Aw(this)}fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,n=k(this,vl)!=null||k(this,yl);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&fe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),fe(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),fe(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):r?a.push(2):e?(a.push(1),i||a.push(0)):i?(a.push(1),a.push(2)):(n&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ja.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ja;if(typeof e=="string"){const i=xt(e);if(i[0]>=127)return ja.from(OL(i));switch(i[0]){case 1:return ja.from(LL(i));case 2:return ja.from(RL(i));case 3:return ja.from(FL(i))}fe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new ja;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Ki.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.hash!=null&&($(r.isSigned(),"unsigned transaction cannot define hash","tx",e),$(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&($(r.isSigned(),"unsigned transaction cannot define from","tx",e),$(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};ca=new WeakMap,p0=new WeakMap,m0=new WeakMap,g0=new WeakMap,v0=new WeakMap,y0=new WeakMap,b0=new WeakMap,x0=new WeakMap,T0=new WeakMap,w0=new WeakMap,_0=new WeakMap,E0=new WeakMap,vl=new WeakMap,yl=new WeakMap;let Pm=ja;function ML(t){return typeof t=="string"&&(t=_i(t)),Vt(mr([_i(wR),_i(String(t.length)),t]))}function T6(t,e){const r=ML(t);return DC(r,e)}const IC=new Uint8Array(32);IC.fill(0);const BL=BigInt(-1),NC=BigInt(0),OC=BigInt(1),UL=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jL(t){const e=xt(t),r=e.length%32;return r?mr([e,IC.slice(r)]):je(e)}const HL=Eo(OC,32),VL=Eo(NC,32),Cw={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gv=["name","version","chainId","verifyingContract","salt"];function Pw(t){return function(e){return $(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const zL={name:Pw("name"),version:Pw("version"),chainId:function(t){const e=Le(t,"domain.chainId");return $(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Uu(e)},verifyingContract:function(t){try{return Ct(t).toLowerCase()}catch{}$(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=xt(t,"domain.salt");return $(e.length===32,'invalid domain value "salt"',"domain.salt",t),je(e)}};function vv(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",i=parseInt(e[2]);$(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",t);const n=uf(UL,r?i-1:i),a=r?(n+OC)*BL:NC;return function(s){const o=Le(s,"value");return $(o>=a&&o<=n,`value out-of-bounds for ${t}`,"value",o),Eo(r?DA(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return $(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(i){const n=xt(i);return $(n.length===r,`invalid length for ${t}`,"value",i),jL(i)}}}switch(t){case"address":return function(e){return zl(Ct(e),32)};case"bool":return function(e){return e?HL:VL};case"bytes":return function(e){return Vt(e)};case"string":return function(e){return Gl(e)}}return null}function kw(t,e){return`${t}(${e.map(({name:r,type:i})=>i+" "+r).join(",")})`}function tp(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Nd,Qa,S0,sg,RC;const fi=class fi{constructor(e){Z(this,sg);X(this,"primaryType");Z(this,Nd,void 0);Z(this,Qa,void 0);Z(this,S0,void 0);U(this,Qa,new Map),U(this,S0,new Map);const r=new Map,i=new Map,n=new Map,a={};Object.keys(e).forEach(l=>{a[l]=e[l].map(({name:u,type:c})=>{let{base:f,index:d}=tp(c);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(d||"")}}),r.set(l,new Set),i.set(l,[]),n.set(l,new Set)}),U(this,Nd,JSON.stringify(a));for(const l in a){const u=new Set;for(const c of a[l]){$(!u.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(l)}`,"types",e),u.add(c.name);const f=tp(c.type).base;$(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!vv(f)&&($(i.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),i.get(f).push(l),r.get(l).add(f))}}const s=Array.from(i.keys()).filter(l=>i.get(l).length===0);$(s.length!==0,"missing primary type","types",e),$(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Qe(this,{primaryType:s[0]});function o(l,u){$(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const c of r.get(l))if(i.has(c)){o(c,u);for(const f of u)n.get(f).add(c)}u.delete(l)}o(this.primaryType,new Set);for(const[l,u]of n){const c=Array.from(u);c.sort(),k(this,Qa).set(l,kw(l,a[l])+c.map(f=>kw(f,a[f])).join(""))}}get types(){return JSON.parse(k(this,Nd))}getEncoder(e){let r=k(this,S0).get(e);return r||(r=Pe(this,sg,RC).call(this,e),k(this,S0).set(e,r)),r}encodeType(e){const r=k(this,Qa).get(e);return $(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Vt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,i){if(vv(e))return i(e,r);const n=tp(e).array;if(n)return $(n.count===-1||n.count===r.length,`array length mismatch; expected length ${n.count}`,"value",r),r.map(s=>this._visit(n.prefix,s,i));const a=this.types[e];if(a)return a.reduce((s,{name:o,type:l})=>(s[o]=this._visit(l,r[o],i),s),{});$(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new fi(e)}static getPrimaryType(e){return fi.from(e).primaryType}static hashStruct(e,r,i){return fi.from(r).hashStruct(e,i)}static hashDomain(e){const r=[];for(const i in e){if(e[i]==null)continue;const n=Cw[i];$(n,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),r.push({name:i,type:n})}return r.sort((i,n)=>gv.indexOf(i.name)-gv.indexOf(n.name)),fi.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,i){return mr(["0x1901",fi.hashDomain(e),fi.from(r).hash(i)])}static hash(e,r,i){return Vt(fi.encode(e,r,i))}static async resolveNames(e,r,i,n){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const a={};e.verifyingContract&&!Ot(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=fi.from(r);s.visit(i,(o,l)=>(o==="address"&&!Ot(l,20)&&(a[l]="0x"),l));for(const o in a)a[o]=await n(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),i=s.visit(i,(o,l)=>o==="address"&&a[l]?a[l]:l),{domain:e,value:i}}static getPayload(e,r,i){fi.hashDomain(e);const n={},a=[];gv.forEach(l=>{const u=e[l];u!=null&&(n[l]=zL[l](u),a.push({name:l,type:Cw[l]}))});const s=fi.from(r);r=s.types;const o=Object.assign({},r);return $(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),o.EIP712Domain=a,s.encode(i),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(i,(l,u)=>{if(l.match(/^bytes(\d*)/))return je(xt(u));if(l.match(/^u?int/))return Le(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return $(typeof u=="string","invalid string","value",u),u}$(!1,"unsupported type","type",l)})}}};Nd=new WeakMap,Qa=new WeakMap,S0=new WeakMap,sg=new WeakSet,RC=function(e){{const n=vv(e);if(n)return n}const r=tp(e).array;if(r){const n=r.prefix,a=this.getEncoder(n);return s=>{$(r.count===-1||r.count===s.length,`array length mismatch; expected length ${r.count}`,"value",s);let o=s.map(a);return k(this,Qa).has(n)&&(o=o.map(Vt)),Vt(mr(o))}}const i=this.types[e];if(i){const n=Gl(k(this,Qa).get(e));return a=>{const s=i.map(({name:o,type:l})=>{const u=this.getEncoder(l)(a[o]);return k(this,Qa).has(l)?Vt(u):u});return s.unshift(n),mr(s)}}$(!1,`unknown type: ${e}`,"type",e)};let km=fi;function _n(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const GL="external public payable override",qL=_n(GL.split(" ")),LC="constant external internal payable private public pure view override",WL=_n(LC.split(" ")),FC="constructor error event fallback function receive struct",MC=_n(FC.split(" ")),BC="calldata memory storage payable indexed",$L=_n(BC.split(" ")),QL="tuple returns",KL=[FC,BC,QL,LC].join(" "),XL=_n(KL.split(" ")),YL={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},JL=new RegExp("^(\\s*)"),ZL=new RegExp("^([0-9]+)"),eF=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),UC=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),jC=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var jr,Bi,Od,u2;const og=class og{constructor(e){Z(this,Od);Z(this,jr,void 0);Z(this,Bi,void 0);U(this,jr,0),U(this,Bi,e.slice())}get offset(){return k(this,jr)}get length(){return k(this,Bi).length-k(this,jr)}clone(){return new og(k(this,Bi))}reset(){U(this,jr,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Pe(this,Od,u2).call(this,k(this,jr)+1,e.match+1);return U(this,jr,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;k(this,jr)<e.match-1;){const i=this.peek().linkNext;r.push(Pe(this,Od,u2).call(this,k(this,jr)+1,i)),U(this,jr,i)}return U(this,jr,e.match+1),r}peek(){if(k(this,jr)>=k(this,Bi).length)throw new Error("out-of-bounds");return k(this,Bi)[k(this,jr)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Bc(this,jr)._++,e}toString(){const e=[];for(let r=k(this,jr);r<k(this,Bi).length;r++){const i=k(this,Bi)[r];e.push(`${i.type}:${i.text}`)}return`<TokenString ${e.join(" ")}>`}};jr=new WeakMap,Bi=new WeakMap,Od=new WeakSet,u2=function(e=0,r=0){return new og(k(this,Bi).slice(e,r).map(i=>Object.freeze(Object.assign({},i,{match:i.match-e,linkBack:i.linkBack-e,linkNext:i.linkNext-e}))))};let Xi=og;function Oo(t){const e=[],r=s=>{const o=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error(`invalid token ${o} at ${a}: ${s}`)};let i=[],n=[],a=0;for(;a<t.length;){let s=t.substring(a),o=s.match(JL);o&&(a+=o[1].length,s=t.substring(a));const l={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(l);let u=YL[s[0]]||"";if(u){if(l.type=u,l.text=s[0],a++,u==="OPEN_PAREN")i.push(e.length-1),n.push(e.length-1);else if(u=="CLOSE_PAREN")i.length===0&&r("no matching open bracket"),l.match=i.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=n.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=n.pop(),e[l.linkBack].linkNext=e.length-1,n.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let c=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;c=f+c,e[e.length-1].value=at(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=c}continue}if(o=s.match(eF),o){if(l.text=o[1],a+=l.text.length,XL.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(jC)){l.type="TYPE";continue}l.type="ID";continue}if(o=s.match(ZL),o){l.text=o[1],l.type="NUMBER",a+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${a}`)}return new Xi(e.map(s=>Object.freeze(s)))}function Dw(t,e){let r=[];for(const i in e.keys())t.has(i)&&r.push(i);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function jg(t,e){if(e.peekKeyword(MC)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function ys(t,e){const r=new Set;for(;;){const i=t.peekType("KEYWORD");if(i==null||e&&!e.has(i))break;if(t.pop(),r.has(i))throw new Error(`duplicate keywords: ${JSON.stringify(i)}`);r.add(i)}return Object.freeze(r)}function HC(t){let e=ys(t,WL);return Dw(e,_n("constant payable nonpayable".split(" "))),Dw(e,_n("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ls(t,e){return t.popParams().map(r=>qr.from(r,e))}function VC(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Le(t.pop().text);throw new Error("invalid gas")}return null}function ql(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const tF=new RegExp(/^(.*)\[([0-9]*)\]$/);function Iw(t){const e=t.match(jC);if($(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);$(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);$(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const er={},Vn=Symbol.for("_ethers_internal"),Nw="_ParamTypeInternal",Ow="_ErrorInternal",Rw="_EventInternal",Lw="_ConstructorInternal",Fw="_FallbackInternal",Mw="_FunctionInternal",Bw="_StructInternal";var A0,Dp;const di=class di{constructor(e,r,i,n,a,s,o,l){Z(this,A0);X(this,"name");X(this,"type");X(this,"baseType");X(this,"indexed");X(this,"components");X(this,"arrayLength");X(this,"arrayChildren");if(Ig(e,er,"ParamType"),Object.defineProperty(this,Vn,{value:Nw}),s&&(s=Object.freeze(s.slice())),n==="array"){if(o==null||l==null)throw new Error("")}else if(o!=null||l!=null)throw new Error("");if(n==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Qe(this,{name:r,type:i,baseType:n,indexed:a,components:s,arrayLength:o,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const i=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=i,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const n={type:this.baseType==="tuple"?"tuple":this.type,name:i};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(n)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(i=>i.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this;return e.map(n=>i.arrayChildren.walk(n,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const i=this;return e.map((n,a)=>i.components[a].walk(n,r))}return r(this.type,e)}async walkAsync(e,r){const i=[],n=[e];return Pe(this,A0,Dp).call(this,i,e,r,a=>{n[0]=a}),i.length&&await Promise.all(i),n[0]}static from(e,r){if(di.isParamType(e))return e;if(typeof e=="string")try{return di.from(Oo(e),r)}catch{$(!1,"invalid param type","obj",e)}else if(e instanceof Xi){let o="",l="",u=null;ys(e,_n(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(m=>di.from(m)),o=`tuple(${u.map(m=>m.format()).join(",")})`):(o=Iw(e.popType("TYPE")),l=o);let c=null,f=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();c=new di(er,"",o,l,null,u,f,c),f=m.value,o+=m.text,l="array",u=null}let d=null;if(ys(e,$L).has("indexed")){if(!r)throw new Error("");d=!0}const y=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new di(er,y,o,l,d,u,f,c)}const i=e.name;$(!i||typeof i=="string"&&i.match(UC),"invalid name","obj.name",i);let n=e.indexed;n!=null&&($(r,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let a=e.type,s=a.match(tF);if(s){const o=parseInt(s[2]||"-1"),l=di.from({type:s[1],components:e.components});return new di(er,i||"",a,"array",n,null,o,l)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const o=e.components!=null?e.components.map(u=>di.from(u)):null;return new di(er,i||"",a,"tuple",n,o,null,null)}return a=Iw(e.type),new di(er,i||"",a,a,n,null,null,null)}static isParamType(e){return e&&e[Vn]===Nw}};A0=new WeakSet,Dp=function(e,r,i,n){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,o=r.slice();o.forEach((l,u)=>{var c;Pe(c=s,A0,Dp).call(c,e,l,i,f=>{o[u]=f})}),n(o);return}if(this.isTuple()){const s=this.components;let o;if(Array.isArray(r))o=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");o=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in r))throw new Error(`missing value for component ${l.name}`);return r[l.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((l,u)=>{var c;Pe(c=s[u],A0,Dp).call(c,e,l,i,f=>{o[u]=f})}),n(o);return}const a=i(this.type,r);a.then?e.push(async function(){n(await a)}()):n(a)};let qr=di;class Wl{constructor(e,r,i){X(this,"type");X(this,"inputs");Ig(e,er,"Fragment"),i=Object.freeze(i.slice()),Qe(this,{type:r,inputs:i})}static from(e){if(typeof e=="string"){try{Wl.from(JSON.parse(e))}catch{}return Wl.from(Oo(e))}if(e instanceof Xi)switch(e.peekKeyword(MC)){case"constructor":return ss.from(e);case"error":return Rn.from(e);case"event":return ba.from(e);case"fallback":case"receive":return Va.from(e);case"function":return xa.from(e);case"struct":return Nl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ss.from(e);case"error":return Rn.from(e);case"event":return ba.from(e);case"fallback":case"receive":return Va.from(e);case"function":return xa.from(e);case"struct":return Nl.from(e)}fe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}$(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ss.isFragment(e)}static isError(e){return Rn.isFragment(e)}static isEvent(e){return ba.isFragment(e)}static isFunction(e){return xa.isFragment(e)}static isStruct(e){return Nl.isFragment(e)}}class Hg extends Wl{constructor(r,i,n,a){super(r,i,a);X(this,"name");$(typeof n=="string"&&n.match(UC),"invalid identifier","name",n),a=Object.freeze(a.slice()),Qe(this,{name:n})}}function pd(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Rn extends Hg{constructor(e,r,i){super(e,"error",r,i),Object.defineProperty(this,Vn,{value:Ow})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+pd(e,this.inputs)),r.join(" ")}static from(e){if(Rn.isFragment(e))return e;if(typeof e=="string")return Rn.from(Oo(e));if(e instanceof Xi){const r=jg("error",e),i=ls(e);return ql(e),new Rn(er,r,i)}return new Rn(er,e.name,e.inputs?e.inputs.map(qr.from):[])}static isFragment(e){return e&&e[Vn]===Ow}}class ba extends Hg{constructor(r,i,n,a){super(r,"event",i,n);X(this,"anonymous");Object.defineProperty(this,Vn,{value:Rw}),Qe(this,{anonymous:a})}get topicHash(){return Gl(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(r)))});const i=[];return r!=="sighash"&&i.push("event"),i.push(this.name+pd(r,this.inputs)),r!=="sighash"&&this.anonymous&&i.push("anonymous"),i.join(" ")}static getTopicHash(r,i){return i=(i||[]).map(a=>qr.from(a)),new ba(er,r,i,!1).topicHash}static from(r){if(ba.isFragment(r))return r;if(typeof r=="string")try{return ba.from(Oo(r))}catch{$(!1,"invalid event fragment","obj",r)}else if(r instanceof Xi){const i=jg("event",r),n=ls(r,!0),a=!!ys(r,_n(["anonymous"])).has("anonymous");return ql(r),new ba(er,i,n,a)}return new ba(er,r.name,r.inputs?r.inputs.map(i=>qr.from(i,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Vn]===Rw}}class ss extends Wl{constructor(r,i,n,a,s){super(r,i,n);X(this,"payable");X(this,"gas");Object.defineProperty(this,Vn,{value:Lw}),Qe(this,{payable:a,gas:s})}format(r){if(fe(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(r)))});const i=[`constructor${pd(r,this.inputs)}`];return this.payable&&i.push("payable"),this.gas!=null&&i.push(`@${this.gas.toString()}`),i.join(" ")}static from(r){if(ss.isFragment(r))return r;if(typeof r=="string")try{return ss.from(Oo(r))}catch{$(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Xi){ys(r,_n(["constructor"]));const i=ls(r),n=!!ys(r,qL).has("payable"),a=VC(r);return ql(r),new ss(er,"constructor",i,n,a)}return new ss(er,"constructor",r.inputs?r.inputs.map(qr.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Vn]===Lw}}class Va extends Wl{constructor(r,i,n){super(r,"fallback",i);X(this,"payable");Object.defineProperty(this,Vn,{value:Fw}),Qe(this,{payable:n})}format(r){const i=this.inputs.length===0?"receive":"fallback";if(r==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:i,stateMutability:n})}return`${i}()${this.payable?" payable":""}`}static from(r){if(Va.isFragment(r))return r;if(typeof r=="string")try{return Va.from(Oo(r))}catch{$(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Xi){const i=r.toString(),n=r.peekKeyword(_n(["fallback","receive"]));if($(n,"type must be fallback or receive","obj",i),r.popKeyword(_n(["fallback","receive"]))==="receive"){const l=ls(r);return $(l.length===0,"receive cannot have arguments","obj.inputs",l),ys(r,_n(["payable"])),ql(r),new Va(er,[],!0)}let s=ls(r);s.length?$(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(l=>l.format("minimal")).join(", ")):s=[qr.from("bytes")];const o=HC(r);if($(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),ys(r,_n(["returns"])).has("returns")){const l=ls(r);$(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(u=>u.format("minimal")).join(", "))}return ql(r),new Va(er,s,o==="payable")}if(r.type==="receive")return new Va(er,[],!0);if(r.type==="fallback"){const i=[qr.from("bytes")],n=r.stateMutability==="payable";return new Va(er,i,n)}$(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Vn]===Fw}}class xa extends Hg{constructor(r,i,n,a,s,o){super(r,"function",i,a);X(this,"constant");X(this,"outputs");X(this,"stateMutability");X(this,"payable");X(this,"gas");Object.defineProperty(this,Vn,{value:Mw}),s=Object.freeze(s.slice()),Qe(this,{constant:n==="view"||n==="pure",gas:o,outputs:s,payable:n==="payable",stateMutability:n})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(r))),outputs:this.outputs.map(n=>JSON.parse(n.format(r)))});const i=[];return r!=="sighash"&&i.push("function"),i.push(this.name+pd(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&i.push(this.stateMutability),this.outputs&&this.outputs.length&&(i.push("returns"),i.push(pd(r,this.outputs))),this.gas!=null&&i.push(`@${this.gas.toString()}`)),i.join(" ")}static getSelector(r,i){return i=(i||[]).map(a=>qr.from(a)),new xa(er,r,"view",i,[],null).selector}static from(r){if(xa.isFragment(r))return r;if(typeof r=="string")try{return xa.from(Oo(r))}catch{$(!1,"invalid function fragment","obj",r)}else if(r instanceof Xi){const n=jg("function",r),a=ls(r),s=HC(r);let o=[];ys(r,_n(["returns"])).has("returns")&&(o=ls(r));const l=VC(r);return ql(r),new xa(er,n,s,a,o,l)}let i=r.stateMutability;return i==null&&(i="payable",typeof r.constant=="boolean"?(i="view",r.constant||(i="payable",typeof r.payable=="boolean"&&!r.payable&&(i="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(i="nonpayable")),new xa(er,r.name,i,r.inputs?r.inputs.map(qr.from):[],r.outputs?r.outputs.map(qr.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Vn]===Mw}}class Nl extends Hg{constructor(e,r,i){super(e,"struct",r,i),Object.defineProperty(this,Vn,{value:Bw})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Nl.from(Oo(e))}catch{$(!1,"invalid struct fragment","obj",e)}else if(e instanceof Xi){const r=jg("struct",e),i=ls(e);return ql(e),new Nl(er,r,i)}return new Nl(er,e.name,e.inputs?e.inputs.map(qr.from):[])}static isFragment(e){return e&&e[Vn]===Bw}}const Zi=new Map;Zi.set(0,"GENERIC_PANIC");Zi.set(1,"ASSERT_FALSE");Zi.set(17,"OVERFLOW");Zi.set(18,"DIVIDE_BY_ZERO");Zi.set(33,"ENUM_RANGE_ERROR");Zi.set(34,"BAD_STORAGE_DATA");Zi.set(49,"STACK_UNDERFLOW");Zi.set(50,"ARRAY_RANGE_ERROR");Zi.set(65,"OUT_OF_MEMORY");Zi.set(81,"UNINITIALIZED_FUNCTION_CALL");const rF=new RegExp(/^bytes([0-9]*)$/),nF=new RegExp(/^(u?int)([0-9]*)$/);let yv=null,Uw=1024;function iF(t,e,r,i){let n="missing revert data",a=null;const s=null;let o=null;if(r){n="execution reverted";const u=xt(r);if(r=je(r),u.length===0)n+=" (no data present; likely require(false) occurred",a="require(false)";else if(u.length%32!==4)n+=" (could not decode reason; invalid data length)";else if(je(u.slice(0,4))==="0x08c379a0")try{a=i.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},n+=`: ${JSON.stringify(a)}`}catch{n+=" (could not decode reason; invalid string data)"}else if(je(u.slice(0,4))==="0x4e487b71")try{const c=Number(i.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[c]},a=`Panic due to ${Zi.get(c)||"UNKNOWN"}(${c})`,n+=`: ${a}`}catch{n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}const l={to:e.to?Ct(e.to):null,data:e.data||"0x"};return e.from&&(l.from=Ct(e.from)),br(n,"CALL_EXCEPTION",{action:t,data:r,reason:a,transaction:l,invocation:s,revert:o})}var Qs,_u;const lg=class lg{constructor(){Z(this,Qs)}getDefaultValue(e){const r=e.map(n=>Pe(this,Qs,_u).call(this,qr.from(n)));return new ep(r,"_").defaultValue()}encode(e,r){CA(r.length,e.length,"types/values length mismatch");const i=e.map(s=>Pe(this,Qs,_u).call(this,qr.from(s))),n=new ep(i,"_"),a=new Xy;return n.encode(a,r),a.data}decode(e,r,i){const n=e.map(s=>Pe(this,Qs,_u).call(this,qr.from(s)));return new ep(n,"_").decode(new Yy(r,i,Uw))}static _setDefaultMaxInflation(e){$(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Uw=e}static defaultAbiCoder(){return yv==null&&(yv=new lg),yv}static getBuiltinCallException(e,r,i){return iF(e,r,i,lg.defaultAbiCoder())}};Qs=new WeakSet,_u=function(e){if(e.isArray())return new IR(Pe(this,Qs,_u).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ep(e.components.map(i=>Pe(this,Qs,_u).call(this,i)),e.name);switch(e.baseType){case"address":return new kR(e.name);case"bool":return new NR(e.name);case"string":return new HR(e.name);case"bytes":return new OR(e.name);case"":return new FR(e.name)}let r=e.type.match(nF);if(r){let i=parseInt(r[2]||"256");return $(i!==0&&i<=256&&i%8===0,"invalid "+r[1]+" bit length","param",e),new jR(i/8,r[1]==="int",e.name)}if(r=e.type.match(rF),r){let i=parseInt(r[1]);return $(i!==0&&i<=32,"invalid bytes length","param",e),new RR(i,e.name)}$(!1,"invalid type","type",e.type)};let md=lg;class aF{constructor(e,r,i){X(this,"fragment");X(this,"name");X(this,"signature");X(this,"topic");X(this,"args");const n=e.name,a=e.format();Qe(this,{fragment:e,name:n,signature:a,topic:r,args:i})}}class sF{constructor(e,r,i,n){X(this,"fragment");X(this,"name");X(this,"args");X(this,"signature");X(this,"selector");X(this,"value");const a=e.name,s=e.format();Qe(this,{fragment:e,name:a,args:i,signature:s,selector:r,value:n})}}class oF{constructor(e,r,i){X(this,"fragment");X(this,"name");X(this,"args");X(this,"signature");X(this,"selector");const n=e.name,a=e.format();Qe(this,{fragment:e,name:n,args:i,signature:a,selector:r})}}class jw{constructor(e){X(this,"hash");X(this,"_isIndexed");Qe(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Hw={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Vw={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Hw[t.toString()]&&(e=Hw[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var fa,da,ha,Kr,C0,Ip,P0,Np;const Gu=class Gu{constructor(e){Z(this,C0);Z(this,P0);X(this,"fragments");X(this,"deploy");X(this,"fallback");X(this,"receive");Z(this,fa,void 0);Z(this,da,void 0);Z(this,ha,void 0);Z(this,Kr,void 0);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,U(this,ha,new Map),U(this,fa,new Map),U(this,da,new Map);const i=[];for(const s of r)try{i.push(Wl.from(s))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,o.message)}Qe(this,{fragments:Object.freeze(i)});let n=null,a=!1;U(this,Kr,this.getAbiCoder()),this.fragments.forEach((s,o)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Qe(this,{deploy:s});return;case"fallback":s.inputs.length===0?a=!0:($(!n||s.payable!==n.payable,"conflicting fallback fragments",`fragments[${o}]`,s),n=s,a=n.payable);return;case"function":l=k(this,ha);break;case"event":l=k(this,da);break;case"error":l=k(this,fa);break;default:return}const u=s.format();l.has(u)||l.set(u,s)}),this.deploy||Qe(this,{deploy:ss.from("constructor()")}),Qe(this,{fallback:n,receive:a})}format(e){const r=e?"minimal":"full";return this.fragments.map(n=>n.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return md.defaultAbiCoder()}getFunctionName(e){const r=Pe(this,C0,Ip).call(this,e,null,!1);return $(r,"no matching function","key",e),r.name}hasFunction(e){return!!Pe(this,C0,Ip).call(this,e,null,!1)}getFunction(e,r){return Pe(this,C0,Ip).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(k(this,ha).keys());r.sort((i,n)=>i.localeCompare(n));for(let i=0;i<r.length;i++){const n=r[i];e(k(this,ha).get(n),i)}}getEventName(e){const r=Pe(this,P0,Np).call(this,e,null,!1);return $(r,"no matching event","key",e),r.name}hasEvent(e){return!!Pe(this,P0,Np).call(this,e,null,!1)}getEvent(e,r){return Pe(this,P0,Np).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(k(this,da).keys());r.sort((i,n)=>i.localeCompare(n));for(let i=0;i<r.length;i++){const n=r[i];e(k(this,da).get(n),i)}}getError(e,r){if(Ot(e)){const n=e.toLowerCase();if(Vw[n])return Rn.from(Vw[n].signature);for(const a of k(this,fa).values())if(n===a.selector)return a;return null}if(e.indexOf("(")===-1){const n=[];for(const[a,s]of k(this,fa))a.split("(")[0]===e&&n.push(s);if(n.length===0)return e==="Error"?Rn.from("error Error(string)"):e==="Panic"?Rn.from("error Panic(uint256)"):null;if(n.length>1){const a=n.map(s=>JSON.stringify(s.format())).join(", ");$(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return n[0]}if(e=Rn.from(e).format(),e==="Error(string)")return Rn.from("error Error(string)");if(e==="Panic(uint256)")return Rn.from("error Panic(uint256)");const i=k(this,fa).get(e);return i||null}forEachError(e){const r=Array.from(k(this,fa).keys());r.sort((i,n)=>i.localeCompare(n));for(let i=0;i<r.length;i++){const n=r[i];e(k(this,fa).get(n),i)}}_decodeParams(e,r){return k(this,Kr).decode(e,r)}_encodeParams(e,r){return k(this,Kr).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const i=this.getError(e);$(i,"unknown error","fragment",e),e=i}return $(nr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,nr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const i=this.getError(e);$(i,"unknown error","fragment",e),e=i}return mr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const i=this.getFunction(e);$(i,"unknown function","fragment",e),e=i}return $(nr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,nr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const i=this.getFunction(e);$(i,"unknown function","fragment",e),e=i}return mr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const a=this.getFunction(e);$(a,"unknown function","fragment",e),e=a}let i="invalid length for result data";const n=mn(r);if(n.length%32===0)try{return k(this,Kr).decode(e.outputs,n)}catch{i="could not decode result data"}fe(!1,i,"BAD_DATA",{value:je(n),info:{method:e.name,signature:e.format()}})}makeError(e,r){const i=xt(e,"data"),n=md.getBuiltinCallException("call",r,i),a="execution reverted (unknown custom error)";if(n.message.startsWith(a)){const o=je(i.slice(0,4)),l=this.getError(o);if(l)try{const u=k(this,Kr).decode(l.inputs,i.slice(4));n.revert={name:l.name,signature:l.format(),args:u},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch{n.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(r);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);$(i,"unknown function","fragment",e),e=i}return je(k(this,Kr).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const a=this.getEvent(e);$(a,"unknown event","eventFragment",e),e=a}fe(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const i=[];e.anonymous||i.push(e.topicHash);const n=(a,s)=>a.type==="string"?Gl(s):a.type==="bytes"?Vt(je(s)):(a.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":a.type.match(/^u?int/)?s=Eo(s):a.type.match(/^bytes/)?s=KO(s,32):a.type==="address"&&k(this,Kr).encode(["address"],[s]),zl(je(s),32));for(r.forEach((a,s)=>{const o=e.inputs[s];if(!o.indexed){$(a==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?i.push(null):o.baseType==="array"||o.baseType==="tuple"?$(!1,"filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?i.push(a.map(l=>n(o,l))):i.push(n(o,a))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,r){if(typeof e=="string"){const s=this.getEvent(e);$(s,"unknown event","eventFragment",e),e=s}const i=[],n=[],a=[];return e.anonymous||i.push(e.topicHash),$(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((s,o)=>{const l=r[o];if(s.indexed)if(s.type==="string")i.push(Gl(l));else if(s.type==="bytes")i.push(Vt(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");i.push(k(this,Kr).encode([s.type],[l]))}else n.push(s),a.push(l)}),{data:k(this,Kr).encode(n,a),topics:i}}decodeEventLog(e,r,i){if(typeof e=="string"){const h=this.getEvent(e);$(h,"unknown event","eventFragment",e),e=h}if(i!=null&&!e.anonymous){const h=e.topicHash;$(Ot(i[0],32)&&i[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",i[0]),i=i.slice(1)}const n=[],a=[],s=[];e.inputs.forEach((h,y)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(n.push(qr.from({type:"bytes32",name:h.name})),s.push(!0)):(n.push(h),s.push(!1)):(a.push(h),s.push(!1))});const o=i!=null?k(this,Kr).decode(n,mr(i)):null,l=k(this,Kr).decode(a,r,!0),u=[],c=[];let f=0,d=0;return e.inputs.forEach((h,y)=>{let m=null;if(h.indexed)if(o==null)m=new jw(null);else if(s[y])m=new jw(o[d++]);else try{m=o[d++]}catch(T){m=T}else try{m=l[f++]}catch(T){m=T}u.push(m),c.push(h.name||null)}),Tm.fromItems(u,c)}parseTransaction(e){const r=xt(e.data,"tx.data"),i=Le(e.value!=null?e.value:0,"tx.value"),n=this.getFunction(je(r.slice(0,4)));if(!n)return null;const a=k(this,Kr).decode(n.inputs,r.slice(4));return new sF(n,n.selector,a,i)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new aF(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=je(e),i=this.getError(nr(r,0,4));if(!i)return null;const n=k(this,Kr).decode(i.inputs,nr(r,4));return new oF(i,i.selector,n)}static from(e){return e instanceof Gu?e:typeof e=="string"?new Gu(JSON.parse(e)):typeof e.format=="function"?new Gu(e.format("json")):new Gu(e)}};fa=new WeakMap,da=new WeakMap,ha=new WeakMap,Kr=new WeakMap,C0=new WeakSet,Ip=function(e,r,i){if(Ot(e)){const a=e.toLowerCase();for(const s of k(this,ha).values())if(a===s.selector)return s;return null}if(e.indexOf("(")===-1){const a=[];for(const[s,o]of k(this,ha))s.split("(")[0]===e&&a.push(o);if(r){const s=r.length>0?r[r.length-1]:null;let o=r.length,l=!0;rn.isTyped(s)&&s.type==="overrides"&&(l=!1,o--);for(let u=a.length-1;u>=0;u--){const c=a[u].inputs.length;c!==o&&(!l||c!==o-1)&&a.splice(u,1)}for(let u=a.length-1;u>=0;u--){const c=a[u].inputs;for(let f=0;f<r.length;f++)if(rn.isTyped(r[f])){if(f>=c.length){if(r[f].type==="overrides")continue;a.splice(u,1);break}if(r[f].type!==c[f].baseType){a.splice(u,1);break}}}}if(a.length===1&&r&&r.length!==a[0].inputs.length){const s=r[r.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&i){const s=a.map(o=>JSON.stringify(o.format())).join(", ");$(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return a[0]}const n=k(this,ha).get(xa.from(e).format());return n||null},P0=new WeakSet,Np=function(e,r,i){if(Ot(e)){const a=e.toLowerCase();for(const s of k(this,da).values())if(a===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const a=[];for(const[s,o]of k(this,da))s.split("(")[0]===e&&a.push(o);if(r){for(let s=a.length-1;s>=0;s--)a[s].inputs.length<r.length&&a.splice(s,1);for(let s=a.length-1;s>=0;s--){const o=a[s].inputs;for(let l=0;l<r.length;l++)if(rn.isTyped(r[l])&&r[l].type!==o[l].baseType){a.splice(s,1);break}}}if(a.length===0)return null;if(a.length>1&&i){const s=a.map(o=>JSON.stringify(o.format())).join(", ");$(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return a[0]}const n=k(this,da).get(ba.from(e).format());return n||null};let c2=Gu;const zC=BigInt(0);function Of(t){return t??null}function or(t){return t==null?null:t.toString()}class zw{constructor(e,r,i){X(this,"gasPrice");X(this,"maxFeePerGas");X(this,"maxPriorityFeePerGas");Qe(this,{gasPrice:Of(e),maxFeePerGas:Of(r),maxPriorityFeePerGas:Of(i)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:or(e),maxFeePerGas:or(r),maxPriorityFeePerGas:or(i)}}}function Dm(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=je(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)!(n in t)||t[n]==null||(e[n]=Le(t[n],`request.${n}`));const i="type,nonce".split(/,/);for(const n of i)!(n in t)||t[n]==null||(e[n]=at(t[n],`request.${n}`));return t.accessList&&(e.accessList=Zl(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var Ka;class lF{constructor(e,r){X(this,"provider");X(this,"number");X(this,"hash");X(this,"timestamp");X(this,"parentHash");X(this,"parentBeaconBlockRoot");X(this,"nonce");X(this,"difficulty");X(this,"gasLimit");X(this,"gasUsed");X(this,"stateRoot");X(this,"receiptsRoot");X(this,"blobGasUsed");X(this,"excessBlobGas");X(this,"miner");X(this,"extraData");X(this,"baseFeePerGas");Z(this,Ka,void 0);U(this,Ka,e.transactions.map(i=>typeof i!="string"?new gd(i,r):i)),Qe(this,{provider:r,hash:Of(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:Of(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return k(this,Ka).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=k(this,Ka).slice();return e.length===0?[]:(fe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:i,gasLimit:n,gasUsed:a,hash:s,miner:o,nonce:l,number:u,parentHash:c,parentBeaconBlockRoot:f,stateRoot:d,receiptsRoot:h,timestamp:y,transactions:m}=this;return{_type:"Block",baseFeePerGas:or(e),difficulty:or(r),extraData:i,gasLimit:or(n),gasUsed:or(a),blobGasUsed:or(this.blobGasUsed),excessBlobGas:or(this.excessBlobGas),hash:s,miner:o,nonce:l,number:u,parentHash:c,timestamp:y,parentBeaconBlockRoot:f,stateRoot:d,receiptsRoot:h,transactions:m}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return k(this,Ka).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=k(this,Ka)[e];else{const i=e.toLowerCase();for(const n of k(this,Ka))if(typeof n=="string"){if(n!==i)continue;r=n;break}else{if(n.hash===i)continue;r=n;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const i of r)if(i.hash===e)return i;$(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return uF(this)}}Ka=new WeakMap;class nh{constructor(e,r){X(this,"provider");X(this,"transactionHash");X(this,"blockHash");X(this,"blockNumber");X(this,"removed");X(this,"address");X(this,"data");X(this,"topics");X(this,"index");X(this,"transactionIndex");this.provider=r;const i=Object.freeze(e.topics.slice());Qe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:i,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:i,data:n,index:a,removed:s,topics:o,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:i,data:n,index:a,removed:s,topics:o,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return fe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return fe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return fe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return cF(this)}}var Rd;class GC{constructor(e,r){X(this,"provider");X(this,"to");X(this,"from");X(this,"contractAddress");X(this,"hash");X(this,"index");X(this,"blockHash");X(this,"blockNumber");X(this,"logsBloom");X(this,"gasUsed");X(this,"blobGasUsed");X(this,"cumulativeGasUsed");X(this,"gasPrice");X(this,"blobGasPrice");X(this,"type");X(this,"status");X(this,"root");Z(this,Rd,void 0);U(this,Rd,Object.freeze(e.logs.map(n=>new nh(n,r))));let i=zC;e.effectiveGasPrice!=null?i=e.effectiveGasPrice:e.gasPrice!=null&&(i=e.gasPrice),Qe(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:i,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return k(this,Rd)}toJSON(){const{to:e,from:r,contractAddress:i,hash:n,index:a,blockHash:s,blockNumber:o,logsBloom:l,logs:u,status:c,root:f}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:i,cumulativeGasUsed:or(this.cumulativeGasUsed),from:r,gasPrice:or(this.gasPrice),blobGasUsed:or(this.blobGasUsed),blobGasPrice:or(this.blobGasPrice),gasUsed:or(this.gasUsed),hash:n,index:a,logs:u,logsBloom:l,root:f,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return WC(this)}reorderedEvent(e){return fe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),qC(this,e)}}Rd=new WeakMap;var Ks;const q5=class q5{constructor(e,r){X(this,"provider");X(this,"blockNumber");X(this,"blockHash");X(this,"index");X(this,"hash");X(this,"type");X(this,"to");X(this,"from");X(this,"nonce");X(this,"gasLimit");X(this,"gasPrice");X(this,"maxPriorityFeePerGas");X(this,"maxFeePerGas");X(this,"maxFeePerBlobGas");X(this,"data");X(this,"value");X(this,"chainId");X(this,"signature");X(this,"accessList");X(this,"blobVersionedHashes");Z(this,Ks,void 0);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,U(this,Ks,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:i,hash:n,type:a,to:s,from:o,nonce:l,data:u,signature:c,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:d,chainId:or(this.chainId),data:u,from:o,gasLimit:or(this.gasLimit),gasPrice:or(this.gasPrice),hash:n,maxFeePerGas:or(this.maxFeePerGas),maxPriorityFeePerGas:or(this.maxPriorityFeePerGas),maxFeePerBlobGas:or(this.maxFeePerBlobGas),nonce:l,signature:c,to:s,index:i,type:a,value:or(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const i=await this.getTransaction();i&&(e=i.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:i}=await hn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:i-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const i=e??1,n=r??0;let a=k(this,Ks),s=-1,o=a===-1;const l=async()=>{if(o)return null;const{blockNumber:d,nonce:h}=await hn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){a=d;return}if(o)return null;const y=await this.getTransaction();if(!(y&&y.blockNumber!=null))for(s===-1&&(s=a-3,s<k(this,Ks)&&(s=k(this,Ks)));s<=d;){if(o)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const T of m)if(T===this.hash)return;for(let T=0;T<m.length;T++){const b=await m.getTransaction(T);if(b.from===this.from&&b.nonce===this.nonce){if(o)return null;const E=await this.provider.getTransactionReceipt(b.hash);if(E==null||d-E.blockNumber+1<i)return;let A="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?A="repriced":b.data==="0x"&&b.from===b.to&&b.value===zC&&(A="cancelled"),fe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:b.replaceableTransaction(a),hash:b.hash,receipt:E})}}s++}},u=d=>{if(d==null||d.status!==0)return d;fe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},c=await this.provider.getTransactionReceipt(this.hash);if(i===0)return u(c);if(c){if(await c.confirmations()>=i)return u(c)}else if(await l(),i===0)return null;return await new Promise((d,h)=>{const y=[],m=()=>{y.forEach(b=>b())};if(y.push(()=>{o=!0}),n>0){const b=setTimeout(()=>{m(),h(br("wait for transaction timeout","TIMEOUT"))},n);y.push(()=>{clearTimeout(b)})}const T=async b=>{if(await b.confirmations()>=i){m();try{d(u(b))}catch(E){h(E)}}};if(y.push(()=>{this.provider.off(this.hash,T)}),this.provider.on(this.hash,T),a>=0){const b=async()=>{try{await l()}catch(E){if(tn(E,"TRANSACTION_REPLACED")){m(),h(E);return}}o||this.provider.once("block",b)};y.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return fe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),WC(this)}reorderedEvent(e){return fe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),fe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),qC(this,e)}replaceableTransaction(e){$(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new q5(this,this.provider);return U(r,Ks,e),r}};Ks=new WeakMap;let gd=q5;function uF(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function qC(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function WC(t){return{orphan:"drop-transaction",tx:t}}function cF(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class w6 extends nh{constructor(r,i,n){super(r,r.provider);X(this,"interface");X(this,"fragment");X(this,"args");const a=i.decodeEventLog(n,r.data,r.topics);Qe(this,{args:a,fragment:n,interface:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class $C extends nh{constructor(r,i){super(r,r.provider);X(this,"error");Qe(this,{error:i})}}var k0;class fF extends GC{constructor(r,i,n){super(n,i);Z(this,k0,void 0);U(this,k0,r)}get logs(){return super.logs.map(r=>{const i=r.topics.length?k(this,k0).getEvent(r.topics[0]):null;if(i)try{return new w6(r,k(this,k0),i)}catch(n){return new $C(r,n)}return r})}}k0=new WeakMap;var Ld;class _6 extends gd{constructor(r,i,n){super(n,i);Z(this,Ld,void 0);U(this,Ld,r)}async wait(r,i){const n=await super.wait(r,i);return n==null?null:new fF(k(this,Ld),this.provider,n)}}Ld=new WeakMap;class QC extends IA{constructor(r,i,n,a){super(r,i,n);X(this,"log");Qe(this,{log:a})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class dF extends QC{constructor(e,r,i,n,a){super(e,r,i,new w6(a,e.interface,n));const s=e.interface.decodeEventLog(n,this.log.data,this.log.topics);Qe(this,{args:s,fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Gw=BigInt(0);function KC(t){return t&&typeof t.call=="function"}function XC(t){return t&&typeof t.estimateGas=="function"}function Vg(t){return t&&typeof t.resolveName=="function"}function YC(t){return t&&typeof t.sendTransaction=="function"}function JC(t){if(t!=null){if(Vg(t))return t;if(t.provider)return t.provider}}var Fd;class hF{constructor(e,r,i){Z(this,Fd,void 0);X(this,"fragment");if(Qe(this,{fragment:r}),r.inputs.length<i.length)throw new Error("too many arguments");const n=$l(e.runner,"resolveName"),a=Vg(n)?n:null;U(this,Fd,async function(){const s=await Promise.all(r.inputs.map((o,l)=>i[l]==null?null:o.walkAsync(i[l],(c,f)=>c==="address"?Array.isArray(f)?Promise.all(f.map(d=>wn(d,a))):wn(f,a):f)));return e.interface.encodeFilterTopics(r,s)}())}getTopicFilter(){return k(this,Fd)}}Fd=new WeakMap;function $l(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function il(t){return t==null?null:t.provider||null}async function ZC(t,e){const r=rn.dereference(t,"overrides");$(typeof r=="object","invalid overrides parameter","overrides",t);const i=Dm(r);return $(i.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),$(i.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function pF(t,e,r){const i=$l(t,"resolveName"),n=Vg(i)?i:null;return await Promise.all(e.map((a,s)=>a.walkAsync(r[s],(o,l)=>(l=rn.dereference(l,o),o==="address"?wn(l,n):l))))}function mF(t){const e=async function(s){const o=await ZC(s,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await wn(o.from,JC(t.runner)));const l=t.interface,u=Le(o.value||Gw,"overrides.value")===Gw,c=(o.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!c&&!u&&$(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),$(l.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data);const f=l.receive||l.fallback&&l.fallback.payable;return $(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),$(l.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data),o},r=async function(s){const o=$l(t.runner,"call");fe(KC(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await o.call(l)}catch(u){throw a6(u)&&u.data?t.interface.makeError(u.data,l):u}},i=async function(s){const o=t.runner;fe(YC(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await o.sendTransaction(await e(s)),u=il(t.runner);return new _6(t.interface,u,l)},n=async function(s){const o=$l(t.runner,"estimateGas");return fe(XC(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(s))},a=async s=>await i(s);return Qe(a,{_contract:t,estimateGas:n,populateTransaction:e,send:i,staticCall:r}),a}function gF(t,e){const r=function(...u){const c=t.interface.getFunction(e,u);return fe(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),c},i=async function(...u){const c=r(...u);let f={};if(c.inputs.length+1===u.length&&(f=await ZC(u.pop()),f.from&&(f.from=await wn(f.from,JC(t.runner)))),c.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await pF(t.runner,c.inputs,u);return Object.assign({},f,await hn({to:t.getAddress(),data:t.interface.encodeFunctionData(c,d)}))},n=async function(...u){const c=await o(...u);return c.length===1?c[0]:c},a=async function(...u){const c=t.runner;fe(YC(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await c.sendTransaction(await i(...u)),d=il(t.runner);return new _6(t.interface,d,f)},s=async function(...u){const c=$l(t.runner,"estimateGas");return fe(XC(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await i(...u))},o=async function(...u){const c=$l(t.runner,"call");fe(KC(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await i(...u);let d="0x";try{d=await c.call(f)}catch(y){throw a6(y)&&y.data?t.interface.makeError(y.data,f):y}const h=r(...u);return t.interface.decodeFunctionResult(h,d)},l=async(...u)=>r(...u).constant?await n(...u):await a(...u);return Qe(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:s,populateTransaction:i,send:a,staticCall:n,staticCallResult:o}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return fe(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function vF(t,e){const r=function(...n){const a=t.interface.getEvent(e,n);return fe(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:n}}),a},i=function(...n){return new hF(t,r(...n),n)};return Qe(i,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=t.interface.getEvent(e);return fe(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),i}const Im=Symbol.for("_ethersInternal_contract"),e4=new WeakMap;function yF(t,e){e4.set(t[Im],e)}function Xn(t){return e4.get(t[Im])}function bF(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function E6(t,e){let r,i=null;if(Array.isArray(e)){const a=function(s){if(Ot(s,32))return s;const o=t.interface.getEvent(s);return $(o,"unknown fragment","name",s),o.topicHash};r=e.map(s=>s==null?null:Array.isArray(s)?s.map(a):a(s))}else e==="*"?r=[null]:typeof e=="string"?Ot(e,32)?r=[e]:(i=t.interface.getEvent(e),$(i,"unknown fragment","event",e),r=[i.topicHash]):bF(e)?r=await e.getTopicFilter():"fragment"in e?(i=e.fragment,r=[i.topicHash]):$(!1,"unknown event name","event",e);r=r.map(a=>{if(a==null)return null;if(Array.isArray(a)){const s=Array.from(new Set(a.map(o=>o.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return a.toLowerCase()});const n=r.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:i,tag:n,topics:r}}async function df(t,e){const{subs:r}=Xn(t);return r.get((await E6(t,e)).tag)||null}async function qw(t,e,r){const i=il(t.runner);fe(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:n,tag:a,topics:s}=await E6(t,r),{addr:o,subs:l}=Xn(t);let u=l.get(a);if(!u){const f={address:o||t,topics:s},d=T=>{let b=n;if(b==null)try{b=t.interface.getEvent(T.topics[0])}catch{}if(b){const E=b,A=n?t.interface.decodeEventLog(n,T.data,T.topics):[];d2(t,r,A,C=>new dF(t,C,r,E,T))}else d2(t,r,[],E=>new QC(t,E,r,T))};let h=[];u={tag:a,listeners:[],start:()=>{h.length||h.push(i.on(f,d))},stop:async()=>{if(h.length==0)return;let T=h;h=[],await Promise.all(T),i.off(f,d)}},l.set(a,u)}return u}let f2=Promise.resolve();async function xF(t,e,r,i){await f2;const n=await df(t,e);if(!n)return!1;const a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const l=Array.from(r);i&&l.push(i(o?null:s));try{s.call(t,...l)}catch{}return!o}),n.listeners.length===0&&(n.stop(),Xn(t).subs.delete(n.tag)),a>0}async function d2(t,e,r,i){try{await f2}catch{}const n=xF(t,e,r,i);return f2=n,await n}const rp=["then"];var wW;const Hf=class Hf{constructor(e,r,i,n){X(this,"target");X(this,"interface");X(this,"runner");X(this,"filters");X(this,wW);X(this,"fallback");$(typeof e=="string"||aC(e),"invalid value for Contract target","target",e),i==null&&(i=null);const a=c2.from(r);Qe(this,{target:e,runner:i,interface:a}),Object.defineProperty(this,Im,{value:{}});let s,o=null,l=null;if(n){const f=il(i);l=new _6(this.interface,f,n)}let u=new Map;if(typeof e=="string")if(Ot(e))o=e,s=Promise.resolve(e);else{const f=$l(i,"resolveName");if(!Vg(f))throw br("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=f.resolveName(e).then(d=>{if(d==null)throw br("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Xn(this).addr=d,d})}else s=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Xn(this).addr=f,f});yF(this,{addrPromise:s,addr:o,deployTx:l,subs:u});const c=new Proxy({},{get:(f,d,h)=>{if(typeof d=="symbol"||rp.indexOf(d)>=0)return Reflect.get(f,d,h);try{return this.getEvent(d)}catch(y){if(!tn(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,d)=>rp.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return Qe(this,{filters:c}),Qe(this,{fallback:a.receive||a.fallback?mF(this):null}),new Proxy(this,{get:(f,d,h)=>{if(typeof d=="symbol"||d in f||rp.indexOf(d)>=0)return Reflect.get(f,d,h);try{return f.getFunction(d)}catch(y){if(!tn(y,"INVALID_ARGUMENT")||y.argument!=="key")throw y}},has:(f,d)=>typeof d=="symbol"||d in f||rp.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new Hf(this.target,this.interface,e)}attach(e){return new Hf(e,this.interface,this.runner)}async getAddress(){return await Xn(this).addrPromise}async getDeployedCode(){const e=il(this.runner);fe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const i=il(this.runner);return fe(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((n,a)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return n(this);i.once("block",s)}catch(o){a(o)}};s()})}deploymentTransaction(){return Xn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),gF(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),vF(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,i){r==null&&(r=0),i==null&&(i="latest");const{addr:n,addrPromise:a}=Xn(this),s=n||await a,{fragment:o,topics:l}=await E6(this,e),u={address:s,topics:l,fromBlock:r,toBlock:i},c=il(this.runner);return fe(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(u)).map(f=>{let d=o;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new w6(f,this.interface,d)}catch(h){return new $C(f,h)}return new nh(f,c)})}async on(e,r){const i=await qw(this,"on",e);return i.listeners.push({listener:r,once:!1}),i.start(),this}async once(e,r){const i=await qw(this,"once",e);return i.listeners.push({listener:r,once:!0}),i.start(),this}async emit(e,...r){return await d2(this,e,r,null)}async listenerCount(e){if(e){const n=await df(this,e);return n?n.listeners.length:0}const{subs:r}=Xn(this);let i=0;for(const{listeners:n}of r.values())i+=n.length;return i}async listeners(e){if(e){const n=await df(this,e);return n?n.listeners.map(({listener:a})=>a):[]}const{subs:r}=Xn(this);let i=[];for(const{listeners:n}of r.values())i=i.concat(n.map(({listener:a})=>a));return i}async off(e,r){const i=await df(this,e);if(!i)return this;if(r){const n=i.listeners.map(({listener:a})=>a).indexOf(r);n>=0&&i.listeners.splice(n,1)}return(r==null||i.listeners.length===0)&&(i.stop(),Xn(this).subs.delete(i.tag)),this}async removeAllListeners(e){if(e){const r=await df(this,e);if(!r)return this;r.stop(),Xn(this).subs.delete(r.tag)}else{const{subs:r}=Xn(this);for(const{tag:i,stop:n}of r.values())n(),r.delete(i)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Hf{constructor(n,a=null){super(n,e,a)}}return r}static from(e,r,i){return i==null&&(i=null),new this(e,r,i)}};wW=Im;let h2=Hf;function TF(){return h2}class us extends TF(){}function bv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):$(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class wF{constructor(e){X(this,"name");Qe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const t4=new RegExp("^(ipfs)://(.*)$","i"),Ww=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),t4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Xs,bl,Ys,Eu,ug,r4;const qu=class qu{constructor(e,r,i){Z(this,Ys);X(this,"provider");X(this,"address");X(this,"name");Z(this,Xs,void 0);Z(this,bl,void 0);Qe(this,{provider:e,address:r,name:i}),U(this,Xs,null),U(this,bl,new us(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return k(this,Xs)==null&&U(this,Xs,(async()=>{try{return await k(this,bl).supportsInterface("0x9061b923")}catch(e){if(tn(e,"CALL_EXCEPTION"))return!1;throw U(this,Xs,null),e}})()),await k(this,Xs)}async getAddress(e){if(e==null&&(e=60),e===60)try{const a=await Pe(this,Ys,Eu).call(this,"addr(bytes32)");return a==null||a===ld?null:a}catch(a){if(tn(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648;const s=await Pe(this,Ys,Eu).call(this,"addr(bytes32,uint)",[a]);if(Ot(s,20))return Ct(s)}let r=null;for(const a of this.provider.plugins)if(a instanceof wF&&a.supportsCoinType(e)){r=a;break}if(r==null)return null;const i=await Pe(this,Ys,Eu).call(this,"addr(bytes32,uint)",[e]);if(i==null||i==="0x")return null;const n=await r.decodeAddress(e,i);if(n!=null)return n;fe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:i}})}async getText(e){const r=await Pe(this,Ys,Eu).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Pe(this,Ys,Eu).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const n=r[1]==="e3010170"?"ipfs":"ipns",a=parseInt(r[4],16);if(r[5].length===a*2)return`${n}://${JO("0x"+r[2])}`}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return`bzz://${i[1]}`;fe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let i=0;i<Ww.length;i++){const n=r.match(Ww[i]);if(n==null)continue;const a=n[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const s=bv(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:r});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(n[2]||"").split("/");if(l.length!==2)return e.push({type:`!${a}caip`,value:n[2]||""}),{url:null,linkage:e};const u=l[1],c=new us(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const m=await c.ownerOf(u);if(o!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(a==="erc1155"){const m=await c.balanceOf(o,u);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await c[s](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),a==="erc1155"&&(f=f.replace("{id}",Eo(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=bv(f)),e.push({type:"metadata-url",value:f});let d={};const h=await new So(f).send();h.assertOk();try{d=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const b=h.body;return b&&e.push({type:"!metadata",value:je(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let y=d.image;if(typeof y!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(t4)==null)return e.push({type:"!imageUrl-ipfs",value:y}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:y}),y=bv(y)}return e.push({type:"url",value:y}),{linkage:e,url:y}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),i=r.getPlugin("org.ethers.plugins.network.Ens");return fe(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),i.address}static async fromName(e,r){var n;let i=r;for(;;){if(i===""||i==="."||r!=="eth"&&i==="eth")return null;const a=await Pe(n=qu,ug,r4).call(n,e,i);if(a!=null){const s=new qu(e,a,r);return i!==r&&!await s.supportsWildcard()?null:s}i=i.split(".").slice(1).join(".")}}};Xs=new WeakMap,bl=new WeakMap,Ys=new WeakSet,Eu=async function(e,r){r=(r||[]).slice();const i=k(this,bl).interface;r.unshift(l2(this.name));let n=null;await this.supportsWildcard()&&(n=i.getFunction(e),fe(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[SL(this.name,255),i.encodeFunctionData(n,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const a=await k(this,bl)[e](...r);return n?i.decodeFunctionResult(n,a)[0]:a}catch(a){if(!tn(a,"CALL_EXCEPTION"))throw a}return null},ug=new WeakSet,r4=async function(e,r){const i=await qu.getEnsAddress(e);try{const a=await new us(i,["function resolver(bytes32) view returns (address)"],e).resolver(l2(r),{enableCcipRead:!0});return a===ld?null:a}catch(n){throw n}return null},Z(qu,ug);let Nm=qu;const $w=BigInt(0);function pt(t,e){return function(r){return r==null?e:t(r)}}function zg(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(i=>t(i))}}function ih(t,e){return r=>{const i={};for(const n in t){let a=n;if(e&&n in e&&!(a in r)){for(const s of e[n])if(s in r){a=s;break}}try{const s=t[n](r[a]);s!==void 0&&(i[n]=s)}catch(s){const o=s instanceof Error?s.message:"not-an-error";fe(!1,`invalid value for value.${n} (${o})`,"BAD_DATA",{value:r})}}return i}}function _F(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}$(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ic(t){return $(Ot(t,!0),"invalid data","value",t),t}function en(t){return $(Ot(t,32),"invalid hash","value",t),t}const EF=ih({address:Ct,blockHash:en,blockNumber:at,data:ic,index:at,removed:pt(_F,!1),topics:zg(en),transactionHash:en,transactionIndex:at},{index:["logIndex"]});function SF(t){return EF(t)}const AF=ih({hash:pt(en),parentHash:en,parentBeaconBlockRoot:pt(en,null),number:at,timestamp:at,nonce:pt(ic),difficulty:Le,gasLimit:Le,gasUsed:Le,stateRoot:pt(en,null),receiptsRoot:pt(en,null),blobGasUsed:pt(Le,null),excessBlobGas:pt(Le,null),miner:pt(Ct),extraData:ic,baseFeePerGas:pt(Le)});function CF(t){const e=AF(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:n4(r)),e}const PF=ih({transactionIndex:at,blockNumber:at,transactionHash:en,address:Ct,topics:zg(en),data:ic,index:at,blockHash:en},{index:["logIndex"]});function kF(t){return PF(t)}const DF=ih({to:pt(Ct,null),from:pt(Ct,null),contractAddress:pt(Ct,null),index:at,root:pt(je),gasUsed:Le,blobGasUsed:pt(Le,null),logsBloom:pt(ic),blockHash:en,hash:en,logs:zg(kF),blockNumber:at,cumulativeGasUsed:Le,effectiveGasPrice:pt(Le),blobGasPrice:pt(Le,null),status:pt(at),type:pt(at,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function IF(t){return DF(t)}function n4(t){t.to&&Le(t.to)===$w&&(t.to="0x0000000000000000000000000000000000000000");const e=ih({hash:en,index:pt(at,void 0),type:r=>r==="0x"||r==null?0:at(r),accessList:pt(Zl,null),blobVersionedHashes:pt(zg(en,!0),null),blockHash:pt(en,null),blockNumber:pt(at,null),transactionIndex:pt(at,null),from:Ct,gasPrice:pt(Le),maxPriorityFeePerGas:pt(Le),maxFeePerGas:pt(Le),maxFeePerBlobGas:pt(Le,null),gasLimit:Le,to:pt(Ct,null),value:Le,nonce:at,data:ic,creates:pt(Ct,null),chainId:pt(Le,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=PR(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Ki.from(t.signature):e.signature=Ki.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Le(e.blockHash)===$w&&(e.blockHash=null),e}const NF="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ah{constructor(e){X(this,"name");Qe(this,{name:e})}clone(){return new ah(this.name)}}class Gg extends ah{constructor(r,i){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);X(this,"effectiveBlock");X(this,"txBase");X(this,"txCreate");X(this,"txDataZero");X(this,"txDataNonzero");X(this,"txAccessListStorageKey");X(this,"txAccessListAddress");const n={effectiveBlock:r};function a(s,o){let l=(i||{})[s];l==null&&(l=o),$(typeof l=="number",`invalud value for ${s}`,"costs",i),n[s]=l}a("txBase",21e3),a("txCreate",32e3),a("txDataZero",4),a("txDataNonzero",16),a("txAccessListStorageKey",1900),a("txAccessListAddress",2400),Qe(this,n)}clone(){return new Gg(this.effectiveBlock,this)}}class qg extends ah{constructor(r,i){super("org.ethers.plugins.network.Ens");X(this,"address");X(this,"targetNetwork");Qe(this,{address:r||NF,targetNetwork:i??1})}clone(){return new qg(this.address,this.targetNetwork)}}var Md,Bd;class OF extends ah{constructor(r,i){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Z(this,Md,void 0);Z(this,Bd,void 0);U(this,Md,r),U(this,Bd,i)}get url(){return k(this,Md)}get processFunc(){return k(this,Bd)}clone(){return this}}Md=new WeakMap,Bd=new WeakMap;const xv=new Map;var D0,I0,Js;const Wu=class Wu{constructor(e,r){Z(this,D0,void 0);Z(this,I0,void 0);Z(this,Js,void 0);U(this,D0,e),U(this,I0,Le(r)),U(this,Js,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return k(this,D0)}set name(e){U(this,D0,e)}get chainId(){return k(this,I0)}set chainId(e){U(this,I0,Le(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Le(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Le(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Le(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(k(this,Js).values())}attachPlugin(e){if(k(this,Js).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return k(this,Js).set(e.name,e.clone()),this}getPlugin(e){return k(this,Js).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new Wu(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Gg;let i=r.txBase;if(e.to==null&&(i+=r.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)e.data.substring(n,n+2)==="00"?i+=r.txDataZero:i+=r.txDataNonzero;if(e.accessList){const n=Zl(e.accessList);for(const a in n)i+=r.txAccessListAddress+r.txAccessListStorageKey*n[a].storageKeys.length}return i}static from(e){if(RF(),e==null)return Wu.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=xv.get(e);if(r)return r();if(typeof e=="bigint")return new Wu("unknown",e);$(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){$(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new Wu(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new qg(e.ensAddress,e.ensNetwork)),r}$(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const i=xv.get(e);i&&$(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",e),xv.set(e,r)}};D0=new WeakMap,I0=new WeakMap,Js=new WeakMap;let Ta=Wu;function Qw(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const i=r.split(".");if(i.length===1&&i.push(""),i.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;i[1].length<e;)i[1]+="0";if(i[1].length>9){let n=BigInt(i[1].substring(0,9));i[1].substring(9).match(/^0+$/)||n++,i[1]=n.toString()}return BigInt(i[0]+i[1])}function Kw(t){return new OF(t,async(e,r,i)=>{i.setHeader("User-Agent","ethers");let n;try{const[a,s]=await Promise.all([i.send(),e()]);n=a;const o=n.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Qw(o.maxFee,9),maxPriorityFeePerGas:Qw(o.maxPriorityFee,9)}}catch(a){fe(!1,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:n,error:a})}})}let Xw=!1;function RF(){if(Xw)return;Xw=!0;function t(e,r,i){const n=function(){const a=new Ta(e,r);return i.ensNetwork!=null&&a.attachPlugin(new qg(null,i.ensNetwork)),a.attachPlugin(new Gg),(i.plugins||[]).forEach(s=>{a.attachPlugin(s)}),a};Ta.register(e,n),Ta.register(r,n),i.altNames&&i.altNames.forEach(a=>{Ta.register(a,n)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Kw("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Kw("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function p2(t){return JSON.parse(JSON.stringify(t))}var Xa,hi,Zs,pa,N0,Op;class LF{constructor(e){Z(this,N0);Z(this,Xa,void 0);Z(this,hi,void 0);Z(this,Zs,void 0);Z(this,pa,void 0);U(this,Xa,e),U(this,hi,null),U(this,Zs,4e3),U(this,pa,-2)}get pollingInterval(){return k(this,Zs)}set pollingInterval(e){U(this,Zs,e)}start(){k(this,hi)||(U(this,hi,k(this,Xa)._setTimeout(Pe(this,N0,Op).bind(this),k(this,Zs))),Pe(this,N0,Op).call(this))}stop(){k(this,hi)&&(k(this,Xa)._clearTimeout(k(this,hi)),U(this,hi,null))}pause(e){this.stop(),e&&U(this,pa,-2)}resume(){this.start()}}Xa=new WeakMap,hi=new WeakMap,Zs=new WeakMap,pa=new WeakMap,N0=new WeakSet,Op=async function(){try{const e=await k(this,Xa).getBlockNumber();if(k(this,pa)===-2){U(this,pa,e);return}if(e!==k(this,pa)){for(let r=k(this,pa)+1;r<=e;r++){if(k(this,hi)==null)return;await k(this,Xa).emit("block",r)}U(this,pa,e)}}catch{}k(this,hi)!=null&&U(this,hi,k(this,Xa)._setTimeout(Pe(this,N0,Op).bind(this),k(this,Zs)))};var xl,Tl,eo;class S6{constructor(e){Z(this,xl,void 0);Z(this,Tl,void 0);Z(this,eo,void 0);U(this,xl,e),U(this,eo,!1),U(this,Tl,r=>{this._poll(r,k(this,xl))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){k(this,eo)||(U(this,eo,!0),k(this,Tl).call(this,-2),k(this,xl).on("block",k(this,Tl)))}stop(){k(this,eo)&&(U(this,eo,!1),k(this,xl).off("block",k(this,Tl)))}pause(e){this.stop()}resume(){this.start()}}xl=new WeakMap,Tl=new WeakMap,eo=new WeakMap;var O0,Ya;class FF extends S6{constructor(r,i){super(r);Z(this,O0,void 0);Z(this,Ya,void 0);U(this,O0,i),U(this,Ya,-2)}pause(r){r&&U(this,Ya,-2),super.pause(r)}async _poll(r,i){const n=await i.getBlock(k(this,O0));n!=null&&(k(this,Ya)===-2?U(this,Ya,n.number):n.number>k(this,Ya)&&(i.emit(k(this,O0),n.number),U(this,Ya,n.number)))}}O0=new WeakMap,Ya=new WeakMap;var cg;class MF extends S6{constructor(r,i){super(r);Z(this,cg,void 0);U(this,cg,p2(i))}async _poll(r,i){throw new Error("@TODO")}}cg=new WeakMap;var R0;class BF extends S6{constructor(r,i){super(r);Z(this,R0,void 0);U(this,R0,i)}async _poll(r,i){const n=await i.getTransactionReceipt(k(this,R0));n&&i.emit(k(this,R0),n)}}R0=new WeakMap;var Ja,L0,F0,to,pi,fg,i4;class A6{constructor(e,r){Z(this,fg);Z(this,Ja,void 0);Z(this,L0,void 0);Z(this,F0,void 0);Z(this,to,void 0);Z(this,pi,void 0);U(this,Ja,e),U(this,L0,p2(r)),U(this,F0,Pe(this,fg,i4).bind(this)),U(this,to,!1),U(this,pi,-2)}start(){k(this,to)||(U(this,to,!0),k(this,pi)===-2&&k(this,Ja).getBlockNumber().then(e=>{U(this,pi,e)}),k(this,Ja).on("block",k(this,F0)))}stop(){k(this,to)&&(U(this,to,!1),k(this,Ja).off("block",k(this,F0)))}pause(e){this.stop(),e&&U(this,pi,-2)}resume(){this.start()}}Ja=new WeakMap,L0=new WeakMap,F0=new WeakMap,to=new WeakMap,pi=new WeakMap,fg=new WeakSet,i4=async function(e){if(k(this,pi)===-2)return;const r=p2(k(this,L0));r.fromBlock=k(this,pi)+1,r.toBlock=e;const i=await k(this,Ja).getLogs(r);if(i.length===0){k(this,pi)<e-60&&U(this,pi,e-60);return}for(const n of i)k(this,Ja).emit(k(this,L0),n),U(this,pi,n.blockNumber)};const UF=BigInt(2),jF=10;function np(t){return t&&typeof t.then=="function"}function Rp(t,e){return t+":"+JSON.stringify(e,(r,i)=>{if(i==null)return"null";if(typeof i=="bigint")return`bigint:${i.toString()}`;if(typeof i=="string")return i.toLowerCase();if(typeof i=="object"&&!Array.isArray(i)){const n=Object.keys(i);return n.sort(),n.reduce((a,s)=>(a[s]=i[s],a),{})}return i})}class a4{constructor(e){X(this,"name");Qe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function HF(t){return JSON.parse(JSON.stringify(t))}function m2(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Tv(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ot(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Rp("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Rp("orphan",r),filter:HF(r)}}if(t.address||t.topics){const r=t,i={topics:(r.topics||[]).map(n=>n==null?null:Array.isArray(n)?m2(n.map(a=>a.toLowerCase())):n.toLowerCase())};if(r.address){const n=[],a=[],s=o=>{Ot(o)?n.push(o):a.push((async()=>{n.push(await wn(o,e))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),a.length&&await Promise.all(a),i.address=m2(n.map(o=>o.toLowerCase()))}return{filter:i,tag:Rp("event",i),type:"event"}}$(!1,"unknown ProviderEvent","event",t)}function wv(){return new Date().getTime()}const VF={cacheTimeout:250,pollingInterval:4e3};var Xr,ro,Yr,M0,ei,wl,no,Za,Ud,mi,B0,U0,fn,Kn,jd,g2,Hd,v2,_l,hf,Vd,y2,El,pf,j0,Lp;class zF{constructor(e,r){Z(this,fn);Z(this,jd);Z(this,Hd);Z(this,_l);Z(this,Vd);Z(this,El);Z(this,j0);Z(this,Xr,void 0);Z(this,ro,void 0);Z(this,Yr,void 0);Z(this,M0,void 0);Z(this,ei,void 0);Z(this,wl,void 0);Z(this,no,void 0);Z(this,Za,void 0);Z(this,Ud,void 0);Z(this,mi,void 0);Z(this,B0,void 0);Z(this,U0,void 0);if(U(this,U0,Object.assign({},VF,r||{})),e==="any")U(this,wl,!0),U(this,ei,null);else if(e){const i=Ta.from(e);U(this,wl,!1),U(this,ei,Promise.resolve(i)),setTimeout(()=>{this.emit("network",i,null)},0)}else U(this,wl,!1),U(this,ei,null);U(this,Za,-1),U(this,no,new Map),U(this,Xr,new Map),U(this,ro,new Map),U(this,Yr,null),U(this,M0,!1),U(this,Ud,1),U(this,mi,new Map),U(this,B0,!1)}get pollingInterval(){return k(this,U0).pollingInterval}get provider(){return this}get plugins(){return Array.from(k(this,ro).values())}attachPlugin(e){if(k(this,ro).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return k(this,ro).set(e.name,e.connect(this)),this}getPlugin(e){return k(this,ro).get(e)||null}get disableCcipRead(){return k(this,B0)}set disableCcipRead(e){U(this,B0,!!e)}async ccipReadFetch(e,r,i){if(this.disableCcipRead||i.length===0||e.to==null)return null;const n=e.to.toLowerCase(),a=r.toLowerCase(),s=[];for(let o=0;o<i.length;o++){const l=i[o],u=l.replace("{sender}",n).replace("{data}",a),c=new So(u);l.indexOf("{data}")===-1&&(c.body={data:a,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:i});let f="unknown error";const d=await c.send();try{const h=d.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:h}),h.data;h.message&&(f=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:h})}catch{}fe(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),s.push(f)}fe(!1,`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:i,errorMessages:s}})}_wrapBlock(e,r){return new lF(CF(e),this)}_wrapLog(e,r){return new nh(SF(e),this)}_wrapTransactionReceipt(e,r){return new GC(IF(e),this)}_wrapTransactionResponse(e,r){return new gd(n4(e),this)}_detectNetwork(){fe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){fe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=at(await Pe(this,fn,Kn).call(this,{method:"getBlockNumber"}),"%response");return k(this,Za)>=0&&U(this,Za,e),e}_getAddress(e){return wn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ot(e))return Ot(e,32)?e:Uu(e);if(typeof e=="bigint"&&(e=at(e,"blockTag")),typeof e=="number")return e>=0?Uu(e):k(this,Za)>=0?Uu(k(this,Za)+e):this.getBlockNumber().then(r=>Uu(r+e));$(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?m2(l.map(u=>u.toLowerCase())):l.toLowerCase()),i="blockHash"in e?e.blockHash:void 0,n=(l,u,c)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(i&&(u!=null||c!=null))throw new Error("invalid filter");const d={};return f&&(d.address=f),r.length&&(d.topics=r),u&&(d.fromBlock=u),c&&(d.toBlock=c),i&&(d.blockHash=i),d};let a=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)a.push(this._getAddress(l));else a.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),a.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(a),s,o]).then(l=>n(l[0],l[1],l[2])):n(a,s,o)}_getTransactionRequest(e){const r=Dm(e),i=[];if(["to","from"].forEach(n=>{if(r[n]==null)return;const a=wn(r[n],this);np(a)?i.push(async function(){r[n]=await a}()):r[n]=a}),r.blockTag!=null){const n=this._getBlockTag(r.blockTag);np(n)?i.push(async function(){r.blockTag=await n}()):r.blockTag=n}return i.length?async function(){return await Promise.all(i),r}():r}async getNetwork(){if(k(this,ei)==null){const n=(async()=>{try{const a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw k(this,ei)===n&&U(this,ei,null),a}})();return U(this,ei,n),(await n).clone()}const e=k(this,ei),[r,i]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==i.chainId&&(k(this,wl)?(this.emit("network",i,r),k(this,ei)===e&&U(this,ei,Promise.resolve(i))):fe(!1,`network changed: ${r.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:n,gasPrice:a,priorityFee:s}=await hn({_block:Pe(this,Vd,y2).call(this,"latest",!1),gasPrice:(async()=>{try{const c=await Pe(this,fn,Kn).call(this,{method:"getGasPrice"});return Le(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const c=await Pe(this,fn,Kn).call(this,{method:"getPriorityFee"});return Le(c,"%response")}catch{}return null})()});let o=null,l=null;const u=this._wrapBlock(n,e);return u&&u.baseFeePerGas&&(l=s??BigInt("1000000000"),o=u.baseFeePerGas*UF+l),new zw(a,o,l)},i=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(i){const n=new So(i.url),a=await i.processFunc(r,this,n);return new zw(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return np(r)&&(r=await r),Le(await Pe(this,fn,Kn).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:i}=await hn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Pe(this,Hd,v2).call(this,Pe(this,jd,g2).call(this,r,i,e.enableCcipRead?0:-1))}async getBalance(e,r){return Le(await Pe(this,_l,hf).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return at(await Pe(this,_l,hf).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return je(await Pe(this,_l,hf).call(this,{method:"getCode"},e,r))}async getStorage(e,r,i){const n=Le(r,"position");return je(await Pe(this,_l,hf).call(this,{method:"getStorage",position:n},e,i))}async broadcastTransaction(e){const{blockNumber:r,hash:i,network:n}=await hn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=Pm.from(e);if(a.hash!==i)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,n).replaceableTransaction(r)}async getBlock(e,r){const{network:i,params:n}=await hn({network:this.getNetwork(),params:Pe(this,Vd,y2).call(this,e,!!r)});return n==null?null:this._wrapBlock(n,i)}async getTransaction(e){const{network:r,params:i}=await hn({network:this.getNetwork(),params:Pe(this,fn,Kn).call(this,{method:"getTransaction",hash:e})});return i==null?null:this._wrapTransactionResponse(i,r)}async getTransactionReceipt(e){const{network:r,params:i}=await hn({network:this.getNetwork(),params:Pe(this,fn,Kn).call(this,{method:"getTransactionReceipt",hash:e})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){const n=await Pe(this,fn,Kn).call(this,{method:"getTransaction",hash:e});if(n==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=n.gasPrice}return this._wrapTransactionReceipt(i,r)}async getTransactionResult(e){const{result:r}=await hn({network:this.getNetwork(),result:Pe(this,fn,Kn).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:je(r)}async getLogs(e){let r=this._getFilter(e);np(r)&&(r=await r);const{network:i,params:n}=await hn({network:this.getNetwork(),params:Pe(this,fn,Kn).call(this,{method:"getLogs",filter:r})});return n.map(a=>this._wrapLog(a,i))}_getProvider(e){fe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Nm.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Ct(e);const r=l2(e.substring(2).toLowerCase()+".addr.reverse");try{const i=await Nm.getEnsAddress(this),a=await new us(i,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(a==null||a===ld)return null;const o=await new us(a,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(o)!==e?null:o}catch(i){if(tn(i,"BAD_DATA")&&i.value==="0x"||tn(i,"CALL_EXCEPTION"))return null;throw i}return null}async waitForTransaction(e,r,i){const n=r??1;return n===0?this.getTransactionReceipt(e):new Promise(async(a,s)=>{let o=null;const l=async u=>{try{const c=await this.getTransactionReceipt(e);if(c!=null&&u-c.blockNumber+1>=n){a(c),o&&(clearTimeout(o),o=null);return}}catch(c){console.log("EEE",c)}this.once("block",l)};i!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",l),s(br("timeout","TIMEOUT",{reason:"timeout"})))},i)),l(await this.getBlockNumber())})}async waitForBlock(e){fe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=k(this,mi).get(e);r&&(r.timer&&clearTimeout(r.timer),k(this,mi).delete(e))}_setTimeout(e,r){r==null&&(r=0);const i=Bc(this,Ud)._++,n=()=>{k(this,mi).delete(i),e()};if(this.paused)k(this,mi).set(i,{timer:null,func:n,time:r});else{const a=setTimeout(n,r);k(this,mi).set(i,{timer:a,func:n,time:wv()})}return i}_forEachSubscriber(e){for(const r of k(this,Xr).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new a4(e.type);case"block":{const r=new LF(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new FF(this,e.type);case"event":return new A6(this,e.filter);case"transaction":return new BF(this,e.hash);case"orphan":return new MF(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const i of k(this,Xr).values())if(i.subscriber===e){i.started&&i.subscriber.stop(),i.subscriber=r,i.started&&r.start(),k(this,Yr)!=null&&r.pause(k(this,Yr));break}}async on(e,r){const i=await Pe(this,j0,Lp).call(this,e);return i.listeners.push({listener:r,once:!1}),i.started||(i.subscriber.start(),i.started=!0,k(this,Yr)!=null&&i.subscriber.pause(k(this,Yr))),this}async once(e,r){const i=await Pe(this,j0,Lp).call(this,e);return i.listeners.push({listener:r,once:!0}),i.started||(i.subscriber.start(),i.started=!0,k(this,Yr)!=null&&i.subscriber.pause(k(this,Yr))),this}async emit(e,...r){const i=await Pe(this,El,pf).call(this,e,r);if(!i||i.listeners.length===0)return!1;const n=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:s})=>{const o=new IA(this,s?null:a,e);try{a.call(this,...r,o)}catch{}return!s}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),k(this,Xr).delete(i.tag)),n>0}async listenerCount(e){if(e){const i=await Pe(this,El,pf).call(this,e);return i?i.listeners.length:0}let r=0;for(const{listeners:i}of k(this,Xr).values())r+=i.length;return r}async listeners(e){if(e){const i=await Pe(this,El,pf).call(this,e);return i?i.listeners.map(({listener:n})=>n):[]}let r=[];for(const{listeners:i}of k(this,Xr).values())r=r.concat(i.map(({listener:n})=>n));return r}async off(e,r){const i=await Pe(this,El,pf).call(this,e);if(!i)return this;if(r){const n=i.listeners.map(({listener:a})=>a).indexOf(r);n>=0&&i.listeners.splice(n,1)}return(!r||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),k(this,Xr).delete(i.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:i,subscriber:n}=await Pe(this,j0,Lp).call(this,e);i&&n.stop(),k(this,Xr).delete(r)}else for(const[r,{started:i,subscriber:n}]of k(this,Xr))i&&n.stop(),k(this,Xr).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return k(this,M0)}destroy(){this.removeAllListeners();for(const e of k(this,mi).keys())this._clearTimeout(e);U(this,M0,!0)}get paused(){return k(this,Yr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(U(this,Za,-1),k(this,Yr)!=null){if(k(this,Yr)==!!e)return;fe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),U(this,Yr,!!e);for(const r of k(this,mi).values())r.timer&&clearTimeout(r.timer),r.time=wv()-r.time}resume(){if(k(this,Yr)!=null){this._forEachSubscriber(e=>e.resume()),U(this,Yr,null);for(const e of k(this,mi).values()){let r=e.time;r<0&&(r=0),e.time=wv(),setTimeout(e.func,r)}}}}Xr=new WeakMap,ro=new WeakMap,Yr=new WeakMap,M0=new WeakMap,ei=new WeakMap,wl=new WeakMap,no=new WeakMap,Za=new WeakMap,Ud=new WeakMap,mi=new WeakMap,B0=new WeakMap,U0=new WeakMap,fn=new WeakSet,Kn=async function(e){const r=k(this,U0).cacheTimeout;if(r<0)return await this._perform(e);const i=Rp(e.method,e);let n=k(this,no).get(i);return n||(n=this._perform(e),k(this,no).set(i,n),setTimeout(()=>{k(this,no).get(i)===n&&k(this,no).delete(i)},r)),await n},jd=new WeakSet,g2=async function(e,r,i){fe(i<jF,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const n=Dm(e);try{return je(await this._perform({method:"call",transaction:n,blockTag:r}))}catch(a){if(!this.disableCcipRead&&a6(a)&&a.data&&i>=0&&r==="latest"&&n.to!=null&&nr(a.data,0,4)==="0x556f1830"){const s=a.data,o=await wn(n.to,this);let l;try{l=QF(nr(a.data,4))}catch(f){fe(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:s}})}fe(l.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(n,l.calldata,l.urls);fe(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:a.data,errorArgs:l.errorArgs}});const c={to:o,data:mr([l.selector,$F([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const f=await Pe(this,jd,g2).call(this,c,r,i+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:f}),f}}throw a}},Hd=new WeakSet,v2=async function(e){const{value:r}=await hn({network:this.getNetwork(),value:e});return r},_l=new WeakSet,hf=async function(e,r,i){let n=this._getAddress(r),a=this._getBlockTag(i);return(typeof n!="string"||typeof a!="string")&&([n,a]=await Promise.all([n,a])),await Pe(this,Hd,v2).call(this,Pe(this,fn,Kn).call(this,Object.assign(e,{address:n,blockTag:a})))},Vd=new WeakSet,y2=async function(e,r){if(Ot(e,32))return await Pe(this,fn,Kn).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let i=this._getBlockTag(e);return typeof i!="string"&&(i=await i),await Pe(this,fn,Kn).call(this,{method:"getBlock",blockTag:i,includeTransactions:r})},El=new WeakSet,pf=async function(e,r){let i=await Tv(e,this);return i.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(i=await Tv({orphan:"drop-log",log:r[0]},this)),k(this,Xr).get(i.tag)||null},j0=new WeakSet,Lp=async function(e){const r=await Tv(e,this),i=r.tag;let n=k(this,Xr).get(i);return n||(n={subscriber:this._getSubscriber(r),tag:i,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},k(this,Xr).set(i,n)),n};function GF(t,e){try{const r=b2(t,e);if(r)return xm(r)}catch{}return null}function b2(t,e){if(t==="0x")return null;try{const r=at(nr(t,e,e+32)),i=at(nr(t,r,r+32));return nr(t,r+32,r+32+i)}catch{}return null}function Yw(t){const e=xn(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function qF(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const WF=new Uint8Array([]);function $F(t){const e=[];let r=0;for(let i=0;i<t.length;i++)e.push(WF),r+=32;for(let i=0;i<t.length;i++){const n=xt(t[i]);e[i]=Yw(r),e.push(Yw(n.length)),e.push(qF(n)),r+=32+Math.ceil(n.length/32)*32}return mr(e)}const Jw="0x0000000000000000000000000000000000000000000000000000000000000000";function QF(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};fe(Zu(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=nr(t,0,32);fe(nr(r,0,12)===nr(Jw,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=nr(r,12);try{const i=[],n=at(nr(t,32,64)),a=at(nr(t,n,n+32)),s=nr(t,n+32);for(let o=0;o<a;o++){const l=GF(s,o*32);if(l==null)throw new Error("abort");i.push(l)}e.urls=i}catch{fe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const i=b2(t,64);if(i==null)throw new Error("abort");e.calldata=i}catch{fe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}fe(nr(t,100,128)===nr(Jw,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=nr(t,96,100);try{const i=b2(t,128);if(i==null)throw new Error("abort");e.extraData=i}catch{fe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(i=>e[i]),e}function du(t,e){if(t.provider)return t.provider;fe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Zw(t,e){let r=Dm(e);if(r.to!=null&&(r.to=wn(r.to,t)),r.from!=null){const i=r.from;r.from=Promise.all([t.getAddress(),wn(i,t)]).then(([n,a])=>($(n.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),n))}else r.from=t.getAddress();return await hn(r)}class KF{constructor(e){X(this,"provider");Qe(this,{provider:e||null})}async getNonce(e){return du(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Zw(this,e)}async populateTransaction(e){const r=du(this,"populateTransaction"),i=await Zw(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const n=await this.provider.getNetwork();if(i.chainId!=null){const s=Le(i.chainId);$(s===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=n.chainId;const a=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||a)?$(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&a&&$(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const s=await r.getFeeData();fe(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=s.gasPrice)}else{const s=await r.getFeeData();if(i.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(i.type=2,i.gasPrice!=null){const o=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=o,i.maxPriorityFeePerGas=o}else i.maxFeePerGas==null&&(i.maxFeePerGas=s.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(fe(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=s.gasPrice),i.type=0):fe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else i.type===2&&(i.maxFeePerGas==null&&(i.maxFeePerGas=s.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await hn(i)}async estimateGas(e){return du(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return du(this,"call").call(await this.populateCall(e))}async resolveName(e){return await du(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=du(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const n=Pm.from(i);return await r.broadcastTransaction(await this.signTransaction(n))}}function XF(t){return JSON.parse(JSON.stringify(t))}var kn,ma,Sl,io,Al,H0,zd,x2,Gd,T2;class s4{constructor(e){Z(this,zd);Z(this,Gd);Z(this,kn,void 0);Z(this,ma,void 0);Z(this,Sl,void 0);Z(this,io,void 0);Z(this,Al,void 0);Z(this,H0,void 0);U(this,kn,e),U(this,ma,null),U(this,Sl,Pe(this,zd,x2).bind(this)),U(this,io,!1),U(this,Al,null),U(this,H0,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){k(this,io)||(U(this,io,!0),Pe(this,zd,x2).call(this,-2))}stop(){k(this,io)&&(U(this,io,!1),U(this,H0,!0),Pe(this,Gd,T2).call(this),k(this,kn).off("block",k(this,Sl)))}pause(e){e&&Pe(this,Gd,T2).call(this),k(this,kn).off("block",k(this,Sl))}resume(){this.start()}}kn=new WeakMap,ma=new WeakMap,Sl=new WeakMap,io=new WeakMap,Al=new WeakMap,H0=new WeakMap,zd=new WeakSet,x2=async function(e){try{k(this,ma)==null&&U(this,ma,this._subscribe(k(this,kn)));let r=null;try{r=await k(this,ma)}catch(a){if(!tn(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(r==null){U(this,ma,null),k(this,kn)._recoverSubscriber(this,this._recover(k(this,kn)));return}const i=await k(this,kn).getNetwork();if(k(this,Al)||U(this,Al,i),k(this,Al).chainId!==i.chainId)throw new Error("chaid changed");if(k(this,H0))return;const n=await k(this,kn).send("eth_getFilterChanges",[r]);await this._emitResults(k(this,kn),n)}catch(r){console.log("@TODO",r)}k(this,kn).once("block",k(this,Sl))},Gd=new WeakSet,T2=function(){const e=k(this,ma);e&&(U(this,ma,null),e.then(r=>{k(this,kn).send("eth_uninstallFilter",[r])}))};var Cl;class YF extends s4{constructor(r,i){super(r);Z(this,Cl,void 0);U(this,Cl,XF(i))}_recover(r){return new A6(r,k(this,Cl))}async _subscribe(r){return await r.send("eth_newFilter",[k(this,Cl)])}async _emitResults(r,i){for(const n of i)r.emit(k(this,Cl),r._wrapLog(n,r._network))}}Cl=new WeakMap;class JF extends s4{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const i of r)e.emit("pending",i)}}const ZF="bigint,boolean,function,number,string,symbol".split(/,/g);function Fp(t){if(t==null||ZF.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Fp);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function eM(t){return new Promise(e=>{setTimeout(e,t)})}function hu(t){return t&&t.toLowerCase()}function e_(t){return t&&typeof t.pollingInterval=="number"}const tM={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class _v extends KF{constructor(r,i){super(r);X(this,"address");i=Ct(i),Qe(this,{address:i})}connect(r){fe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const i=Fp(r),n=[];if(i.from){const s=i.from;n.push((async()=>{const o=await wn(s,this.provider);$(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),i.from=o})())}else i.from=this.address;if(i.gasLimit==null&&n.push((async()=>{i.gasLimit=await this.provider.estimateGas({...i,from:this.address})})()),i.to!=null){const s=i.to;n.push((async()=>{i.to=await wn(s,this.provider)})())}n.length&&await Promise.all(n);const a=this.provider.getRpcTransaction(i);return this.provider.send("eth_sendTransaction",[a])}async sendTransaction(r){const i=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(r);return await new Promise((a,s)=>{const o=[1e3,100];let l=0;const u=async()=>{try{const c=await this.provider.getTransaction(n);if(c!=null){a(c.replaceableTransaction(i));return}}catch(c){if(tn(c,"CANCELLED")||tn(c,"BAD_DATA")||tn(c,"NETWORK_ERROR")){c.info==null&&(c.info={}),c.info.sendTransactionHash=n,s(c);return}if(tn(c,"INVALID_ARGUMENT")&&(l++,c.info==null&&(c.info={}),c.info.sendTransactionHash=n,l>10)){s(c);return}this.provider.emit("error",br("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(r){const i=Fp(r);if(i.from){const a=await wn(i.from,this.provider);$(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),i.from=a}else i.from=this.address;const n=this.provider.getRpcTransaction(i);return await this.provider.send("eth_signTransaction",[n])}async signMessage(r){const i=typeof r=="string"?_i(r):r;return await this.provider.send("personal_sign",[je(i),this.address.toLowerCase()])}async signTypedData(r,i,n){const a=Fp(n),s=await km.resolveNames(r,i,a,async o=>{const l=await wn(o);return $(l!=null,"TypedData does not support null address","value",o),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(km.getPayload(s.domain,i,s.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const i=typeof r=="string"?_i(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),je(i)])}}var Pl,V0,es,ga,Ui,gi,Dn,qd,w2;class rM extends zF{constructor(r,i){super(r,i);Z(this,qd);Z(this,Pl,void 0);Z(this,V0,void 0);Z(this,es,void 0);Z(this,ga,void 0);Z(this,Ui,void 0);Z(this,gi,void 0);Z(this,Dn,void 0);U(this,V0,1),U(this,Pl,Object.assign({},tM,i||{})),U(this,es,[]),U(this,ga,null),U(this,gi,null),U(this,Dn,null);{let a=null;const s=new Promise(o=>{a=o});U(this,Ui,{promise:s,resolve:a})}const n=this._getOption("staticNetwork");typeof n=="boolean"?($(!n||r!=="any","staticNetwork cannot be used on special network 'any'","options",i),n&&r!=null&&U(this,gi,Ta.from(r))):n&&($(r==null||n.matches(r),"staticNetwork MUST match network object","options",i),U(this,gi,n))}_getOption(r){return k(this,Pl)[r]}get _network(){return fe(k(this,gi),"network is not available yet","NETWORK_ERROR"),k(this,gi)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let n=r.transaction;if(n&&n.type!=null&&Le(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const a=await this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},n,{type:void 0})}))}}const i=this.getRpcRequest(r);return i!=null?await this.send(i.method,i.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(k(this,gi))return k(this,gi)}else return r;return k(this,Dn)?await k(this,Dn):this.ready?(U(this,Dn,(async()=>{try{const i=Ta.from(Le(await this.send("eth_chainId",[])));return U(this,Dn,null),i}catch(i){throw U(this,Dn,null),i}})()),await k(this,Dn)):(U(this,Dn,(async()=>{const i={id:Bc(this,V0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:i});let n;try{n=(await this._send(i))[0],U(this,Dn,null)}catch(a){throw U(this,Dn,null),this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Ta.from(Le(n.result));throw this.getRpcError(i,n)})()),await k(this,Dn))}_start(){k(this,Ui)==null||k(this,Ui).resolve==null||(k(this,Ui).resolve(),U(this,Ui,null),(async()=>{for(;k(this,gi)==null&&!this.destroyed;)try{U(this,gi,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",br("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await eM(1e3)}Pe(this,qd,w2).call(this)})())}async _waitUntilReady(){if(k(this,Ui)!=null)return await k(this,Ui).promise}_getSubscriber(r){return r.type==="pending"?new JF(this):r.type==="event"?this._getOption("polling")?new A6(this,r.filter):new YF(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new a4("orphan"):super._getSubscriber(r)}get ready(){return k(this,Ui)==null}getRpcTransaction(r){const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(r[n]==null)return;let a=n;n==="gasLimit"&&(a="gas"),i[a]=Uu(Le(r[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{r[n]!=null&&(i[n]=je(r[n]))}),r.accessList&&(i.accessList=Zl(r.accessList)),i}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[hu(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[hu(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[hu(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[hu(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(hu):r.filter.address=hu(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,i){const{method:n}=r,{error:a}=i;if(n==="eth_estimateGas"&&a.message){const l=a.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return br("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:a}})}if(n==="eth_call"||n==="eth_estimateGas"){const l=_2(a),u=md.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",r.params[0],l?l.data:null);return u.info={error:a,payload:r},u}const s=JSON.stringify(iM(a));if(typeof a.message=="string"&&a.message.match(/user denied|ethers-user-denied/i))return br("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:r,error:a}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const l=r.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return br("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:a}});if(s.match(/nonce/i)&&s.match(/too low/i))return br("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:a}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return br("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:a}});if(s.match(/only replay-protected/i))return br("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:l,info:{error:a}}})}let o=!!s.match(/the method .* does not exist/i);return o||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(o=!0),o?br("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:a,payload:r}}):br("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:r})}send(r,i){if(this.destroyed)return Promise.reject(br("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const n=Bc(this,V0)._++,a=new Promise((s,o)=>{k(this,es).push({resolve:s,reject:o,payload:{method:r,params:i,id:n,jsonrpc:"2.0"}})});return Pe(this,qd,w2).call(this),a}async getSigner(r){r==null&&(r=0);const i=this.send("eth_accounts",[]);if(typeof r=="number"){const a=await i;if(r>=a.length)throw new Error("no such account");return new _v(this,a[r])}const{accounts:n}=await hn({network:this.getNetwork(),accounts:i});r=Ct(r);for(const a of n)if(Ct(a)===r)return new _v(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(i=>new _v(this,i))}destroy(){k(this,ga)&&(clearTimeout(k(this,ga)),U(this,ga,null));for(const{payload:r,reject:i}of k(this,es))i(br("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));U(this,es,[]),super.destroy()}}Pl=new WeakMap,V0=new WeakMap,es=new WeakMap,ga=new WeakMap,Ui=new WeakMap,gi=new WeakMap,Dn=new WeakMap,qd=new WeakSet,w2=function(){if(k(this,ga))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");U(this,ga,setTimeout(()=>{U(this,ga,null);const i=k(this,es);for(U(this,es,[]);i.length;){const n=[i.shift()];for(;i.length&&n.length!==k(this,Pl).batchMaxCount;)if(n.push(i.shift()),JSON.stringify(n.map(s=>s.payload)).length>k(this,Pl).batchMaxSize){i.unshift(n.pop());break}(async()=>{const a=n.length===1?n[0].payload:n.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{const s=await this._send(a);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:o,reject:l,payload:u}of n){if(this.destroyed){l(br("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const c=s.filter(f=>f.id===u.id)[0];if(c==null){const f=br("missing response for request","BAD_DATA",{value:s,info:{payload:u}});this.emit("error",f),l(f);continue}if("error"in c){l(this.getRpcError(u,c));continue}o(c.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:o}of n)o(s)}})()}},r))};var ao;class nM extends rM{constructor(r,i){super(r,i);Z(this,ao,void 0);U(this,ao,4e3)}_getSubscriber(r){const i=super._getSubscriber(r);return e_(i)&&(i.pollingInterval=k(this,ao)),i}get pollingInterval(){return k(this,ao)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");U(this,ao,r),this._forEachSubscriber(i=>{e_(i)&&(i.pollingInterval=k(this,ao))})}}ao=new WeakMap;function _2(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ot(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=_2(t[e]);if(r)return r}return null}if(typeof t=="string")try{return _2(JSON.parse(t))}catch{}return null}function E2(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)E2(t[r],e);if(typeof t=="string")try{return E2(JSON.parse(t),e)}catch{}}}function iM(t){const e=[];return E2(t,e),e}var z0;class wc extends nM{constructor(r,i){$(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(i,{batchMaxCount:1});Z(this,z0,void 0);U(this,z0,async(n,a)=>{const s={method:n,params:a};this.emit("debug",{action:"sendEip1193Request",payload:s});try{const o=await r.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:o}),o}catch(o){const l=new Error(o.message);throw l.code=o.code,l.data=o.data,l.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}async send(r,i){return await this._start(),await super.send(r,i)}async _send(r){$(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const i=await k(this,z0).call(this,r.method,r.params||[]);return[{id:r.id,result:i}]}catch(i){return[{id:r.id,error:{code:i.code,data:i.data,message:i.message}}]}}getRpcError(r,i){switch(i=JSON.parse(JSON.stringify(i)),i.error.code||-1){case 4001:i.error.message=`ethers-user-denied: ${i.error.message}`;break;case 4200:i.error.message=`ethers-unsupported: ${i.error.message}`;break}return super.getRpcError(r,i)}async hasSigner(r){r==null&&(r=0);const i=await this.send("eth_accounts",[]);return typeof r=="number"?i.length>r:(r=r.toLowerCase(),i.filter(n=>n.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await k(this,z0).call(this,"eth_requestAccounts",[])}catch(i){const n=i.payload;throw this.getRpcError(n,{id:n.id,error:i})}return await super.getSigner(r)}}z0=new WeakMap;const aM=[{label:"featured",property:"#featured"},{label:"Newest first",property:"#newest_first_project"},{label:"Sort A-Z",property:"#proj_sort_asc"},{label:"Sort Z-A",property:"#proj_sort_dsc"},{label:"Open to work",property:"#open_for_development"}];function sM(){const[t,e]=Q.useState([]),[r,i]=Q.useState({searchString:""}),n=localStorage.getItem("Isstateagent"),a=localStorage.getItem("Islandlord"),s=localStorage.getItem("Istenant"),o=async()=>{try{const u=await(await fetch("http://localhost:8000/property/getAllProperties")).json();e(u)}catch(l){console.log(l)}};return Q.useEffect(()=>{o()},[]),w.jsxs("div",{className:"flex flex-col justify-center w-full",children:[w.jsx("div",{className:"gradient z-0"}),w.jsxs("div",{className:"gap-0 z-[1] mt-5",children:[w.jsx("h1",{className:" text-gray-900 text-center text-3xl md:text-4xl font-semibold",children:"Find your dream properties to live"}),w.jsx("h1",{className:" blue-gradient text-center text-3xl md:text-4xl  font-semibold",children:"Complete Trust & Security"}),n&&w.jsx("div",{className:"flex my-8 items-center justify-center gap-10 z-[1]",children:w.jsx("div",{className:"flex justify-between  items-center cursor-pointer bg-accent hover:bg-accent/50 rounded-lg text-white font-semibold text-center",children:w.jsxs("a",{href:"/properties/create",className:"flex p-3 md:p-4 items-center justify-center",children:["List property",w.jsx(AA,{className:"ml-2 text-md"})]})})})]}),w.jsx("div",{className:"flex justify-center my-6 relative mx-3",children:w.jsxs("div",{className:"flex lg:w-3/5 flex-col justify-center w-full md:w-4/5 items-start border z-10 border-slate-300  bg-white/50 rounded-2xl py-5",children:[w.jsx("h1",{className:"text-2xl text-start font-medium text-slate-800 px-5",children:"Properties Listed on Platform"}),w.jsxs("div",{className:"flex mt-6 w-full justify-between border-b ",children:[w.jsx("div",{className:"tabs gap-4 pl-6"}),w.jsx(EA,{filters:aM,properties:t,setproperties:e})]}),w.jsx("p",{className:"mx-5 my-2 text-base",children:"Browse properties that match your living criteria and prefered area. Ordered by most relevant."}),w.jsx("div",{className:"flex w-full px-4 py-2",children:w.jsx(SA,{searchInput:r,setSearchInput:i,searchPlaceholder:"Type project title to search.."})}),t.length>0?w.jsx(zO,{propertiesProp:t}):w.jsx("div",{className:"flex w-full py-10 justify-center text-slate-500",children:w.jsx("img",{alt:"loader",src:eh})}),!n&&!a&&!s&&t.length>0?w.jsx("h1",{className:" blue-gradient text-center text-2xl md:text-4xl font-semibold ml-5",children:"Please login to see more..."}):null]})})]})}function oM({agreementData:t}){const e=localStorage.getItem("Isstateagent"),r=localStorage.getItem("Islandlord"),i=localStorage.getItem("Istenant"),[n,a]=Q.useState(!1);function s(l){return Object.keys(l).length===0}const o=()=>{a(!0)};return s(t)?w.jsx("div",{className:"flex w-full py-10 justify-center text-slate-500",children:w.jsx("img",{alt:"loader",src:eh})}):w.jsxs("div",{className:"flex flex-col max-w-screen-sm md:max-w-none lg:max-w-none items-center justify-center mx-3",children:[w.jsxs("div",{className:`flex w-full lg:w-3/5 md:w-4/5 flex-col justify-center\r
            items-center border z-10 relative\r
           border-slate-300  bg-white/50 rounded-2xl my-6 mb-10`,children:[w.jsxs("div",{className:"flex justify-start w-full mt-6 items-start place-content-start gap-[5%] border-b border-slate-300 px-5 py-7 relative",children:[w.jsx("div",{className:"flex items-center relative justify-center h-24 p-0 m-0",children:w.jsx("img",{alt:"banner",src:t.propertyDetails.thumbnail,className:"inline-block object-cover aspect-video h-full p-0 shadow rounded-xl"})}),w.jsxs("div",{className:"flex flex-col justify-between items-start gap-3",children:[w.jsx("h1",{className:"text-3xl font-medium text-slate-900",children:t.rentAmount}),e&&t.status<=2&&w.jsx("div",{className:"absolute top-6 right-10 md:flex",children:w.jsx("button",{type:"button",className:"text-green-500 border border-solid border-green-500 text-xl lg:text-2xl bg-green-50 hover:bg-green-500 hover:text-white p-3 rounded-xl",children:"Activate"})}),(r&&!n||i&&!n)&&w.jsx("div",{className:"absolute top-6 right-10 md:flex",children:w.jsx("button",{onClick:o,type:"button",className:"text-red-500 border border-solid border-red-500 text-xl lg:text-2xl bg-red-50 hover:bg-red-500 hover:text-white p-3 rounded-xl",children:"Terminate"})}),(r&&n||i&&n)&&w.jsx("div",{className:"absolute top-6 right-10 md:flex",children:w.jsx("button",{type:"button",className:"text-red-500 border border-solid border-red-500  text-xl lg:text-2xl bg-red-50 hover:bg-red-500 hover:text-white p-3 rounded-xl",children:"Approve Termination"})})]})]}),w.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-start w-full items-start place-content-start",children:[w.jsx("div",{className:"flex flex-col gap-6 px-5 py-7  mr-2  md:w-1/3 relative",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("div",{className:"flex flex-wrap",children:w.jsx("ul",{className:"flex flex-wrap  gap-2 text-black",children:w.jsxs("li",{className:"border text-accent border-slate-300 px-2 py-1 bg-accent/5 text-sm rounded-2xl",children:[w.jsx("span",{className:"font-bold",children:"Status : "})," ",t.status]})})}),w.jsxs("h1",{className:"text-lg ",children:[w.jsx("span",{className:"font-semibold",children:"Agreement Id :"})," ",t._id]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("h1",{className:"text-lg text-slate-900 font-medium",children:["Duration : ",t.duration," months"]}),w.jsx("h1",{className:"text-lg text-slate-400 font-medium"})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("h1",{className:"text-lg text-slate-900 font-medium",children:["Rent : ",t.rent,"/= Rs"]}),w.jsx("h1",{className:"text-lg text-slate-400 font-medium"})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("h1",{className:"text-lg text-slate-900 font-medium",children:["Advance : ",t.advance,"/= Rs"]}),w.jsx("h1",{className:"text-lg text-slate-400 font-medium"})]})]})}),w.jsx("div",{className:"flex flex-col border-b md:border-b-0 md:border-l md:pl-2 border-slate-300 md:gap-6 md:w-2/3 pb-10",children:w.jsxs("div",{className:"flex flex-col gap-2 px-5 py-7",children:[w.jsx("h1",{className:"text-2xl font-semibold mb-3",children:"Extra Details/Requirements"}),w.jsx("p",{className:"description",children:t.extraDetails})]})})]})]}),w.jsx("div",{className:`flex w-full lg:w-3/5 md:w-4/5 flex-col justify-center\r
            items-center border z-10 relative\r
           border-slate-300  bg-white/50 rounded-2xl my-6 mb-10`,children:w.jsxs("div",{className:"flex w-full flex-col",children:[w.jsx("h1",{className:"text-2xl font-semibold px-5 pt-7 mb-1",children:"Property Details"}),w.jsx("div",{className:" py-5",children:w.jsx("div",{className:"flex w-full justify-between items-center py-5 relative border-t px-5 gap-5 border-slate-300",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-0",children:[w.jsxs("div",{className:"flex items-start justify-start",children:[w.jsx("img",{src:t.propertyDetails.thumbnail,alt:"",className:"w-[30vw]  md:w-40 rounded-lg  object-cover aspect-video mr-8"}),w.jsxs("div",{className:"flex flex-col md:hidden",children:[w.jsx(pr,{to:`/properties/${t.propertyDetails._id}`,className:" text-xl font-semibold  hover:text-accent",children:t.propertyDetails.name}),w.jsx("p",{children:agreements.propertyDetails._id})]})]}),w.jsxs("div",{className:"lg:w-[60%] md:pl-6",children:[w.jsx(pr,{to:`/properties/${t.propertyDetails._id}`,className:"hidden md:flex text-xl font-semibold  hover:text-accent",children:t.propertyDetails.propertyType}),w.jsx("div",{className:"hidden md:flex place-content-start items-center w-full text-slate-600 gap-1",children:w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"Id : "})," ",t.propertyDetails._id]})}),w.jsxs("p",{className:"description   w-full md:w-[90%]",children:[w.jsx("span",{className:"font-bold",children:"Description : "})," ",t.propertyDetails.description]})]})]})},t.propertyDetails._id)})]})}),w.jsx("div",{className:`flex w-full lg:w-3/5 md:w-4/5 flex-col justify-center\r
            items-center border z-10 relative\r
           border-slate-300  bg-white/50 rounded-2xl my-6`,children:w.jsxs("div",{className:"flex w-full flex-col",children:[w.jsx("h1",{className:"text-2xl font-semibold px-5 pt-7 mb-3",children:"Individuals/Entities Involved"}),w.jsxs("div",{className:"py-5",children:[w.jsx("div",{className:"flex w-full justify-between items-center py-5 relative border-t px-5 gap-5 border-slate-300",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-0",children:[w.jsxs("div",{className:"flex items-center justify-start",children:[w.jsx("img",{src:agreements.landlord.pic,alt:"",className:"w-[20vw] h-full md:w-20 md:h-20 object-cover aspect-square rounded-full md:mr-0 mr-4"}),w.jsxs("div",{children:[w.jsx("div",{className:"flex md:hidden text-xl font-semibold  hover:text-accent",children:agreements.landlord.name}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.landlord.cnic}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.landlord.walletAddress})]})]}),w.jsxs("div",{className:"lg:w-[80%] md:pl-6",children:[w.jsx("div",{className:"hidden md:flex text-xl mb-1  font-semibold  hover:text-accent",children:agreements.landlord.name}),w.jsxs("div",{className:"hidden description w-full md:w-[90%] md:flex items-center",children:[w.jsx("span",{className:"font-bold",children:"Role : "})," Landlord"]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" CNIC : "}),agreements.landlord.cnic]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" Wallet : "}),agreements.landlord.walletAddress]})]})]})},agreements.landlord._id),w.jsx("div",{className:"flex w-full justify-between items-center py-5 relative border-t px-5 gap-5 border-slate-300",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-0",children:[w.jsxs("div",{className:"flex items-center justify-start",children:[w.jsx("img",{src:agreements.tenant.pic,alt:"",className:"w-[10vw] h-full md:w-20 md:h-20 object-cover aspect-square rounded-full md:mr-0 mr-4"}),w.jsxs("div",{children:[w.jsx("div",{className:"flex md:hidden text-xl font-semibold  hover:text-accent",children:agreements.tenant.name}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.tenant.cnic}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.tenant.walletAddress})]})]}),w.jsxs("div",{className:"lg:w-[80%] md:pl-6",children:[w.jsx("div",{className:"hidden md:flex text-xl mb-1  font-semibold  hover:text-accent",children:agreements.tenant.name}),w.jsxs("div",{className:"hidden description w-full md:w-[90%] md:flex items-center",children:[w.jsx("span",{className:"font-bold",children:"Role : "})," Tenant"]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" CNIC : "}),agreements.tenant.cnic]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" Wallet : "}),agreements.tenant.walletAddress]})]})]})},agreements.landlord._id),w.jsx("div",{className:"flex w-full justify-between items-center py-5 relative border-t px-5 gap-5 border-slate-300",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-0",children:[w.jsxs("div",{className:"flex items-center justify-start",children:[w.jsx("img",{src:agreements.stateAgent.pic,alt:"",className:"w-[10vw] h-full md:w-20 md:h-20 object-cover aspect-square rounded-full md:mr-0 mr-4"}),w.jsxs("div",{children:[w.jsx("div",{className:"flex md:hidden text-xl font-semibold  hover:text-accent",children:agreements.stateAgent.name}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.stateAgent.cnic}),w.jsx("div",{className:"md:hidden description w-full md:w-[90%] flex items-center",children:agreements.stateAgent.walletAddress})]})]}),w.jsxs("div",{className:"lg:w-[80%] md:pl-6",children:[w.jsx("div",{className:"hidden md:flex text-xl mb-1  font-semibold  hover:text-accent",children:agreements.stateAgent.name}),w.jsxs("div",{className:"hidden description w-full md:w-[90%] md:flex items-center",children:[w.jsx("span",{className:"font-bold",children:"Role : "})," State Agent"]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" CNIC : "}),agreements.stateAgent.cnic]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" Wallet : "}),agreements.stateAgent.walletAddress]}),w.jsxs("div",{className:"place-content-start items-center w-full text-slate-600 ",children:[w.jsx("span",{className:"font-bold",children:" Estate Name : "}),agreements.stateAgent.estateName]})]})]})},t.landlord._id)]})]})})]})}function lM(){const{agreementId:t}=n6(),[e,r]=Q.useState({}),i=async()=>{try{const a=await(await fetch(`http://localhost:8000/agreements/getAgreementById/${t}`)).json();r(a)}catch(n){console.log(n)}};return Q.useEffect(()=>{i()},[t]),w.jsx("div",{children:w.jsx(oM,{agreementData:e})})}function t_(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C7.589 2 4 5.589 4 9.995 3.971 16.44 11.696 21.784 12 22c0 0 8.029-5.56 8-12 0-4.411-3.589-8-8-8zm0 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"}}]})(t)}function uM(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.7 403.7c-22.1 8-45.9 12.3-70.7 12.3s-48.7-4.4-70.7-12.3c-.3-.1-.5-.2-.8-.3c-30-11-56.8-28.7-78.6-51.4C70 314.6 48 263.9 48 208C48 93.1 141.1 0 256 0S464 93.1 464 208c0 55.9-22 106.6-57.9 144c-1 1-2 2.1-3 3.1c-21.4 21.4-47.4 38.1-76.3 48.6zM256 91.9c-11.1 0-20.1 9-20.1 20.1v6c-5.6 1.2-10.9 2.9-15.9 5.1c-15 6.8-27.9 19.4-31.1 37.7c-1.8 10.2-.8 20 3.4 29c4.2 8.8 10.7 15 17.3 19.5c11.6 7.9 26.9 12.5 38.6 16l2.2 .7c13.9 4.2 23.4 7.4 29.3 11.7c2.5 1.8 3.4 3.2 3.7 4c.3 .8 .9 2.6 .2 6.7c-.6 3.5-2.5 6.4-8 8.8c-6.1 2.6-16 3.9-28.8 1.9c-6-1-16.7-4.6-26.2-7.9l0 0 0 0 0 0c-2.2-.7-4.3-1.5-6.4-2.1c-10.5-3.5-21.8 2.2-25.3 12.7s2.2 21.8 12.7 25.3c1.2 .4 2.7 .9 4.4 1.5c7.9 2.7 20.3 6.9 29.8 9.1V304c0 11.1 9 20.1 20.1 20.1s20.1-9 20.1-20.1v-5.5c5.3-1 10.5-2.5 15.4-4.6c15.7-6.7 28.4-19.7 31.6-38.7c1.8-10.4 1-20.3-3-29.4c-3.9-9-10.2-15.6-16.9-20.5c-12.2-8.8-28.3-13.7-40.4-17.4l-.8-.2c-14.2-4.3-23.8-7.3-29.9-11.4c-2.6-1.8-3.4-3-3.6-3.5c-.2-.3-.7-1.6-.1-5c.3-1.9 1.9-5.2 8.2-8.1c6.4-2.9 16.4-4.5 28.6-2.6c4.3 .7 17.9 3.3 21.7 4.3c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-4.4-1.2-14.4-3.2-21-4.4V112c0-11.1-9-20.1-20.1-20.1zM48 352H64c19.5 25.9 44 47.7 72.2 64H64v32H256 448V416H375.8c28.2-16.3 52.8-38.1 72.2-64h16c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V400c0-26.5 21.5-48 48-48z"}}]})(t)}function cM({children:t}){return w.jsx("div",{className:`flex w-full 2xl:w-3/5 md:w-4/5 flex-col justify-center 
            items-center border z-10 relative
           border-slate-300  bg-white/50 rounded-2xl py-6 mb-10 my-6`,children:t})}function r_(t){return w.jsx("div",{className:"flex md:flex-row flex-col w-full items-start justify-start",children:w.jsxs(pr,{to:t.to,className:"flex items-center hover:text-accent justify-start gap-3 text-lg text-slate-800",children:[w.jsx("img",{src:t.image,alt:"",className:`${t.imageclass} rounded-full  object-cover aspect-square`}),w.jsx("h1",{className:`${t.className} truncate`,children:t.walletAddress})]})})}window.libpannellum=function(t,e,r){function i(c){var f=e.createElement("canvas");f.style.width=f.style.height="100%",c.appendChild(f);var d,h,y,m,T,b,E,A,C,I,R,L,O,W,H,re;this.init=function(q,Y,Re,Ce,Oe,te,we,He){if(Y===r&&(Y="equirectangular"),Y!="equirectangular"&&Y!="cubemap"&&Y!="multires")throw console.log("Error: invalid image type specified!"),{type:"config error"};if(I=Y,C=q,R=Re,re=He||{},d){if(y&&(h.detachShader(d,y),h.deleteShader(y)),m&&(h.detachShader(d,m),h.deleteShader(m)),h.bindBuffer(h.ARRAY_BUFFER,null),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),d.texture&&h.deleteTexture(d.texture),d.nodeCache)for(var tt=0;tt<d.nodeCache.length;tt++)h.deleteTexture(d.nodeCache[tt].texture);h.deleteProgram(d),d=r}A=r;var Ke,Xt=!1,Pt;if(I=="cubemap")for(Ke=0;Ke<6;Ke++)C[Ke].width>0?(Pt===r&&(Pt=C[Ke].width),Pt!=C[Ke].width&&console.log("Cube faces have inconsistent widths: "+Pt+" vs. "+C[Ke].width)):Xt=!0;function vr(It){if(Xt){var Se=It*It*4,Je=new Uint8ClampedArray(Se),rt=He.backgroundColor?He.backgroundColor:[0,0,0];rt[0]*=255,rt[1]*=255,rt[2]*=255;for(var Xe=0;Xe<Se;Xe++)Je[Xe++]=rt[0],Je[Xe++]=rt[1],Je[Xe++]=rt[2];var ut=new ImageData(Je,It,It);for(Ke=0;Ke<6;Ke++)C[Ke].width==0&&(C[Ke]=ut)}}if(I=="cubemap"&&Pt&Pt-1&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(h||(h=f.getContext("experimental-webgl",{alpha:!1,depth:!1})),h&&h.getError()==1286&&qt()),!h&&(I=="multires"&&C.hasOwnProperty("fallbackPath")||I=="cubemap")&&("WebkitAppearance"in e.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.appVersion.indexOf("MSIE 10")!==-1)){b&&c.removeChild(b),b=e.createElement("div"),b.className="pnlm-world";var Ur;C.basePath?Ur=C.basePath+C.fallbackPath:Ur=C.fallbackPath;var Er=["f","r","b","l","u","d"],Yt=0,ht=function(){var Se=e.createElement("canvas");Se.className="pnlm-face pnlm-"+Er[this.side]+"face",b.appendChild(Se);var Je=Se.getContext("2d");Se.style.width=this.width+4+"px",Se.style.height=this.height+4+"px",Se.width=this.width+4,Se.height=this.height+4,Je.drawImage(this,2,2);var rt=Je.getImageData(0,0,Se.width,Se.height),Xe=rt.data,ut,Be;for(ut=2;ut<Se.width-2;ut++)for(Be=0;Be<4;Be++)Xe[(ut+Se.width)*4+Be]=Xe[(ut+Se.width*2)*4+Be],Xe[(ut+Se.width*(Se.height-2))*4+Be]=Xe[(ut+Se.width*(Se.height-3))*4+Be];for(ut=2;ut<Se.height-2;ut++)for(Be=0;Be<4;Be++)Xe[(ut*Se.width+1)*4+Be]=Xe[(ut*Se.width+2)*4+Be],Xe[((ut+1)*Se.width-2)*4+Be]=Xe[((ut+1)*Se.width-3)*4+Be];for(Be=0;Be<4;Be++)Xe[(Se.width+1)*4+Be]=Xe[(Se.width*2+2)*4+Be],Xe[(Se.width*2-2)*4+Be]=Xe[(Se.width*3-3)*4+Be],Xe[(Se.width*(Se.height-2)+1)*4+Be]=Xe[(Se.width*(Se.height-3)+2)*4+Be],Xe[(Se.width*(Se.height-1)-2)*4+Be]=Xe[(Se.width*(Se.height-2)-3)*4+Be];for(ut=1;ut<Se.width-1;ut++)for(Be=0;Be<4;Be++)Xe[ut*4+Be]=Xe[(ut+Se.width)*4+Be],Xe[(ut+Se.width*(Se.height-1))*4+Be]=Xe[(ut+Se.width*(Se.height-2))*4+Be];for(ut=1;ut<Se.height-1;ut++)for(Be=0;Be<4;Be++)Xe[ut*Se.width*4+Be]=Xe[(ut*Se.width+1)*4+Be],Xe[((ut+1)*Se.width-1)*4+Be]=Xe[((ut+1)*Se.width-2)*4+Be];for(Be=0;Be<4;Be++)Xe[Be]=Xe[(Se.width+1)*4+Be],Xe[(Se.width-1)*4+Be]=Xe[(Se.width*2-2)*4+Be],Xe[Se.width*(Se.height-1)*4+Be]=Xe[(Se.width*(Se.height-2)+1)*4+Be],Xe[(Se.width*Se.height-1)*4+Be]=Xe[(Se.width*(Se.height-1)-2)*4+Be];Je.putImageData(rt,0,0),Wt.call(this)},Wt=function(){this.width>0?(T===r&&(T=this.width),T!=this.width&&console.log("Fallback faces have inconsistent widths: "+T+" vs. "+this.width)):Xt=!0,Yt++,Yt==6&&(T=this.width,c.appendChild(b),we())};for(Xt=!1,Ke=0;Ke<6;Ke++){var $e=new Image;$e.crossOrigin=re.crossOrigin?re.crossOrigin:"anonymous",$e.side=Ke,$e.onload=ht,$e.onerror=Wt,I=="multires"?$e.src=encodeURI(Ur.replace("%s",Er[Ke])+"."+C.extension):$e.src=encodeURI(C[Ke].src)}vr(T);return}else if(!h)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};I=="cubemap"&&vr(Pt),C.basePath?C.fullpath=C.basePath+C.path:C.fullpath=C.path,C.invTileResolution=1/C.tileResolution;var $t=le();for(E=[],Ke=0;Ke<6;Ke++)E[Ke]=$t.slice(Ke*12,Ke*12+12),$t=le();var kt=0,Jt=0;if(I=="equirectangular"?(kt=Math.max(C.width,C.height),Jt=h.getParameter(h.MAX_TEXTURE_SIZE)):I=="cubemap"&&(kt=Pt,Jt=h.getParameter(h.MAX_CUBE_MAP_TEXTURE_SIZE)),kt>Jt)throw console.log("Error: The image is too big; it's "+kt+"px wide, but this device's maximum supported size is "+Jt+"px."),{type:"webgl size error",width:kt,maxWidth:Jt};He!==r&&(He.horizonPitch!==r||He.horizonRoll!==r)&&(A=[He.horizonPitch==r?0:He.horizonPitch,He.horizonRoll==r?0:He.horizonRoll]);var Rt=h.TEXTURE_2D;h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),y=h.createShader(h.VERTEX_SHADER);var Pr=n;I=="multires"&&(Pr=a),h.shaderSource(y,Pr),h.compileShader(y),m=h.createShader(h.FRAGMENT_SHADER);var Lt=l;I=="cubemap"?(Rt=h.TEXTURE_CUBE_MAP,Lt=o):I=="multires"&&(Lt=u),h.shaderSource(m,Lt),h.compileShader(m),d=h.createProgram(),h.attachShader(d,y),h.attachShader(d,m),h.linkProgram(d),h.getShaderParameter(y,h.COMPILE_STATUS)||console.log(h.getShaderInfoLog(y)),h.getShaderParameter(m,h.COMPILE_STATUS)||console.log(h.getShaderInfoLog(m)),h.getProgramParameter(d,h.LINK_STATUS)||console.log(h.getProgramInfoLog(d)),h.useProgram(d),d.drawInProgress=!1;var yt=He.backgroundColor?He.backgroundColor:[0,0,0];h.clearColor(yt[0],yt[1],yt[2],1),h.clear(h.COLOR_BUFFER_BIT),d.texCoordLocation=h.getAttribLocation(d,"a_texCoord"),h.enableVertexAttribArray(d.texCoordLocation),I!="multires"?(L||(L=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,L),h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),h.STATIC_DRAW),h.vertexAttribPointer(d.texCoordLocation,2,h.FLOAT,!1,0,0),d.aspectRatio=h.getUniformLocation(d,"u_aspectRatio"),h.uniform1f(d.aspectRatio,h.drawingBufferWidth/h.drawingBufferHeight),d.psi=h.getUniformLocation(d,"u_psi"),d.theta=h.getUniformLocation(d,"u_theta"),d.f=h.getUniformLocation(d,"u_f"),d.h=h.getUniformLocation(d,"u_h"),d.v=h.getUniformLocation(d,"u_v"),d.vo=h.getUniformLocation(d,"u_vo"),d.rot=h.getUniformLocation(d,"u_rot"),h.uniform1f(d.h,Ce/(Math.PI*2)),h.uniform1f(d.v,Oe/Math.PI),h.uniform1f(d.vo,te/Math.PI*2),I=="equirectangular"&&(d.backgroundColor=h.getUniformLocation(d,"u_backgroundColor"),h.uniform4fv(d.backgroundColor,yt.concat([1]))),d.texture=h.createTexture(),h.bindTexture(Rt,d.texture),I=="cubemap"?(h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[1]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_X,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[3]),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_Y,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[4]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[5]),h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_Z,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[0]),h.texImage2D(h.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C[2])):h.texImage2D(Rt,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C),h.texParameteri(Rt,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(Rt,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(Rt,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(Rt,h.TEXTURE_MAG_FILTER,h.LINEAR)):(d.vertPosLocation=h.getAttribLocation(d,"a_vertCoord"),h.enableVertexAttribArray(d.vertPosLocation),O||(O=h.createBuffer()),W||(W=h.createBuffer()),H||(H=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,W),h.bufferData(h.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,H),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),h.STATIC_DRAW),d.perspUniform=h.getUniformLocation(d,"u_perspMatrix"),d.cubeUniform=h.getUniformLocation(d,"u_cubeMatrix"),d.level=-1,d.currentNodes=[],d.nodeCache=[],d.nodeCacheTimestamp=0);var Ft=h.getError();if(Ft!==0)throw console.log("Error: Something went wrong with WebGL!",Ft),{type:"webgl error"};we()},this.destroy=function(){if(c!==r&&(f!==r&&c.contains(f)&&c.removeChild(f),b!==r&&c.contains(b)&&c.removeChild(b)),h){var q=h.getExtension("WEBGL_lose_context");q&&q.loseContext()}},this.resize=function(){var q=t.devicePixelRatio||1;f.width=f.clientWidth*q,f.height=f.clientHeight*q,h&&(h.getError()==1286&&qt(),h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),I!="multires"&&h.uniform1f(d.aspectRatio,f.clientWidth/f.clientHeight))},this.resize(),this.setPose=function(q,Y){A=[q,Y]},this.render=function(q,Y,Re,Ce){var Oe,te,we,He=0;if(Ce===r&&(Ce={}),Ce.roll&&(He=Ce.roll),A!==r){var tt=A[0],Ke=A[1],Xt=q,Pt=Y,vr=Math.cos(Ke)*Math.sin(q)*Math.sin(tt)+Math.cos(q)*(Math.cos(tt)*Math.cos(Y)+Math.sin(Ke)*Math.sin(tt)*Math.sin(Y)),Ur=-Math.sin(q)*Math.sin(Ke)+Math.cos(q)*Math.cos(Ke)*Math.sin(Y),Er=Math.cos(Ke)*Math.cos(tt)*Math.sin(q)+Math.cos(q)*(-Math.cos(Y)*Math.sin(tt)+Math.cos(tt)*Math.sin(Ke)*Math.sin(Y));q=Math.asin(Math.max(Math.min(Er,1),-1)),Y=Math.atan2(Ur,vr);var Yt=[Math.cos(Xt)*(Math.sin(Ke)*Math.sin(tt)*Math.cos(Pt)-Math.cos(tt)*Math.sin(Pt)),Math.cos(Xt)*Math.cos(Ke)*Math.cos(Pt),Math.cos(Xt)*(Math.cos(tt)*Math.sin(Ke)*Math.cos(Pt)+Math.sin(Pt)*Math.sin(tt))],ht=[-Math.cos(q)*Math.sin(Y),Math.cos(q)*Math.cos(Y)],Wt=Math.acos(Math.max(Math.min((Yt[0]*ht[0]+Yt[1]*ht[1])/(Math.sqrt(Yt[0]*Yt[0]+Yt[1]*Yt[1]+Yt[2]*Yt[2])*Math.sqrt(ht[0]*ht[0]+ht[1]*ht[1])),1),-1));Yt[2]<0&&(Wt=2*Math.PI-Wt),He+=Wt}if(!h&&(I=="multires"||I=="cubemap")){we=T/2;var $e={f:"translate3d(-"+(we+2)+"px, -"+(we+2)+"px, -"+we+"px)",b:"translate3d("+(we+2)+"px, -"+(we+2)+"px, "+we+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(we+2)+"px, -"+we+"px, "+(we+2)+"px) rotateX(270deg)",d:"translate3d(-"+(we+2)+"px, "+we+"px, -"+(we+2)+"px) rotateX(90deg)",l:"translate3d(-"+we+"px, -"+(we+2)+"px, "+(we+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+we+"px, -"+(we+2)+"px, -"+(we+2)+"px) rotateY(270deg)"};Oe=1/Math.tan(Re/2);var $t=Oe*f.clientWidth/2+"px",kt="perspective("+$t+") translateZ("+$t+") rotateX("+q+"rad) rotateY("+Y+"rad) ",Jt=Object.keys($e);for(te=0;te<6;te++){var Rt=b.querySelector(".pnlm-"+Jt[te]+"face");Rt&&(Rt.style.webkitTransform=kt+$e[Jt[te]],Rt.style.transform=kt+$e[Jt[te]])}return}if(I!="multires"){var Pr=2*Math.atan(Math.tan(Re*.5)/(h.drawingBufferWidth/h.drawingBufferHeight));Oe=1/Math.tan(Pr*.5),h.uniform1f(d.psi,Y),h.uniform1f(d.theta,q),h.uniform1f(d.rot,He),h.uniform1f(d.f,Oe),R===!0&&I=="equirectangular"&&(h.bindTexture(h.TEXTURE_2D,d.texture),h.texImage2D(h.TEXTURE_2D,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,C)),h.drawArrays(h.TRIANGLES,0,6)}else{var Lt=Ee(Re,h.drawingBufferWidth/h.drawingBufferHeight,.1,100);gt(Re);var yt=ee();yt=ce(yt,-He,"z"),yt=ce(yt,-q,"x"),yt=ce(yt,Y,"y"),yt=de(yt),h.uniformMatrix4fv(d.perspUniform,!1,new Float32Array(Ge(Lt))),h.uniformMatrix4fv(d.cubeUniform,!1,new Float32Array(Ge(yt)));var Ft=Ne(Lt,yt);if(d.nodeCache.sort(ne),d.nodeCache.length>200&&d.nodeCache.length>d.currentNodes.length+50)for(var It=d.nodeCache.splice(200,d.nodeCache.length-200),te=0;te<It.length;te++)h.deleteTexture(It[te].texture);d.currentNodes=[];var Se=["f","b","u","d","l","r"];for(we=0;we<6;we++){var Je=new ie(E[we],Se[we],1,0,0,C.fullpath);J(Ft,Je,q,Y)}for(d.currentNodes.sort(oe),te=Ue.length-1;te>=0;te--)d.currentNodes.indexOf(Ue[te].node)===-1&&(Ue[te].node.textureLoad=!1,Ue.splice(te,1));if(Ue.length===0)for(te=0;te<d.currentNodes.length;te++){var rt=d.currentNodes[te];if(!rt.texture&&!rt.textureLoad){rt.textureLoad=!0,setTimeout(he,0,rt);break}}_e()}if(Ce.returnImage!==r)return f.toDataURL("image/png")},this.isLoading=function(){if(h&&I=="multires"){for(var q=0;q<d.currentNodes.length;q++)if(!d.currentNodes[q].textureLoaded)return!0}return!1},this.getCanvas=function(){return f};function ne(q,Y){return q.level==1&&Y.level!=1?-1:Y.level==1&&q.level!=1?1:Y.timestamp-q.timestamp}function oe(q,Y){return q.level!=Y.level?q.level-Y.level:q.diff-Y.diff}function _e(){if(!d.drawInProgress){d.drawInProgress=!0,h.clear(h.COLOR_BUFFER_BIT);for(var q=0;q<d.currentNodes.length;q++)d.currentNodes[q].textureLoaded>1&&(h.bindBuffer(h.ARRAY_BUFFER,O),h.bufferData(h.ARRAY_BUFFER,new Float32Array(d.currentNodes[q].vertices),h.STATIC_DRAW),h.vertexAttribPointer(d.vertPosLocation,3,h.FLOAT,!1,0,0),h.bindBuffer(h.ARRAY_BUFFER,W),h.vertexAttribPointer(d.texCoordLocation,2,h.FLOAT,!1,0,0),h.bindTexture(h.TEXTURE_2D,d.currentNodes[q].texture),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0));d.drawInProgress=!1}}function ie(q,Y,Re,Ce,Oe,te){this.vertices=q,this.side=Y,this.level=Re,this.x=Ce,this.y=Oe,this.path=te.replace("%s",Y).replace("%l",Re).replace("%x",Ce).replace("%y",Oe)}function J(q,Y,Re,Ce,Oe){if(qn(q,Y.vertices)){var te=Y.vertices,we=te[0]+te[3]+te[6]+te[9],He=te[1]+te[4]+te[7]+te[10],tt=te[2]+te[5]+te[8]+te[11],Ke=Math.sqrt(we*we+He*He+tt*tt),Xt=Math.asin(tt/Ke),Pt=Math.atan2(He,we),vr=Pt-Ce;vr+=vr>Math.PI?-2*Math.PI:vr<-Math.PI?2*Math.PI:0,vr=Math.abs(vr),Y.diff=Math.acos(Math.sin(Re)*Math.sin(Xt)+Math.cos(Re)*Math.cos(Xt)*Math.cos(vr));for(var Ur=!1,Er=0;Er<d.nodeCache.length;Er++)if(d.nodeCache[Er].path==Y.path){Ur=!0,d.nodeCache[Er].timestamp=d.nodeCacheTimestamp++,d.nodeCache[Er].diff=Y.diff,d.currentNodes.push(d.nodeCache[Er]);break}if(Ur||(Y.timestamp=d.nodeCacheTimestamp++,d.currentNodes.push(Y),d.nodeCache.push(Y)),Y.level<d.level){var Yt=C.cubeResolution*Math.pow(2,Y.level-C.maxLevel),ht=Math.ceil(Yt*C.invTileResolution)-1,Wt=Yt%C.tileResolution*2,$e=Yt*2%C.tileResolution;$e===0&&($e=C.tileResolution),Wt===0&&(Wt=C.tileResolution*2);var $t=.5;(Y.x==ht||Y.y==ht)&&($t=1-C.tileResolution/(C.tileResolution+$e));var kt=1-$t,Jt=[],Rt,Pr,Lt=$t,yt=$t,Ft=$t,It=kt,Se=kt,Je=kt;$e<C.tileResolution&&(Y.x==ht&&Y.y!=ht?(yt=.5,Se=.5,(Y.side=="d"||Y.side=="u")&&(Ft=.5,Je=.5)):Y.x!=ht&&Y.y==ht&&(Lt=.5,It=.5,(Y.side=="l"||Y.side=="r")&&(Ft=.5,Je=.5))),Wt<=C.tileResolution&&(Y.x==ht&&(Lt=0,It=1,(Y.side=="l"||Y.side=="r")&&(Ft=0,Je=1)),Y.y==ht&&(yt=0,Se=1,(Y.side=="d"||Y.side=="u")&&(Ft=0,Je=1))),Rt=[te[0],te[1],te[2],te[0]*Lt+te[3]*It,te[1]*$t+te[4]*kt,te[2]*Ft+te[5]*Je,te[0]*Lt+te[6]*It,te[1]*yt+te[7]*Se,te[2]*Ft+te[8]*Je,te[0]*$t+te[9]*kt,te[1]*yt+te[10]*Se,te[2]*Ft+te[11]*Je],Pr=new ie(Rt,Y.side,Y.level+1,Y.x*2,Y.y*2,C.fullpath),Jt.push(Pr),Y.x==ht&&Wt<=C.tileResolution||(Rt=[te[0]*Lt+te[3]*It,te[1]*$t+te[4]*kt,te[2]*Ft+te[5]*Je,te[3],te[4],te[5],te[3]*$t+te[6]*kt,te[4]*yt+te[7]*Se,te[5]*Ft+te[8]*Je,te[0]*Lt+te[6]*It,te[1]*yt+te[7]*Se,te[2]*Ft+te[8]*Je],Pr=new ie(Rt,Y.side,Y.level+1,Y.x*2+1,Y.y*2,C.fullpath),Jt.push(Pr)),!(Y.x==ht&&Wt<=C.tileResolution)&&!(Y.y==ht&&Wt<=C.tileResolution)&&(Rt=[te[0]*Lt+te[6]*It,te[1]*yt+te[7]*Se,te[2]*Ft+te[8]*Je,te[3]*$t+te[6]*kt,te[4]*yt+te[7]*Se,te[5]*Ft+te[8]*Je,te[6],te[7],te[8],te[9]*Lt+te[6]*It,te[10]*$t+te[7]*kt,te[11]*Ft+te[8]*Je],Pr=new ie(Rt,Y.side,Y.level+1,Y.x*2+1,Y.y*2+1,C.fullpath),Jt.push(Pr)),Y.y==ht&&Wt<=C.tileResolution||(Rt=[te[0]*$t+te[9]*kt,te[1]*yt+te[10]*Se,te[2]*Ft+te[11]*Je,te[0]*Lt+te[6]*It,te[1]*yt+te[7]*Se,te[2]*Ft+te[8]*Je,te[9]*Lt+te[6]*It,te[10]*$t+te[7]*kt,te[11]*Ft+te[8]*Je,te[9],te[10],te[11]],Pr=new ie(Rt,Y.side,Y.level+1,Y.x*2,Y.y*2+1,C.fullpath),Jt.push(Pr));for(var rt=0;rt<Jt.length;rt++)J(q,Jt[rt],Re,Ce)}}}function le(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function ee(){return[1,0,0,0,1,0,0,0,1]}function ce(q,Y,Re){var Ce=Math.sin(Y),Oe=Math.cos(Y);if(Re=="x")return[q[0],Oe*q[1]+Ce*q[2],Oe*q[2]-Ce*q[1],q[3],Oe*q[4]+Ce*q[5],Oe*q[5]-Ce*q[4],q[6],Oe*q[7]+Ce*q[8],Oe*q[8]-Ce*q[7]];if(Re=="y")return[Oe*q[0]-Ce*q[2],q[1],Oe*q[2]+Ce*q[0],Oe*q[3]-Ce*q[5],q[4],Oe*q[5]+Ce*q[3],Oe*q[6]-Ce*q[8],q[7],Oe*q[8]+Ce*q[6]];if(Re=="z")return[Oe*q[0]+Ce*q[1],Oe*q[1]-Ce*q[0],q[2],Oe*q[3]+Ce*q[4],Oe*q[4]-Ce*q[3],q[5],Oe*q[6]+Ce*q[7],Oe*q[7]-Ce*q[6],q[8]]}function de(q){return[q[0],q[1],q[2],0,q[3],q[4],q[5],0,q[6],q[7],q[8],0,0,0,0,1]}function Ge(q){return[q[0],q[4],q[8],q[12],q[1],q[5],q[9],q[13],q[2],q[6],q[10],q[14],q[3],q[7],q[11],q[15]]}function Ee(q,Y,Re,Ce){var Oe=2*Math.atan(Math.tan(q/2)*h.drawingBufferHeight/h.drawingBufferWidth),te=1/Math.tan(Oe/2);return[te/Y,0,0,0,0,te,0,0,0,0,(Ce+Re)/(Re-Ce),2*Ce*Re/(Re-Ce),0,0,-1,0]}function Ze(q,Y){h.bindTexture(h.TEXTURE_2D,Y),h.texImage2D(h.TEXTURE_2D,0,h.RGB,h.RGB,h.UNSIGNED_BYTE,q),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.bindTexture(h.TEXTURE_2D,null)}var Ue=[],dt=function(){var q=4,Y={},Re;function Ce(){var He=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=Re||"anonymous";var tt=function(){He.image.width>0&&He.image.height>0?(Ze(He.image,He.texture),He.callback(He.texture,!0)):He.callback(He.texture,!1),te(He)};this.image.addEventListener("load",tt),this.image.addEventListener("error",tt)}Ce.prototype.loadTexture=function(He,tt,Ke){this.texture=tt,this.callback=Ke,this.image.src=He};function Oe(He,tt,Ke,Xt){this.node=He,this.src=tt,this.texture=Ke,this.callback=Xt}function te(He){if(Ue.length){var tt=Ue.shift();He.loadTexture(tt.src,tt.texture,tt.callback)}else Y[q++]=He}for(var we=0;we<q;we++)Y[we]=new Ce;return function(He,tt,Ke,Xt){Re=Xt;var Pt=h.createTexture();return q?Y[--q].loadTexture(tt,Pt,Ke):Ue.push(new Oe(He,tt,Pt,Ke)),Pt}}();function he(q){dt(q,encodeURI(q.path+"."+C.extension),function(Y,Re){q.texture=Y,q.textureLoaded=Re?2:1},re.crossOrigin)}function gt(q){for(var Y=1;Y<C.maxLevel&&h.drawingBufferWidth>C.tileResolution*Math.pow(2,Y-1)*Math.tan(q/2)*.707;)Y++;d.level=Y}function Ne(q,Y){return[q[0]*Y[0],q[0]*Y[1],q[0]*Y[2],0,q[5]*Y[4],q[5]*Y[5],q[5]*Y[6],0,q[10]*Y[8],q[10]*Y[9],q[10]*Y[10],q[11],-Y[8],-Y[9],-Y[10],0]}function Tt(q,Y){return[q[0]*Y[0]+q[1]*Y[1]+q[2]*Y[2],q[4]*Y[0]+q[5]*Y[1]+q[6]*Y[2],q[11]+q[8]*Y[0]+q[9]*Y[1]+q[10]*Y[2],1/(q[12]*Y[0]+q[13]*Y[1]+q[14]*Y[2])]}function gr(q,Y){var Re=Tt(q,Y),Ce=Re[0]*Re[3],Oe=Re[1]*Re[3],te=Re[2]*Re[3],we=[0,0,0];return Ce<-1&&(we[0]=-1),Ce>1&&(we[0]=1),Oe<-1&&(we[1]=-1),Oe>1&&(we[1]=1),(te<-1||te>1)&&(we[2]=1),we}function qn(q,Y){var Re=gr(q,Y.slice(0,3)),Ce=gr(q,Y.slice(3,6)),Oe=gr(q,Y.slice(6,9)),te=gr(q,Y.slice(9,12)),we=Re[0]+Ce[0]+Oe[0]+te[0];if(we==-4||we==4)return!1;var He=Re[1]+Ce[1]+Oe[1]+te[1];if(He==-4||He==4)return!1;var tt=Re[2]+Ce[2]+Oe[2]+te[2];return tt!=4}function qt(){console.log("Reducing canvas size due to error 1286!"),f.width=Math.round(f.width/2),f.height=Math.round(f.height/2)}}var n=["attribute vec2 a_texCoord;","varying vec2 v_texCoord;","void main() {","gl_Position = vec4(a_texCoord, 0.0, 1.0);","v_texCoord = a_texCoord;","}"].join(""),a=["attribute vec3 a_vertCoord;","attribute vec2 a_texCoord;","uniform mat4 u_cubeMatrix;","uniform mat4 u_perspMatrix;","varying mediump vec2 v_texCoord;","void main(void) {","gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);","v_texCoord = a_texCoord;","}"].join(""),s=["precision mediump float;","uniform float u_aspectRatio;","uniform float u_psi;","uniform float u_theta;","uniform float u_f;","uniform float u_h;","uniform float u_v;","uniform float u_vo;","uniform float u_rot;","const float PI = 3.14159265358979323846264;","uniform sampler2D u_image;","uniform samplerCube u_imageCube;","varying vec2 v_texCoord;","uniform vec4 u_backgroundColor;","void main() {","float x = v_texCoord.x * u_aspectRatio;","float y = v_texCoord.y;","float sinrot = sin(u_rot);","float cosrot = cos(u_rot);","float rot_x = x * cosrot - y * sinrot;","float rot_y = x * sinrot + y * cosrot;","float sintheta = sin(u_theta);","float costheta = cos(u_theta);","float a = u_f * costheta - rot_y * sintheta;","float root = sqrt(rot_x * rot_x + a * a);","float lambda = atan(rot_x / root, a / root) + u_psi;","float phi = atan((rot_y * costheta + u_f * sintheta) / root);"].join(`
`),o=s+["float cosphi = cos(phi);","gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));","}"].join(`
`),l=s+["lambda = mod(lambda + PI, PI * 2.0) - PI;","vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));","if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)","gl_FragColor = u_backgroundColor;","else","gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));","}"].join(`
`),u=["varying mediump vec2 v_texCoord;","uniform sampler2D u_sampler;","void main(void) {","gl_FragColor = texture2D(u_sampler, v_texCoord);","}"].join("");return{renderer:function(f,d,h,y){return new i(f)}}}(window,document);window.pannellum=function(t,e,r){function i(n,a){var s=this,o,l,u,c=!1,f=Date.now(),d=0,h=0,y=-1,m=0,T=0,b=new Array(10),E=!1,A,C=!1,I=!1,R,L,O={yaw:0,pitch:0,hfov:0},W=!1,H=!1,re=0,ne,oe=0,_e,ie,J={},le={},ee=[],ce=!1,de=!1,Ge={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:r,maxPitch:r,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:r,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:Se,draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189]};Ge.strings={loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."},n=typeof n=="string"?e.getElementById(n):n,n.classList.add("pnlm-container"),n.tabIndex=0;var Ee=e.createElement("div");Ee.className="pnlm-ui",n.appendChild(Ee);var Ze=e.createElement("div");Ze.className="pnlm-render-container",n.appendChild(Ze);var Ue=e.createElement("div");Ue.className="pnlm-dragfix",Ee.appendChild(Ue);var dt=e.createElement("span");dt.className="pnlm-about-msg",dt.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a>',Ee.appendChild(dt),Ue.addEventListener("contextmenu",we);var he={},gt=e.createElement("div");gt.className="pnlm-sprite pnlm-hot-spot-debug-indicator",Ee.appendChild(gt),he.container=e.createElement("div"),he.container.className="pnlm-panorama-info",he.title=e.createElement("div"),he.title.className="pnlm-title-box",he.container.appendChild(he.title),he.author=e.createElement("div"),he.author.className="pnlm-author-box",he.container.appendChild(he.author),Ee.appendChild(he.container),he.load={},he.load.box=e.createElement("div"),he.load.box.className="pnlm-load-box",he.load.boxp=e.createElement("p"),he.load.box.appendChild(he.load.boxp),he.load.lbox=e.createElement("div"),he.load.lbox.className="pnlm-lbox",he.load.lbox.innerHTML='<div class="pnlm-loading"></div>',he.load.box.appendChild(he.load.lbox),he.load.lbar=e.createElement("div"),he.load.lbar.className="pnlm-lbar",he.load.lbarFill=e.createElement("div"),he.load.lbarFill.className="pnlm-lbar-fill",he.load.lbar.appendChild(he.load.lbarFill),he.load.box.appendChild(he.load.lbar),he.load.msg=e.createElement("p"),he.load.msg.className="pnlm-lmsg",he.load.box.appendChild(he.load.msg),Ee.appendChild(he.load.box),he.errorMsg=e.createElement("div"),he.errorMsg.className="pnlm-error-msg pnlm-info-box",Ee.appendChild(he.errorMsg);var Ne={};Ne.container=e.createElement("div"),Ne.container.className="pnlm-controls-container",Ee.appendChild(Ne.container),Ne.load=e.createElement("div"),Ne.load.className="pnlm-load-button",Ne.load.addEventListener("click",function(){Ns(),xh()}),Ee.appendChild(Ne.load),Ne.zoom=e.createElement("div"),Ne.zoom.className="pnlm-zoom-controls pnlm-controls",Ne.zoomIn=e.createElement("div"),Ne.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Ne.zoomIn.addEventListener("click",Oa),Ne.zoom.appendChild(Ne.zoomIn),Ne.zoomOut=e.createElement("div"),Ne.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Ne.zoomOut.addEventListener("click",Mt),Ne.zoom.appendChild(Ne.zoomOut),Ne.container.appendChild(Ne.zoom),Ne.fullscreen=e.createElement("div"),Ne.fullscreen.addEventListener("click",Os),Ne.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled)&&Ne.container.appendChild(Ne.fullscreen),Ne.orientation=e.createElement("div"),Ne.orientation.addEventListener("click",function(D){H?Ra():Mo()}),Ne.orientation.addEventListener("mousedown",function(D){D.stopPropagation()}),Ne.orientation.addEventListener("touchstart",function(D){D.stopPropagation()}),Ne.orientation.addEventListener("pointerdown",function(D){D.stopPropagation()}),Ne.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Tt,gr=!1;function qn(D){t.removeEventListener("deviceorientation",qn),D&&D.alpha!==null&&D.beta!==null&&D.gamma!==null?(Ne.container.appendChild(Ne.orientation),Tt=!0,gr&&Mo()):Tt=!1}t.DeviceOrientationEvent?t.addEventListener("deviceorientation",qn):Tt=!1;var qt=e.createElement("div");qt.className="pnlm-compass pnlm-controls pnlm-control",Ee.appendChild(qt),a.firstScene?nu(a.firstScene):a.default&&a.default.firstScene?nu(a.default.firstScene):nu(null),Ns(!0);function q(){var D=e.createElement("div");if(D.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",D.getElementsByTagName("i").length==1){Oe();return}_e=o.hfov,ie=o.pitch;var M,K;if(o.type=="cubemap"){for(R=[],M=0;M<6;M++)R.push(new Image),R[M].crossOrigin=o.crossOrigin;he.load.lbox.style.display="block",he.load.lbar.style.display="none"}else if(o.type=="multires"){var ge=JSON.parse(JSON.stringify(o.multiRes));o.basePath&&o.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(o.multiRes.basePath)?ge.basePath=o.basePath+o.multiRes.basePath:o.multiRes.basePath?ge.basePath=o.multiRes.basePath:o.basePath&&(ge.basePath=o.basePath),R=ge}else if(o.dynamic===!0)R=o.panorama;else{if(o.panorama===r){Oe(o.strings.noPanoramaError);return}R=new Image}if(o.type=="cubemap"){var be=6,pe=function(){be--,be===0&&Re()},Ve=function(ot){var st=e.createElement("a");st.href=ot.target.src,st.textContent=st.href,Oe(o.strings.fileAccessError.replace("%s",st.outerHTML))};for(M=0;M<R.length;M++)K=o.cubeMap[M],K=="null"?(console.log("Will use background instead of missing cubemap face "+M),pe()):(o.basePath&&!Y(K)&&(K=o.basePath+K),R[M].onload=pe,R[M].onerror=Ve,R[M].src=ra(K))}else if(o.type=="multires")Re();else if(K="",o.basePath&&(K=o.basePath),o.dynamic!==!0){K=Y(o.panorama)?o.panorama:K+o.panorama,R.onload=function(){t.URL.revokeObjectURL(this.src),Re()};var Fe=new XMLHttpRequest;Fe.onloadend=function(){if(Fe.status!=200){var qe=e.createElement("a");qe.href=K,qe.textContent=qe.href,Oe(o.strings.fileAccessError.replace("%s",qe.outerHTML))}var ot=this.response;Ce(ot),he.load.msg.innerHTML=""},Fe.onprogress=function(qe){if(qe.lengthComputable){var ot=qe.loaded/qe.total*100;he.load.lbarFill.style.width=ot+"%";var st,yr,At;qe.total>1e6?(st="MB",yr=(qe.loaded/1e6).toFixed(2),At=(qe.total/1e6).toFixed(2)):qe.total>1e3?(st="kB",yr=(qe.loaded/1e3).toFixed(1),At=(qe.total/1e3).toFixed(1)):(st="B",yr=qe.loaded,At=qe.total),he.load.msg.innerHTML=yr+" / "+At+" "+st}else he.load.lbox.style.display="block",he.load.lbar.style.display="none"};try{Fe.open("GET",K,!0)}catch{Oe(o.strings.malformedURLError)}Fe.responseType="blob",Fe.setRequestHeader("Accept","image/*,*/*;q=0.9"),Fe.withCredentials=o.crossOrigin==="use-credentials",Fe.send()}o.draggable&&Ee.classList.add("pnlm-grab"),Ee.classList.remove("pnlm-grabbing")}function Y(D){return new RegExp("^(?:[a-z]+:)?//","i").test(D)||D[0]=="/"||D.slice(0,5)=="blob:"}function Re(){l||(l=new libpannellum.renderer(Ze)),I||(I=!0,Ue.addEventListener("mousedown",tt,!1),e.addEventListener("mousemove",Pt,!1),e.addEventListener("mouseup",vr,!1),o.mouseZoom&&(Ee.addEventListener("mousewheel",Jt,!1),Ee.addEventListener("DOMMouseScroll",Jt,!1)),o.doubleClickZoom&&Ue.addEventListener("dblclick",Ke,!1),Ee.addEventListener("mozfullscreenchange",Di,!1),Ee.addEventListener("webkitfullscreenchange",Di,!1),Ee.addEventListener("msfullscreenchange",Di,!1),Ee.addEventListener("fullscreenchange",Di,!1),t.addEventListener("resize",Je,!1),t.addEventListener("orientationchange",Je,!1),o.disableKeyboardCtrl||(n.addEventListener("keydown",Rt,!1),n.addEventListener("keyup",Lt,!1),n.addEventListener("blur",Pr,!1)),e.addEventListener("mouseleave",vr,!1),e.documentElement.style.pointerAction===""&&e.documentElement.style.touchAction===""?(Ue.addEventListener("pointerdown",$e,!1),Ue.addEventListener("pointermove",$t,!1),Ue.addEventListener("pointerup",kt,!1),Ue.addEventListener("pointerleave",kt,!1)):(Ue.addEventListener("touchstart",Ur,!1),Ue.addEventListener("touchmove",Er,!1),Ue.addEventListener("touchend",Yt,!1)),t.navigator.pointerEnabled&&(n.style.touchAction="none")),on(),bt(o.hfov),setTimeout(function(){},500)}function Ce(D){var M=new FileReader;M.addEventListener("loadend",function(){var K=M.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var ge=K.indexOf("ÿÂ");(ge<0||ge>65536)&&Oe(o.strings.iOS8WebGLError)}var be=K.indexOf("<x:xmpmeta");if(be>-1&&o.ignoreGPanoXMP!==!0){var pe=K.substring(be,K.indexOf("</x:xmpmeta>")+12),Ve=function(ot){var st;return pe.indexOf(ot+'="')>=0?(st=pe.substring(pe.indexOf(ot+'="')+ot.length+2),st=st.substring(0,st.indexOf('"'))):pe.indexOf(ot+">")>=0&&(st=pe.substring(pe.indexOf(ot+">")+ot.length+1),st=st.substring(0,st.indexOf("<"))),st!==r?Number(st):null},Fe={fullWidth:Ve("GPano:FullPanoWidthPixels"),croppedWidth:Ve("GPano:CroppedAreaImageWidthPixels"),fullHeight:Ve("GPano:FullPanoHeightPixels"),croppedHeight:Ve("GPano:CroppedAreaImageHeightPixels"),topPixels:Ve("GPano:CroppedAreaTopPixels"),heading:Ve("GPano:PoseHeadingDegrees"),horizonPitch:Ve("GPano:PosePitchDegrees"),horizonRoll:Ve("GPano:PoseRollDegrees")};Fe.fullWidth!==null&&Fe.croppedWidth!==null&&Fe.fullHeight!==null&&Fe.croppedHeight!==null&&Fe.topPixels!==null&&(ee.indexOf("haov")<0&&(o.haov=Fe.croppedWidth/Fe.fullWidth*360),ee.indexOf("vaov")<0&&(o.vaov=Fe.croppedHeight/Fe.fullHeight*180),ee.indexOf("vOffset")<0&&(o.vOffset=((Fe.topPixels+Fe.croppedHeight/2)/Fe.fullHeight-.5)*-180),Fe.heading!==null&&ee.indexOf("northOffset")<0&&(o.northOffset=Fe.heading,o.compass!==!1&&(o.compass=!0)),Fe.horizonPitch!==null&&Fe.horizonRoll!==null&&(ee.indexOf("horizonPitch")<0&&(o.horizonPitch=Fe.horizonPitch),ee.indexOf("horizonRoll")<0&&(o.horizonRoll=Fe.horizonRoll)))}R.src=t.URL.createObjectURL(D)}),M.readAsBinaryString!==r?M.readAsBinaryString(D):M.readAsText(D)}function Oe(D){D===r&&(D=o.strings.genericWebGLError),he.errorMsg.innerHTML="<p>"+D+"</p>",Ne.load.style.display="none",he.load.box.style.display="none",he.errorMsg.style.display="table",C=!0,Ze.style.display="none",Ii("error",D)}function te(){C&&(he.load.box.style.display="none",he.errorMsg.style.display="none",C=!1,Ii("errorcleared"))}function we(D){var M=He(D);dt.style.left=M.x+"px",dt.style.top=M.y+"px",clearTimeout(we.t1),clearTimeout(we.t2),dt.style.display="block",dt.style.opacity=1,we.t1=setTimeout(function(){dt.style.opacity=0},2e3),we.t2=setTimeout(function(){dt.style.display="none"},2500),D.preventDefault()}function He(D){var M=n.getBoundingClientRect(),K={};return K.x=D.clientX-M.left,K.y=D.clientY-M.top,K}function tt(D){if(D.preventDefault(),n.focus(),!(!A||!o.draggable)){var M=He(D);if(o.hotSpotDebug){var K=Xt(D);console.log("Pitch: "+K[0]+", Yaw: "+K[1]+", Center Pitch: "+o.pitch+", Center Yaw: "+o.yaw+", HFOV: "+o.hfov)}iu(),Ra(),o.roll=0,O.hfov=0,c=!0,f=Date.now(),d=M.x,h=M.y,m=o.yaw,T=o.pitch,Ee.classList.add("pnlm-grabbing"),Ee.classList.remove("pnlm-grab"),Ii("mousedown",D),rt()}}function Ke(D){if(o.minHfov===o.hfov)s.setHfov(_e,1e3);else{var M=Xt(D);s.lookAt(M[0],M[1],o.minHfov,1e3)}}function Xt(D){var M=He(D),K=l.getCanvas(),ge=K.clientWidth,be=K.clientHeight,pe=M.x/ge*2-1,Ve=(1-M.y/be*2)*be/ge,Fe=1/Math.tan(o.hfov*Math.PI/360),qe=Math.sin(o.pitch*Math.PI/180),ot=Math.cos(o.pitch*Math.PI/180),st=Fe*ot-Ve*qe,yr=Math.sqrt(pe*pe+st*st),At=Math.atan((Ve*ot+Fe*qe)/yr)*180/Math.PI,na=Math.atan2(pe/yr,st/yr)*180/Math.PI+o.yaw;return na<-180&&(na+=360),na>180&&(na-=360),[At,na]}function Pt(D){if(c&&A){f=Date.now();var M=l.getCanvas(),K=M.clientWidth,ge=M.clientHeight,be=He(D),pe=(Math.atan(d/K*2-1)-Math.atan(be.x/K*2-1))*180/Math.PI*o.hfov/90+m;O.yaw=(pe-o.yaw)%360*.2,o.yaw=pe;var Ve=2*Math.atan(Math.tan(o.hfov/360*Math.PI)*ge/K)*180/Math.PI,Fe=(Math.atan(be.y/ge*2-1)-Math.atan(h/ge*2-1))*180/Math.PI*Ve/90+T;O.pitch=(Fe-o.pitch)*.2,o.pitch=Fe}}function vr(D){c&&(c=!1,Date.now()-f>15&&(O.pitch=O.yaw=0),Ee.classList.add("pnlm-grab"),Ee.classList.remove("pnlm-grabbing"),f=Date.now(),Ii("mouseup",D))}function Ur(D){if(!(!A||!o.draggable)){iu(),Ra(),o.roll=0,O.hfov=0;var M=He(D.targetTouches[0]);if(d=M.x,h=M.y,D.targetTouches.length==2){var K=He(D.targetTouches[1]);d+=(K.x-M.x)*.5,h+=(K.y-M.y)*.5,y=Math.sqrt((M.x-K.x)*(M.x-K.x)+(M.y-K.y)*(M.y-K.y))}c=!0,f=Date.now(),m=o.yaw,T=o.pitch,Ii("touchstart",D),rt()}}function Er(D){if(o.draggable&&(D.preventDefault(),A&&(f=Date.now()),c&&A)){var M=He(D.targetTouches[0]),K=M.x,ge=M.y;if(D.targetTouches.length==2&&y!=-1){var be=He(D.targetTouches[1]);K+=(be.x-M.x)*.5,ge+=(be.y-M.y)*.5;var pe=Math.sqrt((M.x-be.x)*(M.x-be.x)+(M.y-be.y)*(M.y-be.y));bt(o.hfov+(y-pe)*.1),y=pe}var Ve=o.hfov/360*o.touchPanSpeedCoeffFactor,Fe=(d-K)*Ve+m;O.yaw=(Fe-o.yaw)%360*.2,o.yaw=Fe;var qe=(ge-h)*Ve+T;O.pitch=(qe-o.pitch)*.2,o.pitch=qe}}function Yt(){c=!1,Date.now()-f>150&&(O.pitch=O.yaw=0),y=-1,f=Date.now(),Ii("touchend",event)}var ht=[],Wt=[];function $e(D){D.pointerType=="touch"&&(ht.push(D.pointerId),Wt.push({clientX:D.clientX,clientY:D.clientY}),D.targetTouches=Wt,Ur(D),D.preventDefault())}function $t(D){if(D.pointerType=="touch"){for(var M=0;M<ht.length;M++)if(D.pointerId==ht[M]){Wt[M].clientX=D.clientX,Wt[M].clientY=D.clientY,D.targetTouches=Wt,Er(D),D.preventDefault();return}}}function kt(D){if(D.pointerType=="touch"){for(var M=!1,K=0;K<ht.length;K++)D.pointerId==ht[K]&&(ht[K]=r),ht[K]&&(M=!0);M||(ht=[],Wt=[],Yt()),D.preventDefault()}}function Jt(D){!A||o.mouseZoom=="fullscreenonly"&&!E||(D.preventDefault(),iu(),f=Date.now(),D.wheelDeltaY?(bt(o.hfov-D.wheelDeltaY*.05),O.hfov=D.wheelDelta<0?1:-1):D.wheelDelta?(bt(o.hfov-D.wheelDelta*.05),O.hfov=D.wheelDelta<0?1:-1):D.detail&&(bt(o.hfov+D.detail*1.5),O.hfov=D.detail>0?1:-1),rt())}function Rt(D){iu(),f=Date.now(),Ra(),o.roll=0;var M=D.which||D.keycode;o.capturedKeyNumbers.indexOf(M)<0||(D.preventDefault(),M==27?E&&Os():yt(M,!0))}function Pr(){for(var D=0;D<10;D++)b[D]=!1}function Lt(D){var M=D.which||D.keycode;o.capturedKeyNumbers.indexOf(M)<0||(D.preventDefault(),yt(M,!1))}function yt(D,M){var K=!1;switch(D){case 109:case 189:case 17:case 173:b[0]!=M&&(K=!0),b[0]=M;break;case 107:case 187:case 16:case 61:b[1]!=M&&(K=!0),b[1]=M;break;case 38:b[2]!=M&&(K=!0),b[2]=M;break;case 87:b[6]!=M&&(K=!0),b[6]=M;break;case 40:b[3]!=M&&(K=!0),b[3]=M;break;case 83:b[7]!=M&&(K=!0),b[7]=M;break;case 37:b[4]!=M&&(K=!0),b[4]=M;break;case 65:b[8]!=M&&(K=!0),b[8]=M;break;case 39:b[5]!=M&&(K=!0),b[5]=M;break;case 68:b[9]!=M&&(K=!0),b[9]=M}K&&M&&(typeof performance<"u"&&performance.now()?L=performance.now():L=Date.now(),rt())}function Ft(){if(A){var D=!1,M=o.pitch,K=o.yaw,ge=o.hfov,be;typeof performance<"u"&&performance.now()?be=performance.now():be=Date.now(),L===r&&(L=be);var pe=(be-L)*o.hfov/1700;if(pe=Math.min(pe,1),b[0]&&o.keyboardZoom===!0&&(bt(o.hfov+(O.hfov*.8+.5)*pe),D=!0),b[1]&&o.keyboardZoom===!0&&(bt(o.hfov+(O.hfov*.8-.2)*pe),D=!0),(b[2]||b[6])&&(o.pitch+=(O.pitch*.8+.2)*pe,D=!0),(b[3]||b[7])&&(o.pitch+=(O.pitch*.8-.2)*pe,D=!0),(b[4]||b[8])&&(o.yaw+=(O.yaw*.8-.2)*pe,D=!0),(b[5]||b[9])&&(o.yaw+=(O.yaw*.8+.2)*pe,D=!0),D&&(f=Date.now()),o.autoRotate){if(be-L>.001){var Ve=(be-L)/1e3,Fe=(O.yaw/Ve*pe-o.autoRotate*.2)*Ve;Fe=(-o.autoRotate>0?1:-1)*Math.min(Math.abs(o.autoRotate*Ve),Math.abs(Fe)),o.yaw+=Fe}o.autoRotateStopDelay&&(o.autoRotateStopDelay-=be-L,o.autoRotateStopDelay<=0&&(o.autoRotateStopDelay=!1,oe=o.autoRotate,o.autoRotate=0))}if(J.pitch&&(It("pitch"),M=o.pitch),J.yaw&&(It("yaw"),K=o.yaw),J.hfov&&(It("hfov"),ge=o.hfov),pe>0&&!o.autoRotate){var qe=.85;!b[4]&&!b[5]&&!b[8]&&!b[9]&&!J.yaw&&(o.yaw+=O.yaw*pe*qe),!b[2]&&!b[3]&&!b[6]&&!b[7]&&!J.pitch&&(o.pitch+=O.pitch*pe*qe),!b[0]&&!b[1]&&!J.hfov&&bt(o.hfov+O.hfov*pe*qe)}if(L=be,pe>0){O.yaw=O.yaw*.8+(o.yaw-K)/pe*.2,O.pitch=O.pitch*.8+(o.pitch-M)/pe*.2,O.hfov=O.hfov*.8+(o.hfov-ge)/pe*.2;var ot=o.autoRotate?Math.abs(o.autoRotate):5;O.yaw=Math.min(ot,Math.max(O.yaw,-ot)),O.pitch=Math.min(ot,Math.max(O.pitch,-ot)),O.hfov=Math.min(ot,Math.max(O.hfov,-ot))}b[0]&&b[1]&&(O.hfov=0),(b[2]||b[6])&&(b[3]||b[7])&&(O.pitch=0),(b[4]||b[8])&&(b[5]||b[9])&&(O.yaw=0)}}function It(D){var M=J[D],K=Math.min(1,Math.max((Date.now()-M.startTime)/1e3/(M.duration/1e3),0)),ge=M.startPosition+o.animationTimingFunction(K)*(M.endPosition-M.startPosition);if(M.endPosition>M.startPosition&&ge>=M.endPosition||M.endPosition<M.startPosition&&ge<=M.endPosition||M.endPosition===M.startPosition){ge=M.endPosition,O[D]=0;var be=J[D].callback,pe=J[D].callbackArgs;delete J[D],typeof be=="function"&&be(pe)}o[D]=ge}function Se(D){return D<.5?2*D*D:-1+(4-2*D)*D}function Je(){Di()}function rt(){W||(W=!0,Xe())}function Xe(){if(ut(),ne&&clearTimeout(ne),c||H===!0)requestAnimationFrame(Xe);else if(b[0]||b[1]||b[2]||b[3]||b[4]||b[5]||b[6]||b[7]||b[8]||b[9]||o.autoRotate||J.pitch||J.yaw||J.hfov||Math.abs(O.yaw)>.01||Math.abs(O.pitch)>.01||Math.abs(O.hfov)>.01)Ft(),o.autoRotateInactivityDelay>=0&&oe&&Date.now()-f>o.autoRotateInactivityDelay&&!o.autoRotate&&(o.autoRotate=oe,s.lookAt(ie,r,_e,3e3)),requestAnimationFrame(Xe);else if(l&&(l.isLoading()||o.dynamic===!0&&ce))requestAnimationFrame(Xe);else{W=!1,L=r;var D=o.autoRotateInactivityDelay-(Date.now()-f);D>0?ne=setTimeout(function(){o.autoRotate=oe,s.lookAt(ie,r,_e,3e3),rt()},D):o.autoRotateInactivityDelay>=0&&oe&&(o.autoRotate=oe,s.lookAt(ie,r,_e,3e3),rt())}}function ut(){var D;if(A){o.yaw>180?o.yaw-=360:o.yaw<-180&&(o.yaw+=360),D=o.yaw;var M=0;if(o.avoidShowingBackground){var qe=l.getCanvas(),K=o.hfov/2,ge=Math.atan2(Math.tan(K/180*Math.PI),qe.width/qe.height)*180/Math.PI,be=o.vaov>o.haov;be?ge*(1-Math.min(Math.cos((o.pitch-K)/180*Math.PI),Math.cos((o.pitch+K)/180*Math.PI))):M=K*(1-Math.min(Math.cos((o.pitch-ge)/180*Math.PI),Math.cos((o.pitch+ge)/180*Math.PI)))}var pe=o.maxYaw-o.minYaw,Ve=-180,Fe=180;pe<360&&(Ve=o.minYaw+o.hfov/2+M,Fe=o.maxYaw-o.hfov/2-M,pe<o.hfov&&(Ve=Fe=(Ve+Fe)/2),o.yaw=Math.max(Ve,Math.min(Fe,o.yaw))),o.autoRotate!==!1&&D!=o.yaw&&L!==r&&(o.autoRotate*=-1);var qe=l.getCanvas(),ot=2*Math.atan(Math.tan(o.hfov/180*Math.PI*.5)/(qe.width/qe.height))/Math.PI*180,st=o.minPitch+ot/2,yr=o.maxPitch-ot/2,At=o.maxPitch-o.minPitch;At<ot&&(st=yr=(st+yr)/2),isNaN(st)&&(st=-90),isNaN(yr)&&(yr=90),o.pitch=Math.max(st,Math.min(yr,o.pitch)),l.render(o.pitch*Math.PI/180,o.yaw*Math.PI/180,o.hfov*Math.PI/180,{roll:o.roll*Math.PI/180}),wt(),o.compass&&(qt.style.transform="rotate("+(-o.yaw-o.northOffset)+"deg)",qt.style.webkitTransform="rotate("+(-o.yaw-o.northOffset)+"deg)"),o.onRender&&o.onRender()}}function Be(D,M,K,ge){this.w=D,this.x=M,this.y=K,this.z=ge}Be.prototype.multiply=function(D){return new Be(this.w*D.w-this.x*D.x-this.y*D.y-this.z*D.z,this.x*D.w+this.w*D.x+this.y*D.z-this.z*D.y,this.y*D.w+this.w*D.y+this.z*D.x-this.x*D.z,this.z*D.w+this.w*D.z+this.x*D.y-this.y*D.x)},Be.prototype.toEulerAngles=function(){var D=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),M=Math.asin(2*(this.w*this.y-this.z*this.x)),K=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[D,M,K]};function T1(D,M,K){var ge=[M?M*Math.PI/180/2:0,K?K*Math.PI/180/2:0,D?D*Math.PI/180/2:0],be=[Math.cos(ge[0]),Math.cos(ge[1]),Math.cos(ge[2])],pe=[Math.sin(ge[0]),Math.sin(ge[1]),Math.sin(ge[2])];return new Be(be[0]*be[1]*be[2]-pe[0]*pe[1]*pe[2],pe[0]*be[1]*be[2]-be[0]*pe[1]*pe[2],be[0]*pe[1]*be[2]+pe[0]*be[1]*pe[2],be[0]*be[1]*pe[2]+pe[0]*pe[1]*be[2])}function w1(D,M,K){var ge=T1(D,M,K);ge=ge.multiply(new Be(Math.sqrt(.5),-Math.sqrt(.5),0,0));var be=t.orientation?-t.orientation*Math.PI/180/2:0;return ge.multiply(new Be(Math.cos(be),0,-Math.sin(be),0))}function Is(D){var M=w1(D.alpha,D.beta,D.gamma).toEulerAngles();typeof H=="number"&&H<10?H+=1:H===10?(re=M[2]/Math.PI*180+o.yaw,H=!0,requestAnimationFrame(Xe)):(o.pitch=M[0]/Math.PI*180,o.roll=-M[1]/Math.PI*180,o.yaw=-M[2]/Math.PI*180+re)}function on(){try{var D={};o.horizonPitch!==r&&(D.horizonPitch=o.horizonPitch*Math.PI/180),o.horizonRoll!==r&&(D.horizonRoll=o.horizonRoll*Math.PI/180),o.backgroundColor!==r&&(D.backgroundColor=o.backgroundColor),l.init(R,o.type,o.dynamic,o.haov*Math.PI/180,o.vaov*Math.PI/180,o.vOffset*Math.PI/180,_1,D),o.dynamic!==!0&&(R=r)}catch(M){if(M.type=="webgl error"||M.type=="no webgl")Oe();else if(M.type=="webgl size error")Oe(o.strings.textureSizeError.replace("%s",M.width).replace("%s",M.maxWidth));else throw Oe(o.strings.unknownError),M}}function _1(){if(o.sceneFadeDuration&&l.fadeImg!==r){l.fadeImg.style.opacity=0;var D=l.fadeImg;delete l.fadeImg,setTimeout(function(){Ze.removeChild(D),Ii("scenechangefadedone")},o.sceneFadeDuration)}o.compass?qt.style.display="inline":qt.style.display="none",ru(),he.load.box.style.display="none",u!==r&&(Ze.removeChild(u),u=r),A=!0,Ii("load"),rt()}function bh(D){D.pitch=Number(D.pitch)||0,D.yaw=Number(D.yaw)||0;var M=e.createElement("div");M.className="pnlm-hotspot-base",D.cssClass?M.className+=" "+D.cssClass:M.className+=" pnlm-hotspot pnlm-sprite pnlm-"+ta(D.type);var K=e.createElement("span");D.text&&(K.innerHTML=ta(D.text));var ge;if(D.video){var be=e.createElement("video"),pe=D.video;o.basePath&&!Y(pe)&&(pe=o.basePath+pe),be.src=ra(pe),be.controls=!0,be.style.width=D.width+"px",Ze.appendChild(M),K.appendChild(be)}else if(D.image){var pe=D.image;o.basePath&&!Y(pe)&&(pe=o.basePath+pe),ge=e.createElement("a"),ge.href=ra(D.URL?D.URL:pe),ge.target="_blank",K.appendChild(ge);var Ve=e.createElement("img");Ve.src=ra(pe),Ve.style.width=D.width+"px",Ve.style.paddingTop="5px",Ze.appendChild(M),ge.appendChild(Ve),K.style.maxWidth="initial"}else D.URL?(ge=e.createElement("a"),ge.href=ra(D.URL),ge.target="_blank",Ze.appendChild(ge),M.className+=" pnlm-pointer",K.className+=" pnlm-pointer",ge.appendChild(M)):(D.sceneId&&(M.onclick=M.ontouchend=function(){return M.clicked||(M.clicked=!0,au(D.sceneId,D.targetPitch,D.targetYaw,D.targetHfov)),!1},M.className+=" pnlm-pointer",K.className+=" pnlm-pointer"),Ze.appendChild(M));D.createTooltipFunc?D.createTooltipFunc(M,D.createTooltipArgs):(D.text||D.video||D.image)&&(M.classList.add("pnlm-tooltip"),M.appendChild(K),K.style.width=K.scrollWidth-20+"px",K.style.marginLeft=-(K.scrollWidth-M.offsetWidth)/2+"px",K.style.marginTop=-K.scrollHeight-12+"px"),D.clickHandlerFunc&&(M.addEventListener("click",function(Fe){D.clickHandlerFunc(Fe,D.clickHandlerArgs)},"false"),M.className+=" pnlm-pointer",K.className+=" pnlm-pointer"),D.div=M}function ru(){de||(o.hotSpots?(o.hotSpots=o.hotSpots.sort(function(D,M){return D.pitch<M.pitch}),o.hotSpots.forEach(bh)):o.hotSpots=[],de=!0,wt())}function ki(){var D=o.hotSpots;if(de=!1,delete o.hotSpots,D)for(var M=0;M<D.length;M++){for(var K=D[M].div;K.parentNode!=Ze;)K=K.parentNode;Ze.removeChild(K),delete D[M].div}}function Lo(D){var M=Math.sin(D.pitch*Math.PI/180),K=Math.cos(D.pitch*Math.PI/180),ge=Math.sin(o.pitch*Math.PI/180),be=Math.cos(o.pitch*Math.PI/180),pe=Math.cos((-D.yaw+o.yaw)*Math.PI/180),Ve=M*ge+K*pe*be;if(D.yaw<=90&&D.yaw>-90&&Ve<=0||(D.yaw>90||D.yaw<=-90)&&Ve<=0)D.div.style.visibility="hidden";else{var Fe=Math.sin((-D.yaw+o.yaw)*Math.PI/180),qe=Math.tan(o.hfov*Math.PI/360);D.div.style.visibility="visible";var ot=l.getCanvas(),st=ot.clientWidth,yr=ot.clientHeight,At=[-st/qe*Fe*K/Ve/2,-st/qe*(M*be-K*pe*ge)/Ve/2],na=Math.sin(o.roll*Math.PI/180),Bo=Math.cos(o.roll*Math.PI/180);At=[At[0]*Bo-At[1]*na,At[0]*na+At[1]*Bo],At[0]+=(st-D.div.offsetWidth)/2,At[1]+=(yr-D.div.offsetHeight)/2;var ou="translate("+At[0]+"px, "+At[1]+"px) translateZ(9999px) rotate("+o.roll+"deg)";D.div.style.webkitTransform=ou,D.div.style.MozTransform=ou,D.div.style.transform=ou}}function wt(){o.hotSpots.forEach(Lo)}function nu(D){o={};var M,K,ge=["haov","vaov","vOffset","northOffset","horizonPitch","horizonRoll"];ee=[];for(M in Ge)Ge.hasOwnProperty(M)&&(o[M]=Ge[M]);for(M in a.default)if(a.default.hasOwnProperty(M))if(M=="strings")for(K in a.default.strings)a.default.strings.hasOwnProperty(K)&&(o.strings[K]=ta(a.default.strings[K]));else o[M]=a.default[M],ge.indexOf(M)>=0&&ee.push(M);if(D!==null&&D!==""&&a.scenes&&a.scenes[D]){var be=a.scenes[D];for(M in be)if(be.hasOwnProperty(M))if(M=="strings")for(K in be.strings)be.strings.hasOwnProperty(K)&&(o.strings[K]=ta(be.strings[K]));else o[M]=be[M],ge.indexOf(M)>=0&&ee.push(M);o.scene=D}for(M in a)if(a.hasOwnProperty(M))if(M=="strings")for(K in a.strings)a.strings.hasOwnProperty(K)&&(o.strings[K]=ta(a.strings[K]));else o[M]=a[M],ge.indexOf(M)>=0&&ee.push(M)}function Ns(D){if(D=D||!1,D&&"preview"in o){var M=o.preview;o.basePath&&!Y(M)&&(M=o.basePath+M),u=e.createElement("div"),u.className="pnlm-preview-img",u.style.backgroundImage="url('"+su(M)+"')",Ze.appendChild(u)}var K=o.title,ge=o.author;D&&("previewTitle"in o&&(o.title=o.previewTitle),"previewAuthor"in o&&(o.author=o.previewAuthor)),o.hasOwnProperty("title")||(he.title.innerHTML=""),o.hasOwnProperty("author")||(he.author.innerHTML=""),!o.hasOwnProperty("title")&&!o.hasOwnProperty("author")&&(he.container.style.display="none"),Ne.load.innerHTML="<p>"+o.strings.loadButtonLabel+"</p>",he.load.boxp.innerHTML=o.strings.loadingLabel;for(var be in o)if(o.hasOwnProperty(be))switch(be){case"title":he.title.innerHTML=ta(o[be]),he.container.style.display="inline";break;case"author":he.author.innerHTML=o.strings.bylineLabel.replace("%s",ta(o[be])),he.container.style.display="inline";break;case"fallback":var pe=e.createElement("a");pe.href=ra(o[be]),pe.target="_blank",pe.textContent="Click here to view this panorama in an alternative viewer.";var Ve=e.createElement("p");Ve.textContent="Your browser does not support WebGL.",Ve.appendChild(e.createElement("br")),Ve.appendChild(pe),he.errorMsg.innerHTML="",he.errorMsg.appendChild(Ve);break;case"hfov":bt(Number(o[be]));break;case"autoLoad":o[be]===!0&&l===r&&(he.load.box.style.display="inline",Ne.load.style.display="none",q());break;case"showZoomCtrl":o[be]&&o.showControls!=!1?Ne.zoom.style.display="block":Ne.zoom.style.display="none";break;case"showFullscreenCtrl":o[be]&&o.showControls!=!1&&("fullscreen"in e||"mozFullScreen"in e||"webkitIsFullScreen"in e||"msFullscreenElement"in e)?Ne.fullscreen.style.display="block":Ne.fullscreen.style.display="none";break;case"hotSpotDebug":o[be]?gt.style.display="block":gt.style.display="none";break;case"showControls":o[be]||(Ne.orientation.style.display="none",Ne.zoom.style.display="none",Ne.fullscreen.style.display="none");break;case"orientationOnByDefault":o[be]&&(Tt===r?gr=!0:Tt===!0&&Mo());break}D&&(K?o.title=K:delete o.title,ge?o.author=ge:delete o.author)}function Os(){if(A&&!C)if(E)e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen();else try{n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullScreen()}catch{}}function Di(){var D=t.innerWidth==screen.width&&t.innerHeight==screen.height;e.fullscreen||e.mozFullScreen||e.webkitIsFullScreen||e.msFullscreenElement||D?(Ne.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),E=!0):(Ne.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),E=!1),l.resize(),bt(o.hfov),rt()}function Oa(){A&&(bt(o.hfov-5),rt())}function Mt(){A&&(bt(o.hfov+5),rt())}function Fo(D){var M=o.minHfov;if(o.type=="multires"&&l&&(M=Math.min(M,l.getCanvas().width/(o.multiRes.cubeResolution/90*.9))),M>o.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),o.hfov;var K=o.hfov;if(D<M?K=M:D>o.maxHfov?K=o.maxHfov:K=D,o.avoidShowingBackground&&l){var ge=l.getCanvas();K=Math.min(K,Math.atan(Math.tan((o.maxPitch-o.minPitch)/360*Math.PI)/ge.height*ge.width)*360/Math.PI)}return K}function bt(D){o.hfov=Fo(D)}function iu(){J={},oe=o.autoRotate?o.autoRotate:oe,o.autoRotate=!1}function xh(){te(),A=!1,Ne.load.style.display="none",he.load.box.style.display="inline",q()}function au(D,M,K,ge,be){A=!1,J={};var pe,Ve,Fe,qe;if(o.sceneFadeDuration&&!be){var ot=l.render(o.pitch*Math.PI/180,o.yaw*Math.PI/180,o.hfov*Math.PI/180,{returnImage:!0});if(ot!==r){pe=new Image,pe.className="pnlm-fade-img",pe.style.transition="opacity "+o.sceneFadeDuration/1e3+"s",pe.style.width="100%",pe.style.height="100%",pe.onload=function(){au(D,M,K,ge,!0)},pe.src=ot,Ze.appendChild(pe),l.fadeImg=pe;return}}M==="same"?Ve=o.pitch:Ve=M,K==="same"?Fe=o.yaw:K==="sameAzimuth"?Fe=o.yaw+(o.northOffset||0)-(a.scenes[D].northOffset||0):Fe=K,ge==="same"?qe=o.hfov:qe=ge,ki(),nu(D),O.yaw=O.pitch=O.hfov=0,Ns(),Ve!==r&&(o.pitch=Ve),Fe!==r&&(o.yaw=Fe),qe!==r&&(o.hfov=qe),Ii("scenechange",D),xh()}function Ra(){t.removeEventListener("deviceorientation",Is),Ne.orientation.classList.remove("pnlm-orientation-button-active"),H=!1}function Mo(){H=1,t.addEventListener("deviceorientation",Is),Ne.orientation.classList.add("pnlm-orientation-button-active")}function ta(D){return a.escapeHTML?String(D).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split(`
`).join("<br>"):String(D).split(`
`).join("<br>")}function ra(D){return D.trim().toLowerCase().indexOf("javascript:")===0?"about:blank":D}function su(D){return ra(D).replace(/"/g,"%22").replace(/'/g,"%27")}this.isLoaded=function(){return!!A},this.getPitch=function(){return o.pitch},this.setPitch=function(D,M,K,ge){return M=M==r?1e3:Number(M),M?J.pitch={startTime:Date.now(),startPosition:o.pitch,endPosition:D,duration:M,callback:K,callbackArgs:ge}:o.pitch=D,rt(),this},this.getPitchBounds=function(){return[o.minPitch,o.maxPitch]},this.setPitchBounds=function(D){return o.minPitch=Math.max(-90,Math.min(D[0],90)),o.maxPitch=Math.max(-90,Math.min(D[1],90)),this},this.getYaw=function(){return o.yaw},this.setYaw=function(D,M,K,ge){return M=M==r?1e3:Number(M),D=(D+180)%360-180,M?(o.yaw-D>180?D+=360:D-o.yaw>180&&(D-=360),J.yaw={startTime:Date.now(),startPosition:o.yaw,endPosition:D,duration:M,callback:K,callbackArgs:ge}):o.yaw=D,rt(),this},this.getYawBounds=function(){return[o.minYaw,o.maxYaw]},this.setYawBounds=function(D){return o.minYaw=Math.max(-180,Math.min(D[0],180)),o.maxYaw=Math.max(-180,Math.min(D[1],180)),this},this.getHfov=function(){return o.hfov},this.setHfov=function(D,M,K,ge){return M=M==r?1e3:Number(M),M?J.hfov={startTime:Date.now(),startPosition:o.hfov,endPosition:Fo(D),duration:M,callback:K,callbackArgs:ge}:bt(D),rt(),this},this.getHfovBounds=function(){return[o.minHfov,o.maxHfov]},this.setHfovBounds=function(D){return o.minHfov=Math.max(0,D[0]),o.maxHfov=Math.max(0,D[1]),this},this.lookAt=function(D,M,K,ge,be,pe){return ge=ge==r?1e3:Number(ge),D!==r&&(this.setPitch(D,ge,be,pe),be=r),M!==r&&(this.setYaw(M,ge,be,pe),be=r),K!==r&&this.setHfov(K,ge,be,pe),this},this.getNorthOffset=function(){return o.northOffset},this.setNorthOffset=function(D){return o.northOffset=Math.min(360,Math.max(0,D)),rt(),this},this.getHorizonRoll=function(){return o.horizonRoll},this.setHorizonRoll=function(D){return o.horizonRoll=Math.min(90,Math.max(-90,D)),l.setPose(o.horizonPitch*Math.PI/180,o.horizonRoll*Math.PI/180),rt(),this},this.getHorizonPitch=function(){return o.horizonPitch},this.setHorizonPitch=function(D){return o.horizonPitch=Math.min(90,Math.max(-90,D)),l.setPose(o.horizonPitch*Math.PI/180,o.horizonRoll*Math.PI/180),rt(),this},this.startAutoRotate=function(D){return D=D||oe||1,o.autoRotate=D,s.lookAt(ie,r,_e,3e3),rt(),this},this.stopAutoRotate=function(){return oe=o.autoRotate?o.autoRotate:oe,o.autoRotate=!1,o.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return l},this.setUpdate=function(D){return ce=D===!0,l===r?Re():rt(),this},this.mouseEventToCoords=function(D){return Xt(D)},this.loadScene=function(D,M,K,ge){return A!==!1&&au(D,M,K,ge),this},this.getScene=function(){return o.scene},this.addScene=function(D,M){return a.scenes[D]=M,this},this.removeScene=function(D){return o.scene===D||!a.scenes.hasOwnProperty(D)?!1:(delete a.scenes[D],!0)},this.toggleFullscreen=function(){return Os(),this},this.getConfig=function(){return o},this.getContainer=function(){return n},this.addHotSpot=function(D,M){if(M===r&&o.scene===r)o.hotSpots.push(D);else{var K=M!==r?M:o.scene;if(a.scenes.hasOwnProperty(K))a.scenes[K].hasOwnProperty("hotSpots")||(a.scenes[K].hotSpots=[],K==o.scene&&(o.hotSpots=a.scenes[K].hotSpots)),a.scenes[K].hotSpots.push(D);else throw"Invalid scene ID!"}return(M===r||o.scene==M)&&(bh(D),A&&Lo(D)),this},this.removeHotSpot=function(D,M){if(M===r||o.scene==M){if(!o.hotSpots)return!1;for(var K=0;K<o.hotSpots.length;K++)if(o.hotSpots[K].hasOwnProperty("id")&&o.hotSpots[K].id===D){for(var ge=o.hotSpots[K].div;ge.parentNode!=Ze;)ge=ge.parentNode;return Ze.removeChild(ge),delete o.hotSpots[K].div,o.hotSpots.splice(K,1),!0}}else if(a.scenes.hasOwnProperty(M)){if(!a.scenes[M].hasOwnProperty("hotSpots"))return!1;for(var K=0;K<a.scenes[M].hotSpots.length;K++)if(a.scenes[M].hotSpots[K].hasOwnProperty("id")&&a.scenes[M].hotSpots[K].id===D)return a.scenes[M].hotSpots.splice(K,1),!0}else return!1},this.resize=function(){l&&Je()},this.isLoaded=function(){return A},this.isOrientationSupported=function(){return Tt||!1},this.stopOrientation=function(){Ra()},this.startOrientation=function(){Tt&&Mo()},this.isOrientationActive=function(){return!!H},this.on=function(D,M){return le[D]=le[D]||[],le[D].push(M),this},this.off=function(D,M){if(!D)return le={},this;if(M){var K=le[D].indexOf(M);K>=0&&le[D].splice(K,1),le[D].length==0&&delete le[D]}else delete le[D];return this};function Ii(D){if(D in le)for(var M=le[D].length;M>0;M--)le[D][le[D].length-M].apply(null,[].slice.call(arguments,1))}this.destroy=function(){l&&l.destroy(),I&&(Ue.removeEventListener("mousedown",tt,!1),Ue.removeEventListener("dblclick",Ke,!1),e.removeEventListener("mousemove",Pt,!1),e.removeEventListener("mouseup",vr,!1),n.removeEventListener("mousewheel",Jt,!1),n.removeEventListener("DOMMouseScroll",Jt,!1),n.removeEventListener("mozfullscreenchange",Di,!1),n.removeEventListener("webkitfullscreenchange",Di,!1),n.removeEventListener("msfullscreenchange",Di,!1),n.removeEventListener("fullscreenchange",Di,!1),t.removeEventListener("resize",Je,!1),t.removeEventListener("orientationchange",Je,!1),n.removeEventListener("keydown",Rt,!1),n.removeEventListener("keyup",Lt,!1),n.removeEventListener("blur",Pr,!1),e.removeEventListener("mouseleave",vr,!1),Ue.removeEventListener("touchstart",Ur,!1),Ue.removeEventListener("touchmove",Er,!1),Ue.removeEventListener("touchend",Yt,!1),Ue.removeEventListener("pointerdown",$e,!1),Ue.removeEventListener("pointermove",$t,!1),Ue.removeEventListener("pointerup",kt,!1),Ue.removeEventListener("pointerleave",kt,!1)),n.innerHTML="",n.classList.remove("pnlm-container"),Ee.classList.remove("pnlm-grab"),Ee.classList.remove("pnlm-grabbing")}}return{viewer:function(a,s){return new i(a,s)}}}(window,document);window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}());var n_,i_;function fM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wg=(i_=n_=function(t){hM(e,t);function e(r){fM(this,e);var i=dM(this,t.call(this,r));return i.renderImage=function(n){var a=i.props.children,s=[].concat(a),o=[];Array.isArray(s)&&s.map(function(u){switch(u.props.type){case"info":return o.push({id:Math.random().toString(36).substr(2,9),type:u.props.type,pitch:u.props.pitch?u.props.pitch:10,yaw:u.props.yaw?u.props.yaw:10,text:u.props.text?u.props.text:"",URL:u.props.URL?u.props.URL:""});case"custom":return o.push({id:Math.random().toString(36).substr(2,9),pitch:u.props.pitch?u.props.pitch:10,yaw:u.props.yaw?u.props.yaw:10,cssClass:u.props.cssClass?u.props.cssClass:"tooltipcss",createTooltipFunc:u.props.tooltip?u.props.tooltip:i.hotspotTooltip,createTooltipArgs:u.props.tooltipArg?u.props.tooltipArg:{},clickHandlerFunc:u.props.handleClick?u.props.handleClick:i.handleClickHotspot,clickHandlerArgs:u.props.handleClickArg?u.props.handleClickArg:{name:"test"}});default:return[]}});var l={type:"equirectangular",panorama:i.props.image,haov:i.props.haov,vaov:i.props.vaov,vOffset:i.props.vOffset,yaw:i.props.yaw,pitch:i.props.pitch,hfov:i.props.hfov,minHfov:i.props.minHfov,maxHfov:i.props.maxHfov,minPitch:i.props.minPitch,maxPitch:i.props.maxPitch,minYaw:i.props.minYaw,maxYaw:i.props.maxYaw,autoRotate:i.props.autoRotate,compass:i.props.compass,preview:i.props.preview,previewTitle:i.props.previewTitle,previewAuthor:i.props.previewAuthor,author:i.props.author,title:i.props.title,autoLoad:i.props.autoLoad,orientationOnByDefault:i.props.orientationOnByDefault,showZoomCtrl:i.props.showZoomCtrl,keyboardZoom:i.props.keyboardZoom,mouseZoom:i.props.mouseZoom,draggable:i.props.draggable,disableKeyboardCtrl:i.props.disableKeyboardCtrl,showFullscreenCtrl:i.props.showFullscreenCtrl,showControls:i.props.showControls,hotSpotDebug:i.props.hotspotDebug,hotSpots:o,onRender:i.props.onRender};Object.keys(l).forEach(function(u){return l[u]===""&&delete l[u]}),n==="update"&&i.panorama.destroy(),i.panorama=pannellum.viewer(i.props.id?i.props.id:i.state.id,l),i.panorama.on("load",i.props.onLoad),i.panorama.on("scenechange",i.props.onScenechange),i.panorama.on("scenechangefadedone",i.props.onScenechangefadedone),i.panorama.on("error",i.props.onError),i.panorama.on("errorcleared",i.props.onErrorcleared),i.panorama.on("mousedown",i.props.onMousedown),i.panorama.on("mouseup",i.props.onMouseup),i.panorama.on("touchstart",i.props.onTouchstart),i.panorama.on("touchend",i.props.onTouchend)},i.componentDidMount=function(){i.renderImage("mount")},i.handleClickHotspot=function(n,a){console.log("hotspot clicked",a.name)},i.hotspotTooltip=function(n,a){n.setAttribute("id","textInfo");var s=document.createElement("div");s.classList.add("hotspot");var o=document.createElement("div");o.classList.add("out");var l=document.createElement("div");l.classList.add("in");var u=document.createElement("div");u.classList.add("image"),n.appendChild(s),s.appendChild(l),s.appendChild(o)},i.getViewer=function(){return i.panorama},i.forceRender=function(){i.renderImage("update")},i.state={id:Math.random().toString(36).substr(2,9)},i}return e.prototype.componentDidUpdate=function(i,n,a){(i.image!==this.props.image||i.width!==this.props.width||i.height!==this.props.height||i.compass!==this.props.compass||i.title!==this.props.title||i.author!==this.props.author||i.preview!==this.props.preview||i.previewTitle!==this.props.previewTitle||i.previewAuthor!==this.props.previewAuthor||i.showZoomCtrl!==this.props.showZoomCtrl||i.showFullscreenCtrl!==this.props.showFullscreenCtrl||i.showControls!==this.props.showControls||i.children.length!==this.props.children.length)&&this.renderImage("update"),(i.maxYaw!==this.props.maxYaw||i.minYaw!==this.props.minYaw||i.maxPitch!==this.props.maxPitch||i.minPitch!==this.props.minPitch||i.maxHfov!==this.props.maxHfov||i.minHfov!==this.props.minHfov)&&(this.panorama.setYawBounds([this.props.minYaw,this.props.maxYaw]),this.panorama.setPitchBounds([this.props.minPitch,this.props.maxPitch]),this.panorama.setHfovBounds([this.props.minHfov,this.props.maxHfov])),i.yaw!==this.props.yaw&&this.panorama.setYaw(this.props.yaw),i.pitch!==this.props.pitch&&this.panorama.setPitch(this.props.pitch),i.hfov!==this.props.hfov&&this.panorama.setHfov(this.props.hfov)},e.prototype.render=function(){var i=this,n=this.props,a=n.width,s=n.height,o={width:a,height:s};return it.createElement("div",{id:this.props.id?this.props.id:this.state.id,style:o,ref:function(u){return i.imageNode=u}})},e}(Q.PureComponent),n_.defaultProps={children:[],width:"100%",height:"400px",image:"",haov:360,vaov:180,vOffset:0,yaw:0,pitch:0,hfov:100,minHfov:50,maxHfov:150,minPitch:-90,maxPitch:90,minYaw:-180,maxYaw:180,autoRotate:0,compass:!1,preview:"",previewTitle:"",previewAuthor:"",title:"",author:"",autoLoad:!1,orientationOnByDefault:!1,showZoomCtrl:!0,keyboardZoom:!0,mouseZoom:!0,draggable:!0,disableKeyboardCtrl:!1,showFullscreenCtrl:!0,showControls:!0,onLoad:function(){},onScenechange:function(){},onScenechangefadedone:function(){},onError:function(){},onErrorcleared:function(){},onMousedown:function(){},onMouseup:function(){},onTouchstart:function(){},onTouchend:function(){},hotspotDebug:!1,onRender:null},i_);Wg.propTypes={};Wg.Hotspot=function(){};Wg.Hotspot=function(){};var mf;typeof window<"u"?mf=window:typeof qp<"u"?mf=qp:typeof self<"u"?mf=self:mf={};var $g=mf;const B=Es($g),pM={},mM=Object.freeze(Object.defineProperty({__proto__:null,default:pM},Symbol.toStringTag,{value:"Module"})),gM=$E(mM);var a_=typeof qp<"u"?qp:typeof window<"u"?window:{},vM=gM,gf;typeof document<"u"?gf=document:(gf=a_["__GLOBAL_DOCUMENT_CACHE@4"],gf||(gf=a_["__GLOBAL_DOCUMENT_CACHE@4"]=vM));var o4=gf;const ye=Es(o4);function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pi.apply(this,arguments)}const yM=Object.freeze(Object.defineProperty({__proto__:null,default:Pi},Symbol.toStringTag,{value:"Module"}));var S2={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var c=String(l),f=i[c.toLowerCase()];if(f)return f;var f=n[c.toLowerCase()];if(f)return f;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(u,c){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;if(f==null)return!1;if(typeof c=="string"){var d=i[c.toLowerCase()];if(d)return d===f;var d=n[c.toLowerCase()];if(d)return d===f}else if(typeof c=="number")return c===f;return!1}},e=t.exports=r;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in n)i[o]=n[o]})(S2,S2.exports);var bM=S2.exports;const et=Es(bM);function Ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ac(t,e){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ac(t,e)}function xe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ac(t,e)}var xM=TM;function TM(t,e){var r,i=null;try{r=JSON.parse(t,e)}catch(n){i=n}return[i,r]}const wM=Es(xM);var C6={exports:{}};const _M=$E(yM);var EM=AM,SM=Object.prototype.toString;function AM(t){if(!t)return!1;var e=SM.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var CM=$g,PM=function(e,r){return r===void 0&&(r=!1),function(i,n,a){if(i){e(i);return}if(n.statusCode>=400&&n.statusCode<=599){var s=a;if(r)if(CM.TextDecoder){var o=kM(n.headers&&n.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function kM(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),n=i[0],a=i[1];return n.trim()==="charset"?a.trim():e},"utf-8")}var DM=PM,l4=$g,IM=_M,NM=EM;Pa.httpHandler=DM;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var OM=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var n=i.indexOf(":"),a=i.slice(0,n).trim().toLowerCase(),s=i.slice(n+1).trim();typeof r[a]>"u"?r[a]=s:Array.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]}),r};C6.exports=Pa;C6.exports.default=Pa;Pa.XMLHttpRequest=l4.XMLHttpRequest||MM;Pa.XDomainRequest="withCredentials"in new Pa.XMLHttpRequest?Pa.XMLHttpRequest:l4.XDomainRequest;RM(["get","put","post","patch","head","delete"],function(t){Pa[t==="delete"?"del":t]=function(e,r,i){return r=u4(e,r,i),r.method=t.toUpperCase(),c4(r)}});function RM(t,e){for(var r=0;r<t.length;r++)e(t[r])}function LM(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u4(t,e,r){var i=t;return NM(e)?(r=e,typeof t=="string"&&(i={uri:t})):i=IM({},e,{uri:t}),i.callback=r,i}function Pa(t,e,r){return e=u4(t,e,r),c4(e)}function c4(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(A,C,I){e||(e=!0,t.callback(A,C,I))};function i(){o.readyState===4&&setTimeout(s,0)}function n(){var E=void 0;if(o.response?E=o.response:E=o.responseText||FM(o),m)try{E=JSON.parse(E)}catch{}return E}function a(E){return clearTimeout(T),E instanceof Error||(E=new Error(""+(E||"Unknown XMLHttpRequest Error"))),E.statusCode=0,r(E,b)}function s(){if(!u){var E;clearTimeout(T),t.useXDR&&o.status===void 0?E=200:E=o.status===1223?204:o.status;var A=b,C=null;return E!==0?(A={body:n(),statusCode:E,method:f,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(A.headers=OM(o.getAllResponseHeaders()))):C=new Error("Internal XMLHttpRequest Error"),r(C,A,A.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Pa.XDomainRequest:o=new Pa.XMLHttpRequest);var l,u,c=o.url=t.uri||t.url,f=o.method=t.method||"GET",d=t.body||t.data,h=o.headers=t.headers||{},y=!!t.sync,m=!1,T,b={body:void 0,headers:{},statusCode:0,method:f,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(m=!0,h.accept||h.Accept||(h.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(t.json===!0?d:t.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=a,o.open(f,c,!y,t.username,t.password),y||(o.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(T=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var E=new Error("XMLHttpRequest timeout");E.code="ETIMEDOUT",a(E)}},t.timeout)),o.setRequestHeader)for(l in h)h.hasOwnProperty(l)&&o.setRequestHeader(l,h[l]);else if(t.headers&&!LM(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(d||null),o}function FM(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function MM(){}var BM=C6.exports;const f4=Es(BM);var d4={exports:{}},s_=o4,P6=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function ri(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}ri.prototype=P6(Error.prototype);ri.prototype.constructor=ri;ri.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function k6(t){function e(i,n,a,s){return(i|0)*3600+(n|0)*60+(a|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function Rf(){this.values=P6(null)}Rf.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function vf(t,e,r,i){var n=i?t.split(i):[t];for(var a in n)if(typeof n[a]=="string"){var s=n[a].split(r);if(s.length===2){var o=s[0].trim(),l=s[1].trim();e(o,l)}}}function UM(t,e,r){var i=t;function n(){var o=k6(t);if(o===null)throw new ri(ri.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){var u=new Rf;vf(o,function(c,f){switch(c){case"region":for(var d=r.length-1;d>=0;d--)if(r[d].id===f){u.set(c,r[d].region);break}break;case"vertical":u.alt(c,f,["rl","lr"]);break;case"line":var h=f.split(","),y=h[0];u.integer(c,y),u.percent(c,y)&&u.set("snapToLines",!1),u.alt(c,y,["auto"]),h.length===2&&u.alt("lineAlign",h[1],["start","center","end"]);break;case"position":h=f.split(","),u.percent(c,h[0]),h.length===2&&u.alt("positionAlign",h[1],["start","center","end"]);break;case"size":u.percent(c,f);break;case"align":u.alt(c,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=n(),s(),t.substr(0,3)!=="-->")throw new ri(ri.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),s(),e.endTime=n(),s(),a(t,e)}var Ev=s_.createElement&&s_.createElement("textarea"),jM={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},o_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},HM={v:"title",lang:"lang"},l_={rt:"ruby"};function h4(t,e){function r(){if(!e)return null;function y(T){return e=e.substr(T.length),T}var m=e.match(/^([^<]*)(<[^>]*>?)?/);return y(m[1]?m[1]:m[2])}function i(y){return Ev.innerHTML=y,y=Ev.textContent,Ev.textContent="",y}function n(y,m){return!l_[m.localName]||l_[m.localName]===y.localName}function a(y,m){var T=jM[y];if(!T)return null;var b=t.document.createElement(T),E=HM[y];return E&&m&&(b[E]=m.trim()),b}for(var s=t.document.createElement("div"),o=s,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=k6(l.substr(1,l.length-2)),f;if(c){f=t.document.createProcessingInstruction("timestamp",c),o.appendChild(f);continue}var d=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d||(f=a(d[1],d[3]),!f)||!n(o,f))continue;if(d[2]){var h=d[2].split(".");h.forEach(function(y){var m=/^bg_/.test(y),T=m?y.slice(3):y;if(o_.hasOwnProperty(T)){var b=m?"background-color":"color",E=o_[T];f.style[b]=E}}),f.className=h.join(" ")}u.push(d[1]),o.appendChild(f),o=f;continue}o.appendChild(t.document.createTextNode(i(l)))}return s}var u_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function VM(t){for(var e=0;e<u_.length;e++){var r=u_[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function zM(t){var e=[],r="",i;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function a(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return a(o);if(l.childNodes)return n(o,l),a(o)}for(n(e,t);r=a(e);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),VM(i))return"rtl";return"ltr"}function GM(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,i=0,n=0;n<r.length&&r[n]!==e;n++)r[n].mode==="showing"&&i++;return++i*-1}function Qg(){}Qg.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};Qg.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Om(t,e,r){Qg.call(this),this.cue=e,this.cueDiv=h4(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:zM(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":case"line-left":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":case"line-right":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Om.prototype=P6(Qg.prototype);Om.prototype.constructor=Om;function gn(t){var e,r,i,n;if(t.div){r=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||r,this.bottom=t.bottom||n+(t.height||r),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}gn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};gn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};gn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};gn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};gn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};gn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*r;return i/(this.height*this.width)};gn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};gn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||r};return n};function qM(t,e,r,i){function n(T,b){for(var E,A=new gn(T),C=1,I=0;I<b.length;I++){for(;T.overlapsOppositeAxis(r,b[I])||T.within(r)&&T.overlapsAny(i);)T.move(b[I]);if(T.within(r))return T;var R=T.intersectPercentage(r);C>R&&(E=new gn(T),C=R),T=new gn(A)}return E||A}var a=new gn(e),s=e.cue,o=GM(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=a.lineHeight,f=c*Math.round(o),d=r[u]+c,h=l[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),o<0&&(f+=s.vertical===""?r.height:r.width,l=l.reverse()),a.move(h,f)}else{var y=a.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=y/2;break;case"end":o-=y;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new gn(e)}var m=n(a,l);e.move(m.toCSSCompatValues(r))}function _c(){}_c.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};_c.convertCueToDOMTree=function(t,e){return!t||!e?null:h4(t,e)};var WM=.05,$M="sans-serif",QM="1.5%";_c.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=QM,r.appendChild(i);function n(c){for(var f=0;f<c.length;f++)if(c[f].hasBeenReset||!c[f].displayState)return!0;return!1}if(!n(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=gn.getSimpleBoxPosition(i),l=Math.round(o.height*WM*100)/100,u={font:l+"px "+$M};(function(){for(var c,f,d=0;d<e.length;d++)f=e[d],c=new Om(t,f,u),i.appendChild(c.div),qM(t,c,o,s),f.displayState=c.div,s.push(gn.getSimpleBoxPosition(c))})()};_c.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};_c.Parser.prototype={reportOrThrowError:function(t){if(t instanceof ri)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var c=e.buffer,f=0;f<c.length&&c[f]!=="\r"&&c[f]!==`
`;)++f;var d=c.substr(0,f);return c[f]==="\r"&&++f,c[f]===`
`&&++f,e.buffer=c.substr(f),d}function i(c){var f=new Rf;if(vf(c,function(h,y){switch(h){case"id":f.set(h,y);break;case"width":f.percent(h,y);break;case"lines":f.integer(h,y);break;case"regionanchor":case"viewportanchor":var m=y.split(",");if(m.length!==2)break;var T=new Rf;if(T.percent("x",m[0]),T.percent("y",m[1]),!T.has("x")||!T.has("y"))break;f.set(h+"X",T.get("x")),f.set(h+"Y",T.get("y"));break;case"scroll":f.alt(h,y,["up"]);break}},/=/,/\s/),f.has("id")){var d=new(e.vttjs.VTTRegion||e.window.VTTRegion);d.width=f.get("width",100),d.lines=f.get("lines",3),d.regionAnchorX=f.get("regionanchorX",0),d.regionAnchorY=f.get("regionanchorY",100),d.viewportAnchorX=f.get("viewportanchorX",0),d.viewportAnchorY=f.get("viewportanchorY",100),d.scroll=f.get("scroll",""),e.onregion&&e.onregion(d),e.regionList.push({id:f.get("id"),region:d})}}function n(c){var f=new Rf;vf(c,function(d,h){switch(d){case"MPEGT":f.integer(d+"S",h);break;case"LOCA":f.set(d+"L",k6(h));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?vf(c,function(f,d){switch(f){case"X-TIMESTAMP-MAP":n(d);break}},/=/):vf(c,function(f,d){switch(f){case"Region":i(d);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new ri(ri.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{UM(s,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new ri(ri.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var KM=_c,XM="auto",YM={"":1,lr:1,rl:1},JM={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function ZM(t){if(typeof t!="string")return!1;var e=YM[t.toLowerCase()];return e?t.toLowerCase():!1}function Sv(t){if(typeof t!="string")return!1;var e=JM[t.toLowerCase()];return e?t.toLowerCase():!1}function p4(t,e,r){this.hasBeenReset=!1;var i="",n=!1,a=t,s=e,o=r,l=null,u="",c=!0,f="auto",d="start",h="auto",y="auto",m=100,T="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(b){i=""+b}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(b){n=!!b}},startTime:{enumerable:!0,get:function(){return a},set:function(b){if(typeof b!="number")throw new TypeError("Start time must be set to a number.");a=b,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number")throw new TypeError("End time must be set to a number.");s=b,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(b){o=""+b,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(b){l=b,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(b){var E=ZM(b);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(b){c=!!b,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(b){if(typeof b!="number"&&b!==XM)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=b,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(b){var E=Sv(b);E?(d=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(b){if(b<0||b>100)throw new Error("Position must be between 0 and 100.");h=b,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(b){var E=Sv(b);E?(y=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(b){if(b<0||b>100)throw new Error("Size must be between 0 and 100.");m=b,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return T},set:function(b){var E=Sv(b);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");T=E,this.hasBeenReset=!0}}}),this.displayState=void 0}p4.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var eB=p4,tB={"":!0,up:!0};function rB(t){if(typeof t!="string")return!1;var e=tB[t.toLowerCase()];return e?t.toLowerCase():!1}function Kc(t){return typeof t=="number"&&t>=0&&t<=100}function nB(){var t=100,e=3,r=0,i=100,n=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Kc(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Kc(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Kc(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Kc(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Kc(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=rB(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var iB=nB,bs=$g,eu=d4.exports={WebVTT:KM,VTTCue:eB,VTTRegion:iB};bs.vttjs=eu;bs.WebVTT=eu.WebVTT;var aB=eu.VTTCue,sB=eu.VTTRegion,oB=bs.VTTCue,lB=bs.VTTRegion;eu.shim=function(){bs.VTTCue=aB,bs.VTTRegion=sB};eu.restore=function(){bs.VTTCue=oB,bs.VTTRegion=lB};bs.VTTCue||eu.shim();var uB=d4.exports;const c_=Es(uB);function cB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lf(t,e,r){return cB()?Lf=Reflect.construct.bind():Lf=function(n,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(n,o),u=new l;return s&&ac(u,s.prototype),u},Lf.apply(null,arguments)}function fB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ac(t,e)}var m4={exports:{}};(function(t,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return c.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):u;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var y=n.exec(h.path);h.netLoc=y[1],h.path=y[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(m.netLoc=h.netLoc,d.path[0]!=="/"))if(!d.path)m.path=h.path,d.params||(m.params=h.params,d.query||(m.query=h.query));else{var T=h.path,b=T.substring(0,T.lastIndexOf("/")+1)+d.path;m.path=o.normalizePath(b)}return m.path===null&&(m.path=c.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(m)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(m4);var dB=m4.exports;const f_=Es(dB);var d_="http://example.com",Kg=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=B.location&&B.location.href||"");var i=typeof B.URL=="function",n=/^\/\//.test(e),a=!B.location&&!/\/\//i.test(e);if(i?e=new B.URL(e,B.location||d_):/\/\//i.test(e)||(e=f_.buildAbsoluteURL(B.location&&B.location.href||"",e)),i){var s=new URL(r,e);return a?s.href.slice(d_.length):n?s.href.slice(s.protocol.length):s.href}return f_.buildAbsoluteURL(e,r)},D6=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},e.off=function(i,n){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var n=this.listeners[i];if(n)if(arguments.length===2)for(var a=n.length,s=0;s<a;++s)n[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(n){i.push(n)})},t}(),hB=function(e){return B.atob?B.atob(e):Buffer.from(e,"base64").toString("binary")};function g4(t){for(var e=hB(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var pB=function(t){xe(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var r=e.prototype;return r.push=function(n){var a;for(this.buffer+=n,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(D6),mB=String.fromCharCode(9),Av=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},gB=function(){var e="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},Oi=function(e){for(var r=e.split(gB()),i={},n=r.length,a;n--;)r[n]!==""&&(a=/([^=]*)=(.*)/.exec(r[n]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},vB=function(t){xe(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=e.prototype;return r.push=function(n){var a=this,s,o;if(n=n.trim(),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}var l=this.tagMappers.reduce(function(u,c){var f=c(n);return f===n?u:u.concat([f])},[n]);l.forEach(function(u){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,u))return;if(u.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),s){o=Pi(Av(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var f=Oi(s[1]);f.URI&&(o.uri=f.URI),f.BYTERANGE&&(o.byterange=Av(f.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=Oi(s[1]),o.attributes.RESOLUTION){var d=o.attributes.RESOLUTION.split("x"),h={};d[0]&&(h.width=parseInt(d[0],10)),d[1]&&(h.height=parseInt(d[1],10)),o.attributes.RESOLUTION=h}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=Oi(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=Oi(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=Oi(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=Oi(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(mB)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=Oi(s[1]),["DURATION"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["INDEPENDENT","GAP"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Av(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=Oi(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Oi(s[1]),["PART-TARGET"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Oi(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(y){if(o.attributes.hasOwnProperty(y)){o.attributes[y]=parseInt(o.attributes[y],10);var m=y==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[m]=o.attributes[y],delete o.attributes[y]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Oi(s[1]),["LAST-MSN","LAST-PART"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseInt(o.attributes[y],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(n){var a=this,s=n.expression,o=n.customType,l=n.dataParser,u=n.segment;typeof l!="function"&&(l=function(f){return f}),this.customParsers.push(function(c){var f=s.exec(c);if(f)return a.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},r.addTagMapper=function(n){var a=n.expression,s=n.map,o=function(u){return a.test(u)?s(u):u};this.tagMappers.push(o)},e}(D6),yB=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},pu=function(e){var r={};return Object.keys(e).forEach(function(i){r[yB(i)]=e[i]}),r},Cv=function(e){var r=e.serverControl,i=e.targetDuration,n=e.partTargetDuration;if(r){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",l=i&&i*3,u=n&&n*2;i&&!r.hasOwnProperty(s)&&(r[s]=l,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[s]<l&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+l+")"}),r[s]=l),n&&!r.hasOwnProperty(o)&&(r[o]=n*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),n&&r[o]<u&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},bB=function(t){xe(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new pB,i.parseStream=new vB,i.lineStream.pipe(i.parseStream);var n=Ye(i),a=[],s={},o,l,u=!1,c=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",h=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var y=0,m=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof h=="number"&&(s.timeline=h),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(T){var b,E;({tag:function(){({version:function(){T.version&&(this.manifest.version=T.version)},"allow-cache":function(){this.manifest.allowCache=T.allowed,"allowed"in T||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var I={};"length"in T&&(s.byterange=I,I.length=T.length,"offset"in T||(T.offset=y)),"offset"in T&&(s.byterange=I,I.offset=T.offset),y=I.offset+I.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),T.duration>0&&(s.duration=T.duration),T.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!T.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(T.attributes.METHOD==="NONE"){l=null;return}if(!T.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(T.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:T.attributes};return}if(T.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:T.attributes.URI};return}if(T.attributes.KEYFORMAT===d){var I=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(I.indexOf(T.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(T.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),T.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(T.attributes.KEYID&&T.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:T.attributes.KEYFORMAT,keyId:T.attributes.KEYID.substring(2)},pssh:g4(T.attributes.URI.split(",")[1])};return}T.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:T.attributes.METHOD||"AES-128",uri:T.attributes.URI},typeof T.attributes.IV<"u"&&(l.iv=T.attributes.IV)},"media-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+T.number});return}this.manifest.mediaSequence=T.number},"discontinuity-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+T.number});return}this.manifest.discontinuitySequence=T.number,h=T.number},"playlist-type":function(){if(!/VOD|EVENT/.test(T.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+T.playlist});return}this.manifest.playlistType=T.playlistType},map:function(){o={},T.uri&&(o.uri=T.uri),T.byterange&&(o.byterange=T.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!T.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Pi(s.attributes,T.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(T.attributes&&T.attributes.TYPE&&T.attributes["GROUP-ID"]&&T.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var I=this.manifest.mediaGroups[T.attributes.TYPE];I[T.attributes["GROUP-ID"]]=I[T.attributes["GROUP-ID"]]||{},b=I[T.attributes["GROUP-ID"]],E={default:/yes/i.test(T.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(T.attributes.AUTOSELECT),T.attributes.LANGUAGE&&(E.language=T.attributes.LANGUAGE),T.attributes.URI&&(E.uri=T.attributes.URI),T.attributes["INSTREAM-ID"]&&(E.instreamId=T.attributes["INSTREAM-ID"]),T.attributes.CHARACTERISTICS&&(E.characteristics=T.attributes.CHARACTERISTICS),T.attributes.FORCED&&(E.forced=/yes/i.test(T.attributes.FORCED)),b[T.attributes.NAME]=E},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=T.dateTimeString,this.manifest.dateTimeObject=T.dateTimeObject),s.dateTimeString=T.dateTimeString,s.dateTimeObject=T.dateTimeObject},targetduration:function(){if(!isFinite(T.duration)||T.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+T.duration});return}this.manifest.targetDuration=T.duration,Cv.call(this,this.manifest)},start:function(){if(!T.attributes||isNaN(T.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:T.attributes["TIME-OFFSET"],precise:T.attributes.PRECISE}},"cue-out":function(){s.cueOut=T.data},"cue-out-cont":function(){s.cueOutCont=T.data},"cue-in":function(){s.cueIn=T.data},skip:function(){this.manifest.skip=pu(T.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",T.attributes,["SKIPPED-SEGMENTS"])},part:function(){var I=this;u=!0;var R=this.manifest.segments.length,L=pu(T.attributes);s.parts=s.parts||[],s.parts.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=m),m=L.byterange.offset+L.byterange.length);var O=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+O+" for segment #"+R,T.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(W,H){W.hasOwnProperty("lastPart")||I.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+H+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var I=this.manifest.serverControl=pu(T.attributes);I.hasOwnProperty("canBlockReload")||(I.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Cv.call(this,this.manifest),I.canSkipDateranges&&!I.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var I=this.manifest.segments.length,R=pu(T.attributes),L=R.type&&R.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(R),R.byterange&&(R.byterange.hasOwnProperty("offset")||(R.byterange.offset=L?m:0,L&&(m=R.byterange.offset+R.byterange.length)));var O=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+O+" for segment #"+I,T.attributes,["TYPE","URI"]),!!R.type)for(var W=0;W<s.preloadHints.length-1;W++){var H=s.preloadHints[W];H.type&&H.type===R.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+O+" for segment #"+I+" has the same TYPE "+R.type+" as preload hint #"+W})}},"rendition-report":function(){var I=pu(T.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(I);var R=this.manifest.renditionReports.length-1,L=["LAST-MSN","URI"];u&&L.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+R,T.attributes,L)},"part-inf":function(){this.manifest.partInf=pu(T.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",T.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Cv.call(this,this.manifest)}}[T.tagType]||c).call(n)},uri:function(){s.uri=T.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=h,o&&(s.map=o),m=0,s={}},comment:function(){},custom:function(){T.segment?(s.custom=s.custom||{},s.custom[T.customType]=T.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[T.customType]=T.data)}})[T.type].call(n)}),i}var r=e.prototype;return r.warnOnMissingAttributes_=function(n,a,s){var o=[];s.forEach(function(l){a.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+o.join(", ")})},r.push=function(n){this.lineStream.push(n)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(n){this.parseStream.addParser(n)},r.addTagMapper=function(n){this.parseStream.addTagMapper(n)},e}(D6),Ol={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},xB=["video","audio","text"],h_=["Video","Audio","Text"],v4=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,n){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(n).toString(16)).slice(-2);return"avc1."+a+"00"+s})},la=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(n){n=n.trim();var a;xB.forEach(function(s){var o=Ol[s].exec(n.toLowerCase());if(!(!o||o.length<=1)){a=s;var l=n.substring(0,o[1].length),u=n.replace(l,"");i.push({type:l,details:u,mediaType:s})}}),a||i.push({type:n,details:"",mediaType:"unknown"})}),i},TB=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var n in i){var a=i[n];if(a.default&&a.playlists)return la(a.playlists[0].attributes.CODECS)}return null},y4=function(e){return e===void 0&&(e=""),Ol.audio.test(e.trim().toLowerCase())},wB=function(e){return e===void 0&&(e=""),Ol.text.test(e.trim().toLowerCase())},vd=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(a){return v4(a.trim())}),i="video";r.length===1&&y4(r[0])?i="audio":r.length===1&&wB(r[0])&&(i="application");var n="mp4";return r.every(function(a){return Ol.mp4.test(a)})?n="mp4":r.every(function(a){return Ol.webm.test(a)})?n="webm":r.every(function(a){return Ol.ogg.test(a)})&&(n="ogg"),i+"/"+n+';codecs="'+e+'"'}},Mp=function(e){return e===void 0&&(e=""),B.MediaSource&&B.MediaSource.isTypeSupported&&B.MediaSource.isTypeSupported(vd(e))||!1},Pv=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<h_.length;i++){var n=h_[i];if(Ol["muxer"+n].test(r))return!0}return!1})},p_="mp4a.40.2",_B="avc1.4d400d",EB=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,SB=/^application\/dash\+xml/i,b4=function(e){return EB.test(e)?"hls":SB.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},AB=function(e){return e.toString(2).length},CB=function(e){return Math.ceil(AB(e)/8)},x4=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},PB=function(e){return x4(e)},ze=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!PB(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Vr=B.BigInt||Number,A2=[Vr("0x1"),Vr("0x100"),Vr("0x10000"),Vr("0x1000000"),Vr("0x100000000"),Vr("0x10000000000"),Vr("0x1000000000000"),Vr("0x100000000000000"),Vr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var kB=function(e,r){var i=r===void 0?{}:r,n=i.signed,a=n===void 0?!1:n,s=i.le,o=s===void 0?!1:s;e=ze(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(d,h,y){var m=o?y:Math.abs(y+1-e.length);return d+Vr(h)*A2[m]},Vr(0));if(a){var f=A2[e.length]/Vr(2)-Vr(1);c=Vr(c),c>f&&(c-=f,c-=f,c-=Vr(2))}return Number(c)},DB=function(e,r){var i=r===void 0?{}:r,n=i.le,a=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Vr(e);for(var s=CB(e),o=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=a?l:Math.abs(l+1-o.length);o[u]=Number(e/A2[l]&Vr(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},T4=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},IB=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ze(r[0]);var n=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),a=new Uint8Array(n),s=0;return r.forEach(function(o){o=ze(o),a.set(o,s),s+=o.byteLength}),a},Qt=function(e,r,i){var n=i===void 0?{}:i,a=n.offset,s=a===void 0?0:a,o=n.mask,l=o===void 0?[]:o;e=ze(e),r=ze(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&u.call(r,function(c,f){var d=l[f]?l[f]&e[s+f]:e[s+f];return c===d})},NB=function(e,r,i){r.forEach(function(n){for(var a in e.mediaGroups[n])for(var s in e.mediaGroups[n][a]){var o=e.mediaGroups[n][a][s];i(o,n,a,s)}})},Ro={},Cs={};function OB(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];if(e.call(void 0,n,i,t))return n}}function I6(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function RB(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var w4=I6({HTML:"text/html",isHTML:function(t){return t===w4.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_4=I6({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===_4.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Cs.assign=RB;Cs.find=OB;Cs.freeze=I6;Cs.MIME_TYPE=w4;Cs.NAMESPACE=_4;var E4=Cs,ka=E4.find,yd=E4.NAMESPACE;function LB(t){return t!==""}function FB(t){return t?t.split(/[\t\n\f\r ]+/).filter(LB):[]}function MB(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function m_(t){if(!t)return[];var e=FB(t);return Object.keys(e.reduce(MB,{}))}function BB(t){return function(e){return t&&t.indexOf(e)!==-1}}function sh(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function zn(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};var i=n;n.prototype=e.prototype,n=new n,sh(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Gn={},Wi=Gn.ELEMENT_NODE=1,sc=Gn.ATTRIBUTE_NODE=2,Rm=Gn.TEXT_NODE=3,S4=Gn.CDATA_SECTION_NODE=4,A4=Gn.ENTITY_REFERENCE_NODE=5,UB=Gn.ENTITY_NODE=6,C4=Gn.PROCESSING_INSTRUCTION_NODE=7,P4=Gn.COMMENT_NODE=8,k4=Gn.DOCUMENT_NODE=9,D4=Gn.DOCUMENT_TYPE_NODE=10,xs=Gn.DOCUMENT_FRAGMENT_NODE=11,jB=Gn.NOTATION_NODE=12,sn={},Mr={};sn.INDEX_SIZE_ERR=(Mr[1]="Index size error",1);sn.DOMSTRING_SIZE_ERR=(Mr[2]="DOMString size error",2);var Ln=sn.HIERARCHY_REQUEST_ERR=(Mr[3]="Hierarchy request error",3);sn.WRONG_DOCUMENT_ERR=(Mr[4]="Wrong document",4);sn.INVALID_CHARACTER_ERR=(Mr[5]="Invalid character",5);sn.NO_DATA_ALLOWED_ERR=(Mr[6]="No data allowed",6);sn.NO_MODIFICATION_ALLOWED_ERR=(Mr[7]="No modification allowed",7);var I4=sn.NOT_FOUND_ERR=(Mr[8]="Not found",8);sn.NOT_SUPPORTED_ERR=(Mr[9]="Not supported",9);var g_=sn.INUSE_ATTRIBUTE_ERR=(Mr[10]="Attribute in use",10);sn.INVALID_STATE_ERR=(Mr[11]="Invalid state",11);sn.SYNTAX_ERR=(Mr[12]="Syntax error",12);sn.INVALID_MODIFICATION_ERR=(Mr[13]="Invalid modification",13);sn.NAMESPACE_ERR=(Mr[14]="Invalid namespace",14);sn.INVALID_ACCESS_ERR=(Mr[15]="Invalid access",15);function hr(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Mr[t]),this.message=Mr[t],Error.captureStackTrace&&Error.captureStackTrace(this,hr);return r.code=t,e&&(this.message=this.message+": "+e),r}hr.prototype=Error.prototype;sh(sn,hr);function cs(){}cs.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)ju(this[i],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function oc(t,e){this._node=t,this._refresh=e,N6(this)}function N6(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(z4(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var i=r.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];sh(r,t),t._inc=e}}oc.prototype.item=function(t){return N6(this),this[t]||null};zn(oc,cs);function Lm(){}function N4(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function v_(t,e,r,i){if(i?e[N4(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var n=t.ownerDocument;n&&(i&&L4(n,t,i),HB(n,t,r))}}function y_(t,e,r){var i=N4(e,r);if(i>=0){for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var a=t.ownerDocument;a&&(L4(a,t,r),r.ownerElement=null)}}else throw new hr(I4,new Error(t.tagName+"@"+r))}Lm.prototype={length:0,item:cs.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new hr(g_);var r=this.getNamedItem(t.nodeName);return v_(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new hr(g_);return r=this.getNamedItemNS(t.namespaceURI,t.localName),v_(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return y_(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return y_(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function O4(){}O4.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var i=new oh;if(i.implementation=this,i.childNodes=new cs,i.doctype=r||null,r&&i.appendChild(r),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,r){var i=new Xg;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=r||"",i}};function St(){}St.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Fm(this,t,e)},replaceChild:function(t,e){Fm(this,t,e,M4),e&&this.removeChild(e)},removeChild:function(t){return F4(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return C2(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Rm&&t.nodeType==Rm?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===t)return i}e=e.nodeType==sc?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==sc?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function R4(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}sh(Gn,St);sh(Gn,St.prototype);function bd(t,e){if(e(t))return!0;if(t=t.firstChild)do if(bd(t,e))return!0;while(t=t.nextSibling)}function oh(){this.ownerDocument=this}function HB(t,e,r){t&&t._inc++;var i=r.namespaceURI;i===yd.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function L4(t,e,r,i){t&&t._inc++;var n=r.namespaceURI;n===yd.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function O6(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var n=e.firstChild,a=0;n;)i[a++]=n,n=n.nextSibling;i.length=a,delete i[i.length]}}}function F4(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,O6(t.ownerDocument,t),e}function VB(t){return t&&(t.nodeType===St.DOCUMENT_NODE||t.nodeType===St.DOCUMENT_FRAGMENT_NODE||t.nodeType===St.ELEMENT_NODE)}function zB(t){return t&&(Da(t)||R6(t)||Ts(t)||t.nodeType===St.DOCUMENT_FRAGMENT_NODE||t.nodeType===St.COMMENT_NODE||t.nodeType===St.PROCESSING_INSTRUCTION_NODE)}function Ts(t){return t&&t.nodeType===St.DOCUMENT_TYPE_NODE}function Da(t){return t&&t.nodeType===St.ELEMENT_NODE}function R6(t){return t&&t.nodeType===St.TEXT_NODE}function b_(t,e){var r=t.childNodes||[];if(ka(r,Da)||Ts(e))return!1;var i=ka(r,Ts);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function x_(t,e){var r=t.childNodes||[];function i(a){return Da(a)&&a!==e}if(ka(r,i))return!1;var n=ka(r,Ts);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function GB(t,e,r){if(!VB(t))throw new hr(Ln,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new hr(I4,"child not in parent");if(!zB(e)||Ts(e)&&t.nodeType!==St.DOCUMENT_NODE)throw new hr(Ln,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function qB(t,e,r){var i=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===St.DOCUMENT_FRAGMENT_NODE){var a=n.filter(Da);if(a.length>1||ka(n,R6))throw new hr(Ln,"More than one element or text in fragment");if(a.length===1&&!b_(t,r))throw new hr(Ln,"Element in fragment can not be inserted before doctype")}if(Da(e)&&!b_(t,r))throw new hr(Ln,"Only one element can be added and only after doctype");if(Ts(e)){if(ka(i,Ts))throw new hr(Ln,"Only one doctype is allowed");var s=ka(i,Da);if(r&&i.indexOf(s)<i.indexOf(r))throw new hr(Ln,"Doctype can only be inserted before an element");if(!r&&s)throw new hr(Ln,"Doctype can not be appended since element is present")}}function M4(t,e,r){var i=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===St.DOCUMENT_FRAGMENT_NODE){var a=n.filter(Da);if(a.length>1||ka(n,R6))throw new hr(Ln,"More than one element or text in fragment");if(a.length===1&&!x_(t,r))throw new hr(Ln,"Element in fragment can not be inserted before doctype")}if(Da(e)&&!x_(t,r))throw new hr(Ln,"Only one element can be added and only after doctype");if(Ts(e)){let l=function(u){return Ts(u)&&u!==r};var o=l;if(ka(i,l))throw new hr(Ln,"Only one doctype is allowed");var s=ka(i,Da);if(r&&i.indexOf(s)<i.indexOf(r))throw new hr(Ln,"Doctype can only be inserted before an element")}}function Fm(t,e,r,i){GB(t,e,r),t.nodeType===St.DOCUMENT_NODE&&(i||qB)(t,e,r);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===xs){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var o=r?r.previousSibling:t.lastChild;a.previousSibling=o,s.nextSibling=r,o?o.nextSibling=a:t.firstChild=a,r==null?t.lastChild=s:r.previousSibling=s;do a.parentNode=t;while(a!==s&&(a=a.nextSibling));return O6(t.ownerDocument||t,t),e.nodeType==xs&&(e.firstChild=e.lastChild=null),e}function WB(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,O6(t.ownerDocument,t,e),e}oh.prototype={nodeName:"#document",nodeType:k4,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==xs){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return Fm(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Wi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),F4(this,t)},replaceChild:function(t,e){Fm(this,t,e,M4),t.ownerDocument=this,e&&this.removeChild(e),Da(t)&&(this.documentElement=t)},importNode:function(t,e){return V4(this,t,e)},getElementById:function(t){var e=null;return bd(this.documentElement,function(r){if(r.nodeType==Wi&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=m_(t);return new oc(this,function(r){var i=[];return e.length>0&&bd(r.documentElement,function(n){if(n!==r&&n.nodeType===Wi){var a=n.getAttribute("class");if(a){var s=t===a;if(!s){var o=m_(a);s=e.every(BB(o))}s&&i.push(n)}}}),i})},createElement:function(t){var e=new Ql;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new cs;var r=e.attributes=new Lm;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Yg;return t.ownerDocument=this,t.childNodes=new cs,t},createTextNode:function(t){var e=new L6;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new F6;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new M6;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new U6;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new Mm;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new B6;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ql,i=e.split(":"),n=r.attributes=new Lm;return r.childNodes=new cs,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,n._ownerElement=r,r},createAttributeNS:function(t,e){var r=new Mm,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};zn(oh,St);function Ql(){this._nsMap={}}Ql.prototype={nodeType:Wi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===xs?this.insertBefore(t,null):WB(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new oc(this,function(e){var r=[];return bd(e,function(i){i!==e&&i.nodeType==Wi&&(t==="*"||i.tagName==t)&&r.push(i)}),r})},getElementsByTagNameNS:function(t,e){return new oc(this,function(r){var i=[];return bd(r,function(n){n!==r&&n.nodeType===Wi&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&i.push(n)}),i})}};oh.prototype.getElementsByTagName=Ql.prototype.getElementsByTagName;oh.prototype.getElementsByTagNameNS=Ql.prototype.getElementsByTagNameNS;zn(Ql,St);function Mm(){}Mm.prototype.nodeType=sc;zn(Mm,St);function lh(){}lh.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Mr[Ln])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var i=this.data.substring(0,t),n=this.data.substring(t+e);r=i+r+n,this.nodeValue=this.data=r,this.length=r.length}};zn(lh,St);function L6(){}L6.prototype={nodeName:"#text",nodeType:Rm,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};zn(L6,lh);function F6(){}F6.prototype={nodeName:"#comment",nodeType:P4};zn(F6,lh);function M6(){}M6.prototype={nodeName:"#cdata-section",nodeType:S4};zn(M6,lh);function Xg(){}Xg.prototype.nodeType=D4;zn(Xg,St);function B4(){}B4.prototype.nodeType=jB;zn(B4,St);function U4(){}U4.prototype.nodeType=UB;zn(U4,St);function B6(){}B6.prototype.nodeType=A4;zn(B6,St);function Yg(){}Yg.prototype.nodeName="#document-fragment";Yg.prototype.nodeType=xs;zn(Yg,St);function U6(){}U6.prototype.nodeType=C4;zn(U6,St);function j4(){}j4.prototype.serializeToString=function(t,e,r){return H4.call(t,e,r)};St.prototype.toString=H4;function H4(t,e){var r=[],i=this.nodeType==9&&this.documentElement||this,n=i.prefix,a=i.namespaceURI;if(a&&n==null){var n=i.lookupPrefix(a);if(n==null)var s=[{namespace:a,prefix:null}]}return ju(this,r,t,e,s),r.join("")}function T_(t,e,r){var i=t.prefix||"",n=t.namespaceURI;if(!n||i==="xml"&&n===yd.XML||n===yd.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function kv(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,R4),'"')}function ju(t,e,r,i,n){if(n||(n=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Wi:var a=t.attributes,s=a.length,b=t.firstChild,o=t.tagName;r=yd.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){u=a.item(c).value;break}if(!u)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.prefix===""&&d.namespace===t.namespaceURI){u=d.namespace;break}}if(u!==t.namespaceURI)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.namespace===t.namespaceURI){d.prefix&&(l=d.prefix+":"+o);break}}}e.push("<",l);for(var h=0;h<s;h++){var y=a.item(h);y.prefix=="xmlns"?n.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&n.push({prefix:"",namespace:y.value})}for(var h=0;h<s;h++){var y=a.item(h);if(T_(y,r,n)){var m=y.prefix||"",T=y.namespaceURI;kv(e,m?"xmlns:"+m:"xmlns",T),n.push({prefix:m,namespace:T})}ju(y,e,r,i,n)}if(o===l&&T_(t,r,n)){var m=t.prefix||"",T=t.namespaceURI;kv(e,m?"xmlns:"+m:"xmlns",T),n.push({prefix:m,namespace:T})}if(b||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;b;)b.data?e.push(b.data):ju(b,e,r,i,n.slice()),b=b.nextSibling;else for(;b;)ju(b,e,r,i,n.slice()),b=b.nextSibling;e.push("</",l,">")}else e.push("/>");return;case k4:case xs:for(var b=t.firstChild;b;)ju(b,e,r,i,n.slice()),b=b.nextSibling;return;case sc:return kv(e,t.name,t.value);case Rm:return e.push(t.data.replace(/[<&>]/g,R4));case S4:return e.push("<![CDATA[",t.data,"]]>");case P4:return e.push("<!--",t.data,"-->");case D4:var E=t.publicId,A=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),A&&A!="."&&e.push(" ",A),e.push(">");else if(A&&A!=".")e.push(" SYSTEM ",A,">");else{var C=t.internalSubset;C&&e.push(" [",C,"]"),e.push(">")}return;case C4:return e.push("<?",t.target," ",t.data,"?>");case A4:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function V4(t,e,r){var i;switch(e.nodeType){case Wi:i=e.cloneNode(!1),i.ownerDocument=t;case xs:break;case sc:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var n=e.firstChild;n;)i.appendChild(V4(t,n,r)),n=n.nextSibling;return i}function C2(t,e,r){var i=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];typeof a!="object"&&a!=i[n]&&(i[n]=a)}switch(e.childNodes&&(i.childNodes=new cs),i.ownerDocument=t,i.nodeType){case Wi:var s=e.attributes,o=i.attributes=new Lm,l=s.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(C2(t,s.item(u),!0));break;case sc:r=!0}if(r)for(var c=e.firstChild;c;)i.appendChild(C2(t,c,r)),c=c.nextSibling;return i}function z4(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Wi:case xs:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};var SW=t;Object.defineProperty(oc.prototype,"length",{get:function(){return N6(this),this.$$length}}),Object.defineProperty(St.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Wi:case xs:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),z4=function(e,r,i){e["$$"+r]=i}}}catch{}Ro.DocumentType=Xg;Ro.DOMException=hr;Ro.DOMImplementation=O4;Ro.Element=Ql;Ro.Node=St;Ro.NodeList=cs;Ro.XMLSerializer=j4;var Jg={},G4={};(function(t){var e=Cs.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(G4);var j6={},xd=Cs.NAMESPACE,P2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w_=new RegExp("[\\-\\.0-9"+P2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),__=new RegExp("^"+P2.source+w_.source+"*(?::"+P2.source+w_.source+"*)?$"),Xc=0,Ms=1,mu=2,Yc=3,gu=4,vu=5,Jc=6,ip=7;function lc(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,lc)}lc.prototype=new Error;lc.prototype.name=lc.name;function q4(){}q4.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),W4(e,e={}),$B(t,e,r,i,this.errorHandler),i.endDocument()}};function $B(t,e,r,i,n){function a(J){if(J>65535){J-=65536;var le=55296+(J>>10),ee=56320+(J&1023);return String.fromCharCode(le,ee)}else return String.fromCharCode(J)}function s(J){var le=J.slice(1,-1);return Object.hasOwnProperty.call(r,le)?r[le]:le.charAt(0)==="#"?a(parseInt(le.substr(1).replace("x","0x"))):(n.error("entity not found:"+J),J)}function o(J){if(J>m){var le=t.substring(m,J).replace(/&#?\w+;/g,s);d&&l(m),i.characters(le,0,J-m),m=J}}function l(J,le){for(;J>=c&&(le=f.exec(t));)u=le.index,c=u+le[0].length,d.lineNumber++;d.columnNumber=J-u+1}for(var u=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,h=[{currentNSMap:e}],y={},m=0;;){try{var T=t.indexOf("<",m);if(T<0){if(!t.substr(m).match(/^\s*$/)){var b=i.doc,E=b.createTextNode(t.substr(m));b.appendChild(E),i.currentElement=E}return}switch(T>m&&o(T),t.charAt(T+1)){case"/":var re=t.indexOf(">",T+3),A=t.substring(T+2,re).replace(/[ \t\n\r]+$/g,""),C=h.pop();re<0?(A=t.substring(T+2).replace(/[\s<].*/,""),n.error("end tag name: "+A+" is not complete:"+C.tagName),re=T+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),n.error("end tag name: "+A+" maybe not complete"),re=T+1+A.length);var I=C.localNSMap,R=C.tagName==A,L=R||C.tagName&&C.tagName.toLowerCase()==A.toLowerCase();if(L){if(i.endElement(C.uri,C.localName,A),I)for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&i.endPrefixMapping(O);R||n.fatalError("end tag name: "+A+" is not match the current start tagName:"+C.tagName)}else h.push(C);re++;break;case"?":d&&l(T),re=JB(t,T,i);break;case"!":d&&l(T),re=YB(t,T,i,n);break;default:d&&l(T);var W=new $4,H=h[h.length-1].currentNSMap,re=QB(t,T,W,H,s,n),ne=W.length;if(!W.closed&&XB(t,re,W.tagName,y)&&(W.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),d&&ne){for(var oe=E_(d,{}),_e=0;_e<ne;_e++){var ie=W[_e];l(ie.offset),ie.locator=E_(d,{})}i.locator=oe,S_(W,i,H)&&h.push(W),i.locator=d}else S_(W,i,H)&&h.push(W);xd.isHTML(W.uri)&&!W.closed?re=KB(t,re,W.tagName,s,i):re++}}catch(J){if(J instanceof lc)throw J;n.error("element parse error: "+J),re=-1}re>m?m=re:o(Math.max(T,m)+1)}}function E_(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function QB(t,e,r,i,n,a){function s(d,h,y){r.attributeNames.hasOwnProperty(d)&&a.fatalError("Attribute "+d+" redefined"),r.addValue(d,h.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),y)}for(var o,l,u=++e,c=Xc;;){var f=t.charAt(u);switch(f){case"=":if(c===Ms)o=t.slice(e,u),c=Yc;else if(c===mu)c=Yc;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Yc||c===Ms)if(c===Ms&&(a.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),s(o,l,e-1),c=vu;else throw new Error("attribute value no end '"+f+"' match");else if(c==gu)l=t.slice(e,u),s(o,l,e),a.warning('attribute "'+o+'" missed start quot('+f+")!!"),e=u+1,c=vu;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Xc:r.setTagName(t.slice(e,u));case vu:case Jc:case ip:c=ip,r.closed=!0;case gu:case Ms:break;case mu:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Xc&&r.setTagName(t.slice(e,u)),u;case">":switch(c){case Xc:r.setTagName(t.slice(e,u));case vu:case Jc:case ip:break;case gu:case Ms:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case mu:c===mu&&(l=o),c==gu?(a.warning('attribute "'+l+'" missed quot(")!'),s(o,l,e)):((!xd.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case Yc:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(c){case Xc:r.setTagName(t.slice(e,u)),c=Jc;break;case Ms:o=t.slice(e,u),c=mu;break;case gu:var l=t.slice(e,u);a.warning('attribute "'+l+'" missed quot(")!!'),s(o,l,e);case vu:c=Jc;break}else switch(c){case mu:r.tagName,(!xd.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=u,c=Ms;break;case vu:a.warning('attribute space is required"'+o+'"!!');case Jc:c=Ms,e=u;break;case Yc:c=gu,e=u;break;case ip:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function S_(t,e,r){for(var i=t.tagName,n=null,f=t.length;f--;){var a=t[f],s=a.qName,o=a.value,d=s.indexOf(":");if(d>0)var l=a.prefix=s.slice(0,d),u=s.slice(d+1),c=l==="xmlns"&&u;else u=s,l=null,c=s==="xmlns"&&"";a.localName=u,c!==!1&&(n==null&&(n={},W4(r,r={})),r[c]=n[c]=o,a.uri=xd.XMLNS,e.startPrefixMapping(c,o))}for(var f=t.length;f--;){a=t[f];var l=a.prefix;l&&(l==="xml"&&(a.uri=xd.XML),l!=="xmlns"&&(a.uri=r[l||""]))}var d=i.indexOf(":");d>0?(l=t.prefix=i.slice(0,d),u=t.localName=i.slice(d+1)):(l=null,u=t.localName=i);var h=t.uri=r[l||""];if(e.startElement(h,u,i,t),t.closed){if(e.endElement(h,u,i),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=n,!0}function KB(t,e,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var a=t.indexOf("</"+r+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(n.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),n.characters(s,0,s.length),a)}return e+1}function XB(t,e,r,i){var n=i[r];return n==null&&(n=t.lastIndexOf("</"+r+">"),n<e&&(n=t.lastIndexOf("</"+r)),i[r]=n),n<e}function W4(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function YB(t,e,r,i){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(r.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,a-e-9),r.endCDATA(),a+3}var s=ZB(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var f=s[o-1];return r.startDTD(l,u,c),r.endDTD(),f.index+f[0].length}}return-1}function JB(t,e,r){var i=t.indexOf("?>",e);if(i){var n=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function $4(){this.attributeNames={}}$4.prototype={setTagName:function(t){if(!__.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!__.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function ZB(t,e){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);r=n.exec(t);)if(i.push(r),r[1])return i}j6.XMLReader=q4;j6.ParseError=lc;var eU=Cs,tU=Ro,A_=G4,Q4=j6,rU=tU.DOMImplementation,C_=eU.NAMESPACE,nU=Q4.ParseError,iU=Q4.XMLReader;function K4(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function X4(t){this.options=t||{locator:{}}}X4.prototype.parseFromString=function(t,e){var r=this.options,i=new iU,n=r.domBuilder||new uh,a=r.errorHandler,s=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?A_.HTML_ENTITIES:A_.XML_ENTITIES;s&&n.setDocumentLocator(s),i.errorHandler=aU(a,n,s),i.domBuilder=r.domBuilder||n,l&&(o[""]=C_.HTML),o.xml=o.xml||C_.XML;var c=r.normalizeLineEndings||K4;return t&&typeof t=="string"?i.parse(c(t),o,u):i.errorHandler.error("invalid doc source"),n.doc};function aU(t,e,r){if(!t){if(e instanceof uh)return e;t=e}var i={},n=t instanceof Function;r=r||{};function a(s){var o=t[s];!o&&n&&(o=t.length==2?function(l){t(s,l)}:t),i[s]=o&&function(l){o("[xmldom "+s+"]	"+l+k2(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function uh(){this.cdata=!1}function yu(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}uh.prototype={startDocument:function(){this.doc=new rU().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var n=this.doc,a=n.createElementNS(t,r||e),s=i.length;ap(this,a),this.currentElement=a,this.locator&&yu(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=n.createAttributeNS(t,r);this.locator&&yu(i.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&yu(this.locator,r),ap(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=P_.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&yu(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=P_.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&yu(this.locator,i),ap(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,r);this.locator&&yu(this.locator,n),ap(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,k2(this.locator))},error:function(t){console.error("[xmldom error]	"+t,k2(this.locator))},fatalError:function(t){throw new nU(t,this.locator)}};function k2(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function P_(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){uh.prototype[t]=function(){return null}});function ap(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Jg.__DOMHandler=uh;Jg.normalizeLineEndings=K4;Jg.DOMParser=X4;var sU=Jg.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var k_=function(e){return!!e&&typeof e=="object"},vn=function t(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce(function(n,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(n[s])&&Array.isArray(a[s])?n[s]=n[s].concat(a[s]):k_(n[s])&&k_(a[s])?n[s]=t(n[s],a[s]):n[s]=a[s]}),n},{})},Y4=function(e){return Object.keys(e).map(function(r){return e[r]})},oU=function(e,r){for(var i=[],n=e;n<r;n++)i.push(n);return i},Zg=function(e){return e.reduce(function(r,i){return r.concat(i)},[])},J4=function(e){if(!e.length)return[];for(var r=[],i=0;i<e.length;i++)r.push(e[i]);return r},lU=function(e,r){return e.reduce(function(i,n,a){return n[r]&&i.push(a),i},[])},D2=function(e,r){for(var i=0;i<e.length;i++)if(r(e[i]))return i;return-1},uU=function(e,r){return Y4(e.reduce(function(i,n){return n.forEach(function(a){i[r(a)]=a}),i},{}))},uc={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Td=function(e){var r=e.baseUrl,i=r===void 0?"":r,n=e.source,a=n===void 0?"":n,s=e.range,o=s===void 0?"":s,l=e.indexRange,u=l===void 0?"":l,c={uri:a,resolvedUri:Kg(i||"",a)};if(o||u){var f=o||u,d=f.split("-"),h=B.BigInt?B.BigInt(d[0]):parseInt(d[0],10),y=B.BigInt?B.BigInt(d[1]):parseInt(d[1],10);h<Number.MAX_SAFE_INTEGER&&typeof h=="bigint"&&(h=Number(h)),y<Number.MAX_SAFE_INTEGER&&typeof y=="bigint"&&(y=Number(y));var m;typeof y=="bigint"||typeof h=="bigint"?m=B.BigInt(y)-B.BigInt(h)+B.BigInt(1):m=y-h+1,typeof m=="bigint"&&m<Number.MAX_SAFE_INTEGER&&(m=Number(m)),c.byterange={length:m,offset:h}}return c},cU=function(e){var r;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=B.BigInt(e.offset)+B.BigInt(e.length)-B.BigInt(1):r=e.offset+e.length-1,e.offset+"-"+r},D_=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},fU={static:function(e){var r=e.duration,i=e.timescale,n=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=D_(e.endNumber),l=r/n;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:a/l}},dynamic:function(e){var r=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,l=e.periodStart,u=l===void 0?0:l,c=e.minimumUpdatePeriod,f=c===void 0?0:c,d=e.timeShiftBufferDepth,h=d===void 0?1/0:d,y=D_(e.endNumber),m=(r+i)/1e3,T=n+u,b=m+f,E=b-T,A=Math.ceil(E*s/o),C=Math.floor((m-T-h)*s/o),I=Math.floor((m-T)*s/o);return{start:Math.max(0,C),end:typeof y=="number"?y:Math.min(A,I)}}},dU=function(e){return function(r){var i=e.duration,n=e.timescale,a=n===void 0?1:n,s=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+r,duration:i/a,timeline:s,time:r*i}}},H6=function(e){var r=e.type,i=e.duration,n=e.timescale,a=n===void 0?1:n,s=e.periodDuration,o=e.sourceDuration,l=fU[r](e),u=l.start,c=l.end,f=oU(u,c).map(dU(e));if(r==="static"){var d=f.length-1,h=typeof s=="number"?s:o;f[d].duration=h-i/a*d}return f},Z4=function(e){var r=e.baseUrl,i=e.initialization,n=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,l=e.periodStart,u=e.presentationTime,c=e.number,f=c===void 0?0:c,d=e.duration;if(!r)throw new Error(uc.NO_BASE_URL);var h=Td({baseUrl:r,source:n.sourceURL,range:n.range}),y=Td({baseUrl:r,source:r,indexRange:o});if(y.map=h,d){var m=H6(e);m.length&&(y.duration=m[0].duration,y.timeline=m[0].timeline)}else a&&(y.duration=a,y.timeline=l);return y.presentationTime=u||l,y.number=f,[y]},V6=function(e,r,i){var n=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=r.timescale,c=r.references.filter(function(W){return W.referenceType!==1}),f=[],d=e.endList?"static":"dynamic",h=e.sidx.timeline,y=h,m=e.mediaSequence||0,T;typeof r.firstOffset=="bigint"?T=B.BigInt(l)+r.firstOffset:T=l+r.firstOffset;for(var b=0;b<c.length;b++){var E=r.references[b],A=E.referencedSize,C=E.subsegmentDuration,I=void 0;typeof T=="bigint"?I=T+B.BigInt(A)-B.BigInt(1):I=T+A-1;var R=T+"-"+I,L={baseUrl:i,timescale:u,timeline:s,periodStart:h,presentationTime:y,number:m,duration:C,sourceDuration:a,indexRange:R,type:d},O=Z4(L)[0];n&&(O.map=n),f.push(O),typeof T=="bigint"?T+=B.BigInt(A):T+=A,y+=C/u,m++}return e.segments=f,e},hU=["AUDIO","SUBTITLES"],pU=1/60,e3=function(e){return uU(e,function(r){var i=r.timeline;return i}).sort(function(r,i){return r.timeline>i.timeline?1:-1})},mU=function(e,r){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===r)return e[i];return null},I_=function(e){var r=[];return NB(e,hU,function(i,n,a,s){r=r.concat(i.playlists||[])}),r},N_=function(e){var r=e.playlist,i=e.mediaSequence;r.mediaSequence=i,r.segments.forEach(function(n,a){n.number=r.mediaSequence+a})},gU=function(e){var r=e.oldPlaylists,i=e.newPlaylists,n=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=D2(n,function(c){var f=c.timeline;return f===a.timeline});var s=mU(r,a.attributes.NAME);if(s&&!a.sidx){var o=a.segments[0],l=D2(s.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<pU});if(l===-1){N_({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var u=s.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),N_({playlist:a,mediaSequence:s.segments[l].number})}})},vU=function(e){var r=e.oldManifest,i=e.newManifest,n=r.playlists.concat(I_(r)),a=i.playlists.concat(I_(i));return i.timelineStarts=e3([r.timelineStarts,i.timelineStarts]),gU({oldPlaylists:n,newPlaylists:a,timelineStarts:i.timelineStarts}),i},e1=function(e){return e&&e.uri+"-"+cU(e.byterange)},Dv=function(e){var r=Y4(e.reduce(function(i,n){var a=n.attributes.id+(n.attributes.lang||"");if(!i[a])i[a]=n,i[a].attributes.timelineStarts=[];else{if(n.segments){var s;n.segments[0]&&(n.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,n.segments)}n.attributes.contentProtection&&(i[a].attributes.contentProtection=n.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:n.attributes.periodStart,timeline:n.attributes.periodStart}),i},{}));return r.map(function(i){return i.discontinuityStarts=lU(i.segments||[],"discontinuity"),i})},z6=function(e,r){var i=e1(e.sidx),n=i&&r[i]&&r[i].sidx;return n&&V6(e,n,e.sidx.resolvedUri),e},yU=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var i in e)e[i]=z6(e[i],r);return e},bU=function(e,r){var i,n=e.attributes,a=e.segments,s=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:o,segments:a};return n.contentProtection&&(c.contentProtection=n.contentProtection),s&&(c.sidx=s),r&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},xU=function(e){var r,i=e.attributes,n=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,o=e.discontinuitySequence;typeof n>"u"&&(n=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var l=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(l.CODECS=i.codecs),{attributes:l,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:n}},TU=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var n,a=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",f=l.attributes.label||"main";if(c&&!l.attributes.label){var d=u?" ("+u+")":"";f=""+l.attributes.lang+d}o[f]||(o[f]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var h=z6(bU(l,i),r);return o[f].playlists.push(h),typeof n>"u"&&u==="main"&&(n=l,n.default=!0),o},{});if(!n){var s=Object.keys(a)[0];a[s].default=!0}return a},wU=function(e,r){return r===void 0&&(r={}),e.reduce(function(i,n){var a=n.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(z6(xU(n),r)),i},{})},_U=function(e){return e.reduce(function(r,i){return i&&i.forEach(function(n){var a=n.channel,s=n.language;r[s]={autoselect:!1,default:!1,instreamId:a,language:s},n.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(r[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(r[s]["3D"]=n["3D"])}),r},{})},EU=function(e){var r,i=e.attributes,n=e.segments,a=e.sidx,s=e.discontinuityStarts,o={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:n};return i.frameRate&&(o.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(o.contentProtection=i.contentProtection),a&&(o.sidx=a),o},SU=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},AU=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},CU=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},PU=function(e,r){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=D2(r,function(n){var a=n.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(n,a){n.number=a})})},O_=function(e){return e?Object.keys(e).reduce(function(r,i){var n=e[i];return r.concat(n.playlists)},[]):[]},kU=function(e){var r,i=e.dashPlaylists,n=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,o=e.previousManifest;if(!i.length)return{};var l=i[0].attributes,u=l.sourceDuration,c=l.type,f=l.suggestedPresentationDelay,d=l.minimumUpdatePeriod,h=Dv(i.filter(SU)).map(EU),y=Dv(i.filter(AU)),m=Dv(i.filter(CU)),T=i.map(function(L){return L.attributes.captionServices}).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:u,playlists:yU(h,s)};d>=0&&(b.minimumUpdatePeriod=d*1e3),n&&(b.locations=n),c==="dynamic"&&(b.suggestedPresentationDelay=f);var E=b.playlists.length===0,A=y.length?TU(y,s,E):null,C=m.length?wU(m,s):null,I=h.concat(O_(A),O_(C)),R=I.map(function(L){var O=L.timelineStarts;return O});return b.timelineStarts=e3(R),PU(I,b.timelineStarts),A&&(b.mediaGroups.AUDIO.audio=A),C&&(b.mediaGroups.SUBTITLES.subs=C),T.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=_U(T)),o?vU({oldManifest:o,newManifest:b}):b},DU=function(e,r,i){var n=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,c=u===void 0?0:u,f=e.minimumUpdatePeriod,d=f===void 0?0:f,h=(n+a)/1e3,y=s+c,m=h+d,T=m-y;return Math.ceil((T*l-r)/i)},t3=function(e,r){for(var i=e.type,n=e.minimumUpdatePeriod,a=n===void 0?0:n,s=e.media,o=s===void 0?"":s,l=e.sourceDuration,u=e.timescale,c=u===void 0?1:u,f=e.startNumber,d=f===void 0?1:f,h=e.periodStart,y=[],m=-1,T=0;T<r.length;T++){var b=r[T],E=b.d,A=b.r||0,C=b.t||0;m<0&&(m=C),C&&C>m&&(m=C);var I=void 0;if(A<0){var R=T+1;R===r.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?I=DU(e,m,E):I=(l*c-m)/E:I=(r[R].t-m)/E}else I=A+1;for(var L=d+y.length+I,O=d+y.length;O<L;)y.push({number:O,duration:E/c,time:m,timeline:h}),m+=E,O++}return y},IU=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,NU=function(e){return function(r,i,n,a){if(r==="$$")return"$";if(typeof e[i]>"u")return r;var s=""+e[i];return i==="RepresentationID"||(n?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},R_=function(e,r){return e.replace(IU,NU(r))},OU=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?H6(e):t3(e,r)},RU=function(e,r){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,a=n===void 0?{sourceURL:"",range:""}:n,s=Td({baseUrl:e.baseUrl,source:R_(a.sourceURL,i),range:a.range}),o=OU(e,r);return o.map(function(l){i.Number=l.number,i.Time=l.time;var u=R_(e.media||"",i),c=e.timescale||1,f=e.presentationTimeOffset||0,d=e.periodStart+(l.time-f)/c,h={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:Kg(e.baseUrl||"",u),map:s,number:l.number,presentationTime:d};return h})},LU=function(e,r){var i=e.baseUrl,n=e.initialization,a=n===void 0?{}:n,s=Td({baseUrl:i,source:a.sourceURL,range:a.range}),o=Td({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},FU=function(e,r){var i=e.duration,n=e.segmentUrls,a=n===void 0?[]:n,s=e.periodStart;if(!i&&!r||i&&r)throw new Error(uc.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(c){return LU(e,c)}),l;i&&(l=H6(e)),r&&(l=t3(e,r));var u=l.map(function(c,f){if(o[f]){var d=o[f],h=e.timescale||1,y=e.presentationTimeOffset||0;return d.timeline=c.timeline,d.duration=c.duration,d.number=c.number,d.presentationTime=s+(c.time-y)/h,d}}).filter(function(c){return c});return u},MU=function(e){var r=e.attributes,i=e.segmentInfo,n,a;i.template?(a=RU,n=vn(r,i.template)):i.base?(a=Z4,n=vn(r,i.base)):i.list&&(a=FU,n=vn(r,i.list));var s={attributes:r};if(!a)return s;var o=a(n,i.segmentTimeline);if(n.duration){var l=n,u=l.duration,c=l.timescale,f=c===void 0?1:c;n.duration=u/f}else o.length?n.duration=o.reduce(function(d,h){return Math.max(d,Math.ceil(h.duration))},0):n.duration=0;return s.attributes=n,s.segments=o,i.base&&n.indexRange&&(s.sidx=o[0],s.segments=[]),s},BU=function(e){return e.map(MU)},lr=function(e,r){return J4(e.childNodes).filter(function(i){var n=i.tagName;return n===r})},G6=function(e){return e.textContent.trim()},UU=function(e){return parseFloat(e.split("/").reduce(function(r,i){return r/i}))},bu=function(e){var r=31536e3,i=30*24*60*60,n=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),c=u[0],f=u[1],d=u[2],h=u[3],y=u[4],m=u[5];return parseFloat(c||0)*r+parseFloat(f||0)*i+parseFloat(d||0)*n+parseFloat(h||0)*a+parseFloat(y||0)*s+parseFloat(m||0)},jU=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},L_={mediaPresentationDuration:function(e){return bu(e)},availabilityStartTime:function(e){return jU(e)/1e3},minimumUpdatePeriod:function(e){return bu(e)},suggestedPresentationDelay:function(e){return bu(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return bu(e)},start:function(e){return bu(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return UU(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?bu(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Jr=function(e){return e&&e.attributes?J4(e.attributes).reduce(function(r,i){var n=L_[i.name]||L_.DEFAULT;return r[i.name]=n(i.value),r},{}):{}},HU={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},t1=function(e,r){return r.length?Zg(e.map(function(i){return r.map(function(n){return Kg(i,G6(n))})})):e},q6=function(e){var r=lr(e,"SegmentTemplate")[0],i=lr(e,"SegmentList")[0],n=i&&lr(i,"SegmentURL").map(function(d){return vn({tag:"SegmentURL"},Jr(d))}),a=lr(e,"SegmentBase")[0],s=i||r,o=s&&lr(s,"SegmentTimeline")[0],l=i||a||r,u=l&&lr(l,"Initialization")[0],c=r&&Jr(r);c&&u?c.initialization=u&&Jr(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var f={template:c,segmentTimeline:o&&lr(o,"S").map(function(d){return Jr(d)}),list:i&&vn(Jr(i),{segmentUrls:n,initialization:Jr(u)}),base:a&&vn(Jr(a),{initialization:Jr(u)})};return Object.keys(f).forEach(function(d){f[d]||delete f[d]}),f},VU=function(e,r,i){return function(n){var a=lr(n,"BaseURL"),s=t1(r,a),o=vn(e,Jr(n)),l=q6(n);return s.map(function(u){return{segmentInfo:vn(i,l),attributes:vn(o,{baseUrl:u})}})}},zU=function(e){return e.reduce(function(r,i){var n=Jr(i);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var a=HU[n.schemeIdUri];if(a){r[a]={attributes:n};var s=lr(i,"cenc:pssh")[0];if(s){var o=G6(s);r[a].pssh=o&&g4(o)}}return r},{})},GU=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(n){var a,s;if(s=n,/^CC\d=/.test(n)){var o=n.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(n)&&(a=n);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(n){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var s=n.split("="),o=s[0],l=s[1],u=l===void 0?"":l;a.channel=o,a.language=n,u.split(",").forEach(function(c){var f=c.split(":"),d=f[0],h=f[1];d==="lang"?a.language=h:d==="er"?a.easyReader=Number(h):d==="war"?a.aspectRatio=Number(h):d==="3D"&&(a["3D"]=Number(h))})}else a.language=n;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},qU=function(e,r,i){return function(n){var a=Jr(n),s=t1(r,lr(n,"BaseURL")),o=lr(n,"Role")[0],l={role:Jr(o)},u=vn(e,a,l),c=lr(n,"Accessibility")[0],f=GU(Jr(c));f&&(u=vn(u,{captionServices:f}));var d=lr(n,"Label")[0];if(d&&d.childNodes.length){var h=d.childNodes[0].nodeValue.trim();u=vn(u,{label:h})}var y=zU(lr(n,"ContentProtection"));Object.keys(y).length&&(u=vn(u,{contentProtection:y}));var m=q6(n),T=lr(n,"Representation"),b=vn(i,m);return Zg(T.map(VU(u,s,b)))}},WU=function(e,r){return function(i,n){var a=t1(r,lr(i.node,"BaseURL")),s=vn(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var o=lr(i.node,"AdaptationSet"),l=q6(i.node);return Zg(o.map(qU(s,a,l)))}},$U=function(e){var r=e.attributes,i=e.priorPeriodAttributes,n=e.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&n==="static"?0:null},QU=function(e,r){r===void 0&&(r={});var i=r,n=i.manifestUri,a=n===void 0?"":n,s=i.NOW,o=s===void 0?Date.now():s,l=i.clientOffset,u=l===void 0?0:l,c=lr(e,"Period");if(!c.length)throw new Error(uc.INVALID_NUMBER_OF_PERIOD);var f=lr(e,"Location"),d=Jr(e),h=t1([a],lr(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=u,f.length&&(d.locations=f.map(G6));var y=[];return c.forEach(function(m,T){var b=Jr(m),E=y[T-1];b.start=$U({attributes:b,priorPeriodAttributes:E?E.attributes:null,mpdType:d.type}),y.push({node:m,attributes:b})}),{locations:d.locations,representationInfo:Zg(y.map(WU(d,h)))}},r3=function(e){if(e==="")throw new Error(uc.DASH_EMPTY_MANIFEST);var r=new sU,i,n;try{i=r.parseFromString(e,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(uc.DASH_INVALID_XML);return n},KU=function(e){var r=lr(e,"UTCTiming")[0];if(!r)return null;var i=Jr(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(uc.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},XU=function(e,r){r===void 0&&(r={});var i=QU(r3(e),r),n=BU(i.representationInfo);return kU({dashPlaylists:n,locations:i.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},YU=function(e){return KU(r3(e))},n3=Math.pow(2,32),JU=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*n3+e.getUint32(4)},ZU={getUint64:JU,MAX_UINT32:n3},F_=ZU.getUint64,ej=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=F_(t.subarray(i)),r.firstOffset=F_(t.subarray(i+8)),i+=16),i+=2;var n=e.getUint16(i);for(i+=2;n>0;i+=12,n--)r.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},tj=ej;const rj=Es(tj);var nj=ze([73,68,51]),ij=function(e,r){r===void 0&&(r=0),e=ze(e);var i=e[r+5],n=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],a=(i&16)>>4;return a?n+20:n+10},yf=function t(e,r){return r===void 0&&(r=0),e=ze(e),e.length-r<10||!Qt(e,nj,{offset:r})?r:(r+=ij(e,r),t(e,r))},M_=function(e){return typeof e=="string"?T4(e):e},aj=function(e){return Array.isArray(e)?e.map(function(r){return M_(r)}):[M_(e)]},sj=function t(e,r,i){i===void 0&&(i=!1),r=aj(r),e=ze(e);var n=[];if(!r.length)return n;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var l=a+s;if(l>e.length){if(i)break;l=e.length}var u=e.subarray(a+8,l);Qt(o,r[0])&&(r.length===1?n.push(u):n.push.apply(n,t(u,r.slice(1),i))),a=l}return n},sp={EBML:ze([26,69,223,163]),DocType:ze([66,130]),Segment:ze([24,83,128,103]),SegmentInfo:ze([21,73,169,102]),Tracks:ze([22,84,174,107]),Track:ze([174]),TrackNumber:ze([215]),DefaultDuration:ze([35,227,131]),TrackEntry:ze([174]),TrackType:ze([131]),FlagDefault:ze([136]),CodecID:ze([134]),CodecPrivate:ze([99,162]),VideoTrack:ze([224]),AudioTrack:ze([225]),Cluster:ze([31,67,182,117]),Timestamp:ze([231]),TimestampScale:ze([42,215,177]),BlockGroup:ze([160]),BlockDuration:ze([155]),Block:ze([161]),SimpleBlock:ze([163])},I2=[128,64,32,16,8,4,2,1],oj=function(e){for(var r=1,i=0;i<I2.length&&!(e&I2[i]);i++)r++;return r},Bm=function(e,r,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var a=oj(e[r]),s=e.subarray(r,r+a);return i&&(s=Array.prototype.slice.call(e,r,r+a),s[0]^=I2[a-1]),{length:a,value:kB(s,{signed:n}),bytes:s}},B_=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?DB(e):e},lj=function(e){return Array.isArray(e)?e.map(function(r){return B_(r)}):[B_(e)]},uj=function t(e,r,i){if(i>=r.length)return r.length;var n=Bm(r,i,!1);if(Qt(e.bytes,n.bytes))return i;var a=Bm(r,i+n.length);return t(e,r,i+a.length+a.value+n.length)},U_=function t(e,r){r=lj(r),e=ze(e);var i=[];if(!r.length)return i;for(var n=0;n<e.length;){var a=Bm(e,n,!1),s=Bm(e,n+a.length),o=n+a.length+s.length;s.value===127&&(s.value=uj(a,e,o),s.value!==e.length&&(s.value-=o));var l=o+s.value>e.length?e.length:o+s.value,u=e.subarray(o,l);Qt(r[0],a.bytes)&&(r.length===1?i.push(u):i=i.concat(t(u,r.slice(1))));var c=a.length+s.length+u.length;n+=c}return i},cj=ze([0,0,0,1]),fj=ze([0,0,1]),dj=ze([0,0,3]),hj=function(e){for(var r=[],i=1;i<e.length-2;)Qt(e.subarray(i,i+3),dj)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var n=e.length-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=e[s];return a},i3=function(e,r,i,n){n===void 0&&(n=1/0),e=ze(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<n||s);){var l=void 0;if(Qt(e.subarray(a),cj)?l=4:Qt(e.subarray(a),fj)&&(l=3),!l){a++;continue}if(o++,s)return hj(e.subarray(s,a));var u=void 0;r==="h264"?u=e[a+l]&31:r==="h265"&&(u=e[a+l]>>1&63),i.indexOf(u)!==-1&&(s=a+l),a+=l+(r==="h264"?1:2)}return e.subarray(0,0)},pj=function(e,r,i){return i3(e,"h264",r,i)},mj=function(e,r,i){return i3(e,"h265",r,i)},cn={webm:ze([119,101,98,109]),matroska:ze([109,97,116,114,111,115,107,97]),flac:ze([102,76,97,67]),ogg:ze([79,103,103,83]),ac3:ze([11,119]),riff:ze([82,73,70,70]),avi:ze([65,86,73]),wav:ze([87,65,86,69]),"3gp":ze([102,116,121,112,51,103]),mp4:ze([102,116,121,112]),fmp4:ze([115,116,121,112]),mov:ze([102,116,121,112,113,116]),moov:ze([109,111,111,118]),moof:ze([109,111,111,102])},cc={aac:function(e){var r=yf(e);return Qt(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=yf(e);return Qt(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=U_(e,[sp.EBML,sp.DocType])[0];return Qt(r,cn.webm)},mkv:function(e){var r=U_(e,[sp.EBML,sp.DocType])[0];return Qt(r,cn.matroska)},mp4:function(e){if(cc["3gp"](e)||cc.mov(e))return!1;if(Qt(e,cn.mp4,{offset:4})||Qt(e,cn.fmp4,{offset:4})||Qt(e,cn.moof,{offset:4})||Qt(e,cn.moov,{offset:4}))return!0},mov:function(e){return Qt(e,cn.mov,{offset:4})},"3gp":function(e){return Qt(e,cn["3gp"],{offset:4})},ac3:function(e){var r=yf(e);return Qt(e,cn.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=yf(e);return Qt(e,cn.flac,{offset:r})},ogg:function(e){return Qt(e,cn.ogg)},avi:function(e){return Qt(e,cn.riff)&&Qt(e,cn.avi,{offset:8})},wav:function(e){return Qt(e,cn.riff)&&Qt(e,cn.wav,{offset:8})},h264:function(e){return pj(e,7,3).length},h265:function(e){return mj(e,[32,33],3).length}},N2=Object.keys(cc).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);N2.forEach(function(t){var e=cc[t];cc[t]=function(r){return e(ze(r))}});var gj=cc,W6=function(e){e=ze(e);for(var r=0;r<N2.length;r++){var i=N2[r];if(gj[i](e))return i}return""},vj=function(e){return sj(e,["moof"]).length>0},$6=9e4,Q6,K6,r1,X6,a3,s3,o3;Q6=function(t){return t*$6};K6=function(t,e){return t*e};r1=function(t){return t/$6};X6=function(t,e){return t/e};a3=function(t,e){return Q6(X6(t,e))};s3=function(t,e){return K6(r1(t),e)};o3=function(t,e,r){return r1(r?t:t-e)};var Um={ONE_SECOND_IN_TS:$6,secondsToVideoTs:Q6,secondsToAudioTs:K6,videoTsToSeconds:r1,audioTsToSeconds:X6,audioTsToVideoTs:a3,videoTsToAudioTs:s3,metadataTsToSeconds:o3};function O2(t){return O2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O2(t)}function yj(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function R2(t){var e=typeof Map=="function"?new Map:void 0;return R2=function(i){if(i===null||!yj(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return Lf(i,arguments,O2(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ac(n,i)},R2(t)}/**
 * @license
 * Video.js 7.21.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var l3="7.21.5",rs={},Ao=function(e,r){return rs[e]=rs[e]||[],r&&(rs[e]=rs[e].concat(r)),rs[e]},bj=function(e,r){Ao(e,r)},u3=function(e,r){var i=Ao(e).indexOf(r);return i<=-1?!1:(rs[e]=rs[e].slice(),rs[e].splice(i,1),!0)},xj=function(e,r){Ao(e,[].concat(r).map(function(i){var n=function a(){return u3(e,a),i.apply(void 0,arguments)};return n}))},jm={prefixed:!0},Bp=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],j_=Bp[0],bf;for(var op=0;op<Bp.length;op++)if(Bp[op][1]in ye){bf=Bp[op];break}if(bf){for(var lp=0;lp<bf.length;lp++)jm[j_[lp]]=bf[lp];jm.prefixed=bf[0]!==j_[0]}var In=[],Tj=function(e,r){return function(i,n,a){var s=r.levels[n],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),In){In.push([].concat(a));var l=In.length-1e3;In.splice(0,l>0?l:0)}if(B.console){var u=B.console[i];!u&&i==="debug"&&(u=B.console.info||B.console.log),!(!u||!s||!o.test(i))&&u[Array.isArray(a)?"apply":"call"](B.console,a)}}};function c3(t){var e="info",r,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r("log",e,s)};return r=Tj(t,i),i.createLogger=function(n){return c3(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(n){if(typeof n=="string"){if(!i.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');e=n}return e},i.history=function(){return In?[].concat(In):[]},i.history.filter=function(n){return(In||[]).filter(function(a){return new RegExp(".*"+n+".*").test(a[0])})},i.history.clear=function(){In&&(In.length=0)},i.history.disable=function(){In!==null&&(In.length=0,In=null)},i.history.enable=function(){In===null&&(In=[])},i.error=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("error",e,a)},i.warn=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("warn",e,a)},i.debug=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("debug",e,a)},i}var nt=c3("VIDEOJS"),f3=nt.createLogger,wj=Object.prototype.toString,d3=function(e){return ws(e)?Object.keys(e):[]};function t0(t,e){d3(t).forEach(function(r){return e(t[r],r)})}function _j(t,e,r){return r===void 0&&(r=0),d3(t).reduce(function(i,n){return e(i,t[n],n)},r)}function ar(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?Pi.apply(void 0,[t].concat(r)):(r.forEach(function(n){n&&t0(n,function(a,s){t[s]=a})}),t)}function ws(t){return!!t&&typeof t=="object"}function wd(t){return ws(t)&&wj.call(t)==="[object Object]"&&t.constructor===Object}function _d(t,e){if(!t||!e)return"";if(typeof B.getComputedStyle=="function"){var r;try{r=B.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var Fr=B.navigator&&B.navigator.userAgent||"",H_=/AppleWebKit\/([\d.]+)/i.exec(Fr),Ej=H_?parseFloat(H_.pop()):null,h3=/iPod/i.test(Fr),Sj=function(){var t=Fr.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Ps=/Android/i.test(Fr),Y6=function(){var t=Fr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat(t[1]+"."+t[2]):e||null}(),p3=Ps&&Y6<5&&Ej<537,m3=/Firefox/i.test(Fr),ch=/Edg/i.test(Fr),ks=!ch&&(/Chrome/i.test(Fr)||/CriOS/i.test(Fr)),g3=function(){var t=Fr.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),fh=function(){var t=/MSIE\s(\d+)\.\d/.exec(Fr),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Fr)&&/rv:11.0/.test(Fr)&&(e=11),e}(),J6=/Safari/i.test(Fr)&&!ks&&!Ps&&!ch,v3=/Windows/i.test(Fr),fc=!!(Ec()&&("ontouchstart"in B||B.navigator.maxTouchPoints||B.DocumentTouch&&B.document instanceof B.DocumentTouch)),Z6=/iPad/i.test(Fr)||J6&&fc&&!/iPhone/i.test(Fr),e5=/iPhone/i.test(Fr)&&!Z6,Sn=e5||Z6||h3,n1=(J6||Sn)&&!ks,Aj=Object.freeze({__proto__:null,IS_IPOD:h3,IOS_VERSION:Sj,IS_ANDROID:Ps,ANDROID_VERSION:Y6,IS_NATIVE_ANDROID:p3,IS_FIREFOX:m3,IS_EDGE:ch,IS_CHROME:ks,CHROME_VERSION:g3,IE_VERSION:fh,IS_SAFARI:J6,IS_WINDOWS:v3,TOUCH_ENABLED:fc,IS_IPAD:Z6,IS_IPHONE:e5,IS_IOS:Sn,IS_ANY_SAFARI:n1});function V_(t){return typeof t=="string"&&!!t.trim()}function y3(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Cj(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Ec(){return ye===B.document}function Sc(t){return ws(t)&&t.nodeType===1}function b3(){try{return B.parent!==B.self}catch{return!0}}function x3(t){return function(e,r){if(!V_(e))return ye[t](null);V_(r)&&(r=ye.querySelector(r));var i=Sc(r)?r:ye;return i[t]&&i[t](e)}}function ft(t,e,r,i){t===void 0&&(t="div"),e===void 0&&(e={}),r===void 0&&(r={});var n=ye.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(nt.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),n.setAttribute(a,s)):a==="textContent"?tu(n,s):(n[a]!==s||a==="tabIndex")&&(n[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){n.setAttribute(a,r[a])}),i&&r5(n,i),n}function tu(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function L2(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Rl(t,e){return y3(e),t.classList?t.classList.contains(e):Cj(e).test(t.className)}function fs(t,e){return t.classList?t.classList.add(e):Rl(t,e)||(t.className=(t.className+" "+e).trim()),t}function dh(t,e){return t?(t.classList?t.classList.remove(e):(y3(e),t.className=t.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),t):(nt.warn("removeClass was called with an element that doesn't exist"),null)}function T3(t,e,r){var i=Rl(t,e);if(typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=!i),r!==i)return r?fs(t,e):dh(t,e),t}function w3(t,e){Object.getOwnPropertyNames(e).forEach(function(r){var i=e[r];i===null||typeof i>"u"||i===!1?t.removeAttribute(r):t.setAttribute(r,i===!0?"":i)})}function Ba(t){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,n=i.length-1;n>=0;n--){var a=i[n].name,s=i[n].value;(typeof t[a]=="boolean"||r.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function _3(t,e){return t.getAttribute(e)}function dc(t,e,r){t.setAttribute(e,r)}function i1(t,e){t.removeAttribute(e)}function E3(){ye.body.focus(),ye.onselectstart=function(){return!1}}function S3(){ye.onselectstart=function(){return!0}}function hc(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(_d(t,"height"))),r.width||(r.width=parseFloat(_d(t,"width"))),r}}function Ed(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,r=t.offsetHeight,i=0,n=0;t.offsetParent&&t!==ye[jm.fullscreenElement];)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:i,top:n,width:e,height:r}}function a1(t,e){var r={x:0,y:0};if(Sn)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var n=_d(i,"transform");if(/^matrix/.test(n)){var a=n.slice(7,-1).split(/,\s/).map(Number);r.x+=a[4],r.y+=a[5]}else if(/^matrix3d/.test(n)){var s=n.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},l=Ed(e.target),u=Ed(t),c=u.width,f=u.height,d=e.offsetY-(u.top-l.top),h=e.offsetX-(u.left-l.left);return e.changedTouches&&(h=e.changedTouches[0].pageX-u.left,d=e.changedTouches[0].pageY+u.top,Sn&&(h-=r.x,d-=r.y)),o.y=1-Math.max(0,Math.min(1,d/f)),o.x=Math.max(0,Math.min(1,h/c)),o}function A3(t){return ws(t)&&t.nodeType===3}function t5(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function C3(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Sc(e)||A3(e))return e;if(typeof e=="string"&&/\S/.test(e))return ye.createTextNode(e)}).filter(function(e){return e})}function r5(t,e){return C3(e).forEach(function(r){return t.appendChild(r)}),t}function P3(t,e){return r5(t5(t),e)}function Sd(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Co=x3("querySelector"),k3=x3("querySelectorAll"),D3=Object.freeze({__proto__:null,isReal:Ec,isEl:Sc,isInFrame:b3,createEl:ft,textContent:tu,prependTo:L2,hasClass:Rl,addClass:fs,removeClass:dh,toggleClass:T3,setAttributes:w3,getAttributes:Ba,getAttribute:_3,setAttribute:dc,removeAttribute:i1,blockTextSelection:E3,unblockTextSelection:S3,getBoundingClientRect:hc,findPosition:Ed,getPointerPosition:a1,isTextNode:A3,emptyEl:t5,normalizeContent:C3,appendContent:r5,insertContent:P3,isSingleLeftClick:Sd,$:Co,$$:k3}),I3=!1,F2,Pj=function(){if(F2.options.autoSetup!==!1){var e=Array.prototype.slice.call(ye.getElementsByTagName("video")),r=Array.prototype.slice.call(ye.getElementsByTagName("audio")),i=Array.prototype.slice.call(ye.getElementsByTagName("video-js")),n=e.concat(r,i);if(n&&n.length>0)for(var a=0,s=n.length;a<s;a++){var o=n[a];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&F2(o)}}else{M2(1);break}}else I3||M2(1)}};function M2(t,e){Ec()&&(e&&(F2=e),B.setTimeout(Pj,t))}function B2(){I3=!0,B.removeEventListener("load",B2)}Ec()&&(ye.readyState==="complete"?B2():B.addEventListener("load",B2));var N3=function(e){var r=ye.createElement("style");return r.className=e,r},O3=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},kj=3,Dj=kj;function Ds(){return Dj++}var R3;B.WeakMap||(R3=function(){function t(){this.vdata="vdata"+Math.floor(B.performance&&B.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,n){var a=i[this.vdata]||Ds();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=n,this},e.get=function(i){var n=i[this.vdata];if(n)return this.data[n];nt("We have no data for this element",i)},e.has=function(i){var n=i[this.vdata];return n in this.data},e.delete=function(i){var n=i[this.vdata];n&&(delete this.data[n],delete i[this.vdata])},t}());var yn=B.WeakMap?new WeakMap:new R3;function z_(t,e){if(yn.has(t)){var r=yn.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&yn.delete(t)}}function n5(t,e,r,i){r.forEach(function(n){t(e,n,i)})}function s1(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||B.event;t={};for(var n in i)n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&n!=="path"&&(n==="returnValue"&&i.preventDefault||(t[n]=i[n]));if(t.target||(t.target=t.srcElement||ye),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){var a=ye.documentElement,s=ye.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var up,Ij=function(){if(typeof up!="boolean"){up=!1;try{var e=Object.defineProperty({},"passive",{get:function(){up=!0}});B.addEventListener("test",null,e),B.removeEventListener("test",null,e)}catch{}}return up},Nj=["touchstart","touchmove"];function si(t,e,r){if(Array.isArray(e))return n5(si,t,e,r);yn.has(t)||yn.set(t,{});var i=yn.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=Ds()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=s1(a);var o=i.handlers[a.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!a.isImmediatePropagationStopped();u++)try{l[u].call(t,a,s)}catch(f){nt.error(f)}}}),i.handlers[e].length===1)if(t.addEventListener){var n=!1;Ij()&&Nj.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,i.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function nn(t,e,r){if(yn.has(t)){var i=yn.get(t);if(i.handlers){if(Array.isArray(e))return n5(nn,t,e,r);var n=function(u,c){i.handlers[c]=[],z_(u,c)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&n(t,a);return}var s=i.handlers[e];if(s){if(!r){n(t,e);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);z_(t,e)}}}}function Ac(t,e,r){var i=yn.has(t)?yn.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=s1(e),i.dispatcher&&i.dispatcher.call(t,e,r),n&&!e.isPropagationStopped()&&e.bubbles===!0)Ac.call(null,n,e,r);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){yn.has(e.target)||yn.set(e.target,{});var a=yn.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function o1(t,e,r){if(Array.isArray(e))return n5(o1,t,e,r);var i=function n(){nn(t,e,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||Ds(),si(t,e,i)}function L3(t,e,r){var i=function n(){nn(t,e,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||Ds(),si(t,e,i)}var Oj=Object.freeze({__proto__:null,fixEvent:s1,on:si,off:nn,trigger:Ac,one:o1,any:L3}),Yi=30,zt=function(e,r,i){r.guid||(r.guid=Ds());var n=r.bind(e);return n.guid=i?i+"_"+r.guid:r.guid,n},_s=function(e,r){var i=B.performance.now(),n=function(){var s=B.performance.now();s-i>=r&&(e.apply(void 0,arguments),i=s)};return n},Rj=function(e,r,i,n){n===void 0&&(n=B);var a,s=function(){n.clearTimeout(a),a=null},o=function(){var u=this,c=arguments,f=function(){a=null,f=null,i||e.apply(u,c)};!a&&i&&e.apply(u,c),n.clearTimeout(a),a=n.setTimeout(f,r)};return o.cancel=s,o},Br=function(){};Br.prototype.allowedEvents_={};Br.prototype.on=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},si(this,t,e),this.addEventListener=r};Br.prototype.addEventListener=Br.prototype.on;Br.prototype.off=function(t,e){nn(this,t,e)};Br.prototype.removeEventListener=Br.prototype.off;Br.prototype.one=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},o1(this,t,e),this.addEventListener=r};Br.prototype.any=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},L3(this,t,e),this.addEventListener=r};Br.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=s1(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Ac(this,t)};Br.prototype.dispatchEvent=Br.prototype.trigger;var Zc;Br.prototype.queueTrigger=function(t){var e=this;Zc||(Zc=new Map);var r=t.type||t,i=Zc.get(this);i||(i=new Map,Zc.set(this,i));var n=i.get(r);i.delete(r),B.clearTimeout(n);var a=B.setTimeout(function(){i.delete(r),i.size===0&&(i=null,Zc.delete(e)),e.trigger(t)},0);i.set(r,a)};var l1=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ds=function(e){return e instanceof Br||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},Lj=function(e,r){ds(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},U2=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Hm=function(e,r,i){if(!e||!e.nodeName&&!ds(e))throw new Error("Invalid target for "+l1(r)+"#"+i+"; must be a DOM node or evented object.")},F3=function(e,r,i){if(!U2(e))throw new Error("Invalid event type for "+l1(r)+"#"+i+"; must be a non-empty string or array.")},M3=function(e,r,i){if(typeof e!="function")throw new Error("Invalid listener for "+l1(r)+"#"+i+"; must be a function.")},Iv=function(e,r,i){var n=r.length<3||r[0]===e||r[0]===e.eventBusEl_,a,s,o;return n?(a=e.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(a=r[0],s=r[1],o=r[2]),Hm(a,e,i),F3(s,e,i),M3(o,e,i),o=zt(e,o),{isTargetingSelf:n,target:a,type:s,listener:o}},Go=function(e,r,i,n){Hm(e,e,r),e.nodeName?Oj[r](e,i,n):e[r](i,n)},Fj={on:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Iv(this,i,"on"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(Go(o,"on",l,u),!s){var c=function(){return e.off(o,l,u)};c.guid=u.guid;var f=function(){return e.off("dispose",c)};f.guid=u.guid,Go(this,"on","dispose",c),Go(o,"on","dispose",f)}},one:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Iv(this,i,"one"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Go(o,"one",l,u);else{var c=function f(){e.off(o,l,f);for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];u.apply(null,h)};c.guid=u.guid,Go(o,"one",l,c)}},any:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Iv(this,i,"any"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Go(o,"any",l,u);else{var c=function f(){e.off(o,l,f);for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];u.apply(null,h)};c.guid=u.guid,Go(o,"any",l,c)}},off:function(e,r,i){if(!e||U2(e))nn(this.eventBusEl_,e,r);else{var n=e,a=r;Hm(n,this,"off"),F3(a,this,"off"),M3(i,this,"off"),i=zt(this,i),this.off("dispose",i),n.nodeName?(nn(n,a,i),nn(n,"dispose",i)):ds(n)&&(n.off(a,i),n.off("dispose",i))}},trigger:function(e,r){Hm(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!U2(i)){var n="Invalid event type for "+l1(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||nt).error(n);else throw new Error(n)}return Ac(this.eventBusEl_,e,r)}};function i5(t,e){e===void 0&&(e={});var r=e,i=r.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ft("span",{className:"vjs-event-bus"});return ar(t,Fj),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(n){n()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&yn.has(n)&&yn.delete(n)}),B.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Mj={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var i;return t0(e,function(n,a){r.state[a]!==n&&(i=i||{},i[a]={from:r.state[a],to:n}),r.state[a]=n}),i&&ds(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function B3(t,e){return ar(t,Mj),t.state=ar({},t.state,e),typeof t.handleStateChanged=="function"&&ds(t)&&t.on("statechanged",t.handleStateChanged),t}var Up=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},ur=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},Bj=function(e,r){return ur(e)===ur(r)};function Ht(){for(var t={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(n){n&&t0(n,function(a,s){if(!wd(a)){t[s]=a;return}wd(t[s])||(t[s]={}),t[s]=Ht(t[s],a)})}),t}var Uj=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var n=this.has(i);return delete this.map_[i],n},e.set=function(i,n){return this.map_[i]=n,this},e.forEach=function(i,n){for(var a in this.map_)i.call(n,this.map_[a],a,this)},t}(),jj=B.Map?B.Map:Uj,Hj=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var n=this.has(i);return delete this.set_[i],n},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,n){for(var a in this.set_)i.call(n,a,a,this)},t}(),Nv=B.Set?B.Set:Hj,ue=function(){function t(r,i,n){var a=this;if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ht({},this.options_),i=this.options_=Ht(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=r&&r.id&&r.id()||"no_player";this.id_=s+"_component_"+Ds()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(o){return a.addClass(o)}),i.evented!==!1&&(i5(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),B3(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Nv,this.setIntervalIds_=new Nv,this.rafIds_=new Nv,this.namedRafs_=new jj,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return!!this.isDisposed_},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Ht(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,n,a){return ft(i,n,a)},e.localize=function(i,n,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],c=o&&o[u],f=a;return l&&l[i]?f=l[i]:c&&c[i]&&(f=c[i]),n&&(f=f.replace(/\{(\d+)\}/g,function(d,h){var y=n[h-1],m=y;return typeof y>"u"&&(m=d),m})),f},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];n=n.reduce(function(l,u){return l.concat(u)},[]);for(var s=this,o=0;o<n.length;o++)if(s=s.getChild(n[o]),!s||!s.getChild)return;return s},e.addChild=function(i,n,a){n===void 0&&(n={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=ur(i);var l=n.componentClass||o;n.name=o;var u=t.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,n)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&ur(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Up(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[a+1]&&(this.children_[a+1].el_?c=this.children_[a+1].el_:Sc(this.children_[a+1])&&(c=this.children_[a+1])),this.contentEl().insertBefore(s.el(),c)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var n=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){n=!0,this.children_.splice(a,1);break}if(n){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[ur(i.name())]=null,this.childNameIndex_[Up(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,n=this.options_.children;if(n){var a=this.options_,s=function(c){var f=c.name,d=c.opts;if(a[f]!==void 0&&(d=a[f]),d!==!1){d===!0&&(d={}),d.playerOptions=i.options_.playerOptions;var h=i.addChild(f,d);h&&(i[f]=h)}},o,l=t.getComponent("Tech");Array.isArray(n)?o=n:o=Object.keys(n),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,f;return typeof u=="string"?(c=u,f=n[c]||i.options_[c]||{}):(c=u.name,f=u),{name:c,opts:f}}).filter(function(u){var c=t.getComponent(u.opts.componentClass||ur(u.name));return c&&!l.isTech(c)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,n){if(n===void 0&&(n=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}n?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},e.$=function(i,n){return Co(i,n||this.contentEl())},e.$$=function(i,n){return k3(i,n||this.contentEl())},e.hasClass=function(i){return Rl(this.el_,i)},e.addClass=function(i){fs(this.el_,i)},e.removeClass=function(i){dh(this.el_,i)},e.toggleClass=function(i,n){T3(this.el_,i,n)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return _3(this.el_,i)},e.setAttribute=function(i,n){dc(this.el_,i,n)},e.removeAttribute=function(i){i1(this.el_,i)},e.width=function(i,n){return this.dimension("width",i,n)},e.height=function(i,n){return this.dimension("height",i,n)},e.dimensions=function(i,n){this.width(i,!0),this.height(n)},e.dimension=function(i,n,a){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[i]=n:n==="auto"?this.el_.style[i]="":this.el_.style[i]=n+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+ur(i)],10)},e.currentDimension=function(i){var n=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(n=_d(this.el_,i),n=parseFloat(n),n===0||isNaN(n)){var a="offset"+ur(i);n=this.el_[a]}return n},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(et.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,n=null,a=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(n={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},i=B.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(n){var c=u.touches[0].pageX-n.pageX,f=u.touches[0].pageY-n.pageY,d=Math.sqrt(c*c+f*f);d>a&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(n=null,o===!0){var c=B.performance.now()-i;c<s&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=zt(this.player(),this.player().reportUserActivity),n;this.on("touchstart",function(){i(),this.clearInterval(n),n=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(n)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,n){var a=this,s;return i=zt(this,i),this.clearTimersOnDispose_(),s=B.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},n),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),B.clearTimeout(i)),i},e.setInterval=function(i,n){i=zt(this,i),this.clearTimersOnDispose_();var a=B.setInterval(i,n);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),B.clearInterval(i)),i},e.requestAnimationFrame=function(i){var n=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=zt(this,i),a=B.requestAnimationFrame(function(){n.rafIds_.has(a)&&n.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,n){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),n=zt(this,n);var s=this.requestAnimationFrame(function(){n(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){this.namedRafs_.has(i)&&(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),B.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var a=n[0],s=n[1];i[a].forEach(function(o,l){return i[s](l)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,n){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=t.getComponent("Tech"),s=a&&a.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+l+".")}i=ur(i),t.components_||(t.components_={});var u=t.getComponent("Player");if(i==="Player"&&u&&u.players){var c=u.players,f=Object.keys(c);if(c&&f.length>0&&f.map(function(d){return c[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=n,t.components_[Up(i)]=n,n},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();ue.prototype.supportsRaf_=typeof B.requestAnimationFrame=="function"&&typeof B.cancelAnimationFrame=="function";ue.registerComponent("Component",ue);function Vj(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function G_(t,e,r,i){return Vj(t,i,r.length-1),r[i][e]}function Ov(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:G_.bind(null,"start",0,t),end:G_.bind(null,"end",1,t)},B.Symbol&&B.Symbol.iterator&&(e[B.Symbol.iterator]=function(){return(t||[]).values()}),e}function Ll(t,e){return Array.isArray(t)?Ov(t):t===void 0||e===void 0?Ov():Ov([[t,e]])}function U3(t,e){var r=0,i,n;if(!e)return 0;(!t||!t.length)&&(t=Ll(0,0));for(var a=0;a<t.length;a++)i=t.start(a),n=t.end(a),n>e&&(n=e),r+=n-i;return r/e}function bn(t){if(t instanceof bn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:ws(t)&&(typeof t.code=="number"&&(this.code=t.code),ar(this,t)),this.message||(this.message=bn.defaultMessages[this.code]||"")}bn.prototype.code=0;bn.prototype.message="";bn.prototype.status=null;bn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];bn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var xu=0;xu<bn.errorTypes.length;xu++)bn[bn.errorTypes[xu]]=xu,bn.prototype[bn.errorTypes[xu]]=xu;function Ff(t){return t!=null&&typeof t.then=="function"}function wa(t){Ff(t)&&t.then(null,function(e){})}var j2=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,n,a){return e[n]&&(i[n]=e[n]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},zj=function(e){var r=e.$$("track"),i=Array.prototype.map.call(r,function(a){return a.track}),n=Array.prototype.map.call(r,function(a){var s=j2(a.track);return a.src&&(s.src=a.src),s});return n.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(j2))},Gj=function(e,r){return e.forEach(function(i){var n=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return n.addCue(a)})}),r.textTracks()},q_={textTracksToJson:zj,jsonToTextTracks:Gj,trackToJson_:j2},Rv="vjs-modal-dialog",Cc=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ft("div",{className:Rv+"-content"},{role:"document"}),a.descEl_=ft("p",{className:Rv+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),tu(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return Rv+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},r.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(n){if(typeof n=="boolean"){var a=this.closeable_=!!n,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(n){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),P3(a,n),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),t5(this.contentEl()),this.trigger("modalempty")},r.content=function(n){return typeof n<"u"&&(this.content_=n),this.content_},r.conditionalFocus_=function(){var n=ye.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(n)||a===n)&&(this.previouslyActiveEl_=n,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(n){if(n.stopPropagation(),et.isEventKey(n,"Escape")&&this.closeable()){n.preventDefault(),this.close();return}if(et.isEventKey(n,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<a.length;l++)if(s===a[l]){o=l;break}ye.activeElement===this.el_&&(o=0),n.shiftKey&&o===0?(a[a.length-1].focus(),n.preventDefault()):!n.shiftKey&&o===a.length-1&&(a[0].focus(),n.preventDefault())}},r.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(a){return(a instanceof B.HTMLAnchorElement||a instanceof B.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof B.HTMLInputElement||a instanceof B.HTMLSelectElement||a instanceof B.HTMLTextAreaElement||a instanceof B.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof B.HTMLIFrameElement||a instanceof B.HTMLObjectElement||a instanceof B.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(ue);Cc.prototype.options_={pauseOnOpen:!0,temporary:!0};ue.registerComponent("ModalDialog",Cc);var pc=function(t){xe(e,t);function e(i){var n;i===void 0&&(i=[]),n=t.call(this)||this,n.tracks_=[],Object.defineProperty(Ye(n),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)n.addTrack(i[a]);return n}var r=e.prototype;return r.addTrack=function(n){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){a.trigger({track:n,type:"labelchange",target:a})},ds(n)&&n.addEventListener("labelchange",n.labelchange_)},r.removeTrack=function(n){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===n){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},r.getTrackById=function(n){for(var a=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===n){a=l;break}}return a},e}(Br);pc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var qj in pc.prototype.allowedEvents_)pc.prototype["on"+qj]=null;var Lv=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].enabled=!1)},Wj=function(t){xe(e,t);function e(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){Lv(i,i[a]);break}return n=t.call(this,i)||this,n.changing_=!1,n}var r=e.prototype;return r.addTrack=function(n){var a=this;n.enabled&&Lv(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){a.changing_||(a.changing_=!0,Lv(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},e}(pc),Fv=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].selected=!1)},$j=function(t){xe(e,t);function e(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){Fv(i,i[a]);break}return n=t.call(this,i)||this,n.changing_=!1,Object.defineProperty(Ye(n),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),n}var r=e.prototype;return r.addTrack=function(n){var a=this;n.selected&&Fv(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){a.changing_||(a.changing_=!0,Fv(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},e}(pc),j3=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(n){var a=this;t.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(n.kind)===-1&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(pc),Qj=function(){function t(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,n=r.length;i<n;i++)this.addTrackElement_(r[i])}var e=t.prototype;return e.addTrackElement_=function(i){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var n,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){n=this.trackElements_[a];break}return n},e.removeTrackElement_=function(i){for(var n=0,a=this.trackElements_.length;n<a;n++)if(i===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},t}(),W_=function(){function t(r){t.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var n=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(n<s)for(a=n;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var n=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){n=o;break}}return n},t}(),Kj={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Xj={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Yj={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},$_={disabled:"disabled",hidden:"hidden",showing:"showing"},a5=function(t){xe(e,t);function e(r){var i;r===void 0&&(r={}),i=t.call(this)||this;var n={id:r.id||"vjs_track_"+Ds(),kind:r.kind||"",language:r.language||""},a=r.label||"",s=function(u){Object.defineProperty(Ye(i),u,{get:function(){return n[u]},set:function(){}})};for(var o in n)s(o);return Object.defineProperty(Ye(i),"label",{get:function(){return a},set:function(u){u!==a&&(a=u,this.trigger("labelchange"))}}),i}return e}(Br),s5=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],i=ye.createElement("a");i.href=e;for(var n={},a=0;a<r.length;a++)n[r[a]]=i[r[a]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=B.location.protocol),n.host||(n.host=B.location.host),n},H3=function(e){if(!e.match(/^https?:\/\//)){var r=ye.createElement("a");r.href=e,e=r.href}return e},o5=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(e);if(i)return i.pop().toLowerCase()}return""},u1=function(e,r){r===void 0&&(r=B.location);var i=s5(e),n=i.protocol===":"?r.protocol:i.protocol,a=n+i.host!==r.protocol+r.host;return a},Jj=Object.freeze({__proto__:null,parseUrl:s5,getAbsoluteURL:H3,getFileExtension:o5,isCrossOrigin:u1}),Q_=function(e,r){var i=new B.WebVTT.Parser(B,B.vttjs,B.WebVTT.StringDecoder()),n=[];i.oncue=function(a){r.addCue(a)},i.onparsingerror=function(a){n.push(a)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(e),n.length>0&&(B.console&&B.console.groupCollapsed&&B.console.groupCollapsed("Text Track parsing errors for "+r.src),n.forEach(function(a){return nt.error(a)}),B.console&&B.console.groupEnd&&B.console.groupEnd()),i.flush()},K_=function(e,r){var i={uri:e},n=u1(e);n&&(i.cors=n);var a=r.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),f4(i,zt(this,function(s,o,l){if(s)return nt.error(s,o);r.loaded_=!0,typeof B.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){nt.error("vttjs failed to load, stopping trying to process "+r.src);return}return Q_(l,r)}):Q_(l,r)}))},hh=function(t){xe(e,t);function e(i){var n;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Ht(i,{kind:Yj[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=$_[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),n=t.call(this,a)||this,n.tech_=a.tech,n.cues_=[],n.activeCues_=[],n.preload_=n.tech_.preloadTextTracks!==!1;var l=new W_(n.cues_),u=new W_(n.activeCues_),c=!1;n.timeupdateHandler=zt(Ye(n),function(d){if(d===void 0&&(d={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var f=function(){n.stopTracking()};return n.tech_.one("dispose",f),s!=="disabled"&&n.startTracking(),Object.defineProperties(Ye(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(h){$_[h]&&s!==h&&(s=h,!this.preload_&&s!=="disabled"&&this.cues.length===0&&K_(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var h=this.tech_.currentTime(),y=[],m=0,T=this.cues.length;m<T;m++){var b=this.cues[m];(b.startTime<=h&&b.endTime>=h||b.startTime===b.endTime&&b.startTime<=h&&b.startTime+.5>=h)&&y.push(b)}if(c=!1,y.length!==this.activeCues_.length)c=!0;else for(var E=0;E<y.length;E++)this.activeCues_.indexOf(y[E])===-1&&(c=!0);return this.activeCues_=y,u.setCues_(this.activeCues_),u},set:function(){}}}),a.src?(n.src=a.src,n.preload_||(n.loaded_=!0),(n.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&K_(n.src,Ye(n))):n.loaded_=!0,n}var r=e.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},r.addCue=function(n){var a=n;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new B.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(var s in n)s in a||(a[s]=n[s]);a.id=n.id,a.originalCue_=n}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},r.removeCue=function(n){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===n||s.originalCue_&&s.originalCue_===n){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(a5);hh.prototype.allowedEvents_={cuechange:"cuechange"};var V3=function(t){xe(e,t);function e(r){var i;r===void 0&&(r={});var n=Ht(r,{kind:Xj[r.kind]||""});i=t.call(this,n)||this;var a=!1;return Object.defineProperty(Ye(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return e}(a5),z3=function(t){xe(e,t);function e(r){var i;r===void 0&&(r={});var n=Ht(r,{kind:Kj[r.kind]||""});i=t.call(this,n)||this;var a=!1;return Object.defineProperty(Ye(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return e}(a5),G3=0,Zj=1,q3=2,eH=3,Pc=function(t){xe(e,t);function e(r){var i;r===void 0&&(r={}),i=t.call(this)||this;var n,a=new hh(r);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(Ye(i),{readyState:{get:function(){return n}},track:{get:function(){return a}}}),n=G3,a.addEventListener("loadeddata",function(){n=q3,i.trigger({type:"load",target:Ye(i)})}),i}return e}(Br);Pc.prototype.allowedEvents_={load:"load"};Pc.NONE=G3;Pc.LOADING=Zj;Pc.LOADED=q3;Pc.ERROR=eH;var Ei={audio:{ListClass:Wj,TrackClass:V3,capitalName:"Audio"},video:{ListClass:$j,TrackClass:z3,capitalName:"Video"},text:{ListClass:j3,TrackClass:hh,capitalName:"Text"}};Object.keys(Ei).forEach(function(t){Ei[t].getterName=t+"Tracks",Ei[t].privateName=t+"Tracks_"});var mc={remoteText:{ListClass:j3,TrackClass:hh,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Qj,TrackClass:Pc,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pn=Pi({},Ei,mc);mc.names=Object.keys(mc);Ei.names=Object.keys(Ei);pn.names=[].concat(mc.names).concat(Ei.names);function tH(t,e,r,i,n){n===void 0&&(n={});var a=t.textTracks();n.kind=e,r&&(n.label=r),i&&(n.language=i),n.tech=t;var s=new pn.text.TrackClass(n);return a.addTrack(s),s}var Dt=function(t){xe(e,t);function e(i,n){var a;return i===void 0&&(i={}),n===void 0&&(n=function(){}),i.reportTouchActivity=!1,a=t.call(this,null,i,n)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),pn.names.forEach(function(s){var o=pn[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new pn.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var r=e.prototype;return r.triggerSourceset=function(n){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zt(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(n){this.duration_=this.duration()},r.buffered=function(){return Ll(0,0)},r.bufferedPercent=function(){return U3(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Ei.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},r.clearTracks=function(n){var a=this;n=[].concat(n),n.forEach(function(s){for(var o=a[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&a.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],a=n.length;a--;){var s=n[a];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(n){return n!==void 0&&(this.error_=new bn(n),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Ll(0,0):Ll()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var n=this;Ei.names.forEach(function(a){var s=Ei[a],o=function(){n.trigger(a+"trackchange")},l=n[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),n.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var n=this;if(!B.WebVTT)if(ye.body.contains(this.el())){if(!this.options_["vtt.js"]&&wd(c_)&&Object.keys(c_).length>0){this.trigger("vttjsloaded");return}var a=ye.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){n.trigger("vttjsloaded")},a.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),B.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var n=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(d){return a.addTrack(d.track)},l=function(d){return a.removeTrack(d.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return n.trigger("texttrackchange")},c=function(){u();for(var d=0;d<a.length;d++){var h=a[d];h.removeEventListener("cuechange",u),h.mode==="showing"&&h.addEventListener("cuechange",u)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var f=0;f<a.length;f++){var d=a[f];d.removeEventListener("cuechange",u)}})},r.addTextTrack=function(n,a,s){if(!n)throw new Error("TextTrack kind is required but was not provided");return tH(this,n,a,s)},r.createRemoteTextTrack=function(n){var a=Ht(n,{tech:this});return new mc.remoteTextEl.TrackClass(a)},r.addRemoteTextTrack=function(n,a){var s=this;n===void 0&&(n={});var o=this.createRemoteTextTrack(n);return a!==!0&&a!==!1&&(nt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(n){var a=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var n=this.options_.Promise||B.Promise;if(n)return n.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(n){var a=this,s=Ds();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),n())})):this.requestNamedAnimationFrame(s,n),s},r.cancelVideoFrameCallback=function(n){this.queuedHanders_.has(n)?this.queuedHanders_.delete(n):this.cancelNamedAnimationFrame(n)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(n,a){return e.canPlayType(n.type)},e.isTech=function(n){return n.prototype instanceof e||n instanceof e||n===e},e.registerTech=function(n,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+n+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=ur(n),e.techs_[n]=a,e.techs_[Up(n)]=a,n!=="Tech"&&e.defaultTechOrder_.push(n),a},e.getTech=function(n){if(n){if(e.techs_&&e.techs_[n])return e.techs_[n];if(n=ur(n),B&&B.videojs&&B.videojs[n])return nt.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),B.videojs[n]}},e}(ue);pn.names.forEach(function(t){var e=pn[t];Dt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Dt.prototype.featuresVolumeControl=!0;Dt.prototype.featuresMuteControl=!0;Dt.prototype.featuresFullscreenResize=!1;Dt.prototype.featuresPlaybackRate=!1;Dt.prototype.featuresProgressEvents=!1;Dt.prototype.featuresSourceset=!1;Dt.prototype.featuresTimeupdateEvents=!1;Dt.prototype.featuresNativeTextTracks=!1;Dt.prototype.featuresVideoFrameCallback=!1;Dt.withSourceHandlers=function(t){t.registerSourceHandler=function(r,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),i===void 0&&(i=n.length),n.splice(i,0,r)},t.canPlayType=function(r){for(var i=t.sourceHandlers||[],n,a=0;a<i.length;a++)if(n=i[a].canPlayType(r),n)return n;return""},t.selectSourceHandler=function(r,i){for(var n=t.sourceHandlers||[],a,s=0;s<n.length;s++)if(a=n[s].canHandleSource(r,i),a)return n[s];return null},t.canPlaySource=function(r,i){var n=t.selectSourceHandler(r,i);return n?n.canHandleSource(r,i):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){var i=t.selectSourceHandler(r,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:nt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ue.registerComponent("Tech",Dt);Dt.registerTech("Tech",Dt);Dt.defaultTechOrder_=[];var Fl={},H2={},Vm={};function rH(t,e){Fl[t]=Fl[t]||[],Fl[t].push(e)}function nH(t,e,r){t.setTimeout(function(){return Ko(e,Fl[e.type],r,t)},1)}function iH(t,e){t.forEach(function(r){return r.setTech&&r.setTech(e)})}function aH(t,e,r){return t.reduceRight(l5(r),e[r]())}function sH(t,e,r,i){return e[r](t.reduce(l5(r),i))}function X_(t,e,r,i){i===void 0&&(i=null);var n="call"+ur(r),a=t.reduce(l5(n),i),s=a===Vm,o=s?null:e[r](a);return uH(t,r,o,s),o}var oH={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},lH={setCurrentTime:1,setMuted:1,setVolume:1},Y_={play:1,pause:1};function l5(t){return function(e,r){return e===Vm?Vm:r[t]?r[t](e):e}}function uH(t,e,r,i){for(var n=t.length-1;n>=0;n--){var a=t[n];a[e]&&a[e](i,r)}}function cH(t){H2[t.id()]=null}function fH(t,e){var r=H2[t.id()],i=null;if(r==null)return i=e(t),H2[t.id()]=[[e,i]],i;for(var n=0;n<r.length;n++){var a=r[n],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(t),r.push([e,i])),i}function Ko(t,e,r,i,n,a){t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a=!1);var s=e,o=s[0],l=s.slice(1);if(typeof o=="string")Ko(t,Fl[o],r,i,n,a);else if(o){var u=fH(i,o);if(!u.setSource)return n.push(u),Ko(t,l,r,i,n,a);u.setSource(ar({},t),function(c,f){if(c)return Ko(t,l,r,i,n,a);n.push(u),Ko(f,t.type===f.type?l:Fl[f.type],r,i,n,a)})}else l.length?Ko(t,l,r,i,n,a):a?r(t,n):Ko(t,Fl["*"],r,i,n,!0)}var dH={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},zm=function(e){e===void 0&&(e="");var r=o5(e),i=dH[r.toLowerCase()];return i||""},hH=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var n=e.$$("source"),a=0;a<n.length;a++){var s=n[a];if(s.type&&s.src&&s.src===r)return s.type}return zm(r)},pH=function t(e){if(Array.isArray(e)){var r=[];e.forEach(function(i){i=t(i),Array.isArray(i)?r=r.concat(i):ws(i)&&r.push(i)}),e=r}else typeof e=="string"&&e.trim()?e=[J_({src:e})]:ws(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[J_(e)]:e=[];return e};function J_(t){if(!t.type){var e=zm(t.src);e&&(t.type=e)}return t}var mH=function(t){xe(e,t);function e(r,i,n){var a,s=Ht({createEl:!1},i);if(a=t.call(this,r,s,n)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var u=ur(l[o]),c=Dt.getTech(u);if(u||(c=ue.getComponent(u)),c&&c.isSupported()){r.loadTech_(u);break}}else r.src(i.playerOptions.sources);return a}return e}(ue);ue.registerComponent("MediaLoader",mH);var c1=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var r=e.prototype;return r.createEl=function(n,a,s){n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=ar({className:this.buildCSSClass(),tabIndex:0},a),n==="button"&&nt.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),s=ar({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ft(n,a,s);return o.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},r.createControlTextEl=function(n){return this.controlTextEl_=ft("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},r.controlText=function(n,a){if(a===void 0&&(a=this.el()),n===void 0)return this.controlText_||"Need Text";var s=this.localize(n);this.controlText_=n,tu(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(n){et.isEventKey(n,"Space")||et.isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(ue);ue.registerComponent("ClickableComponent",c1);var gH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},r.createEl=function(){var n=ft("div",{className:"vjs-poster",tabIndex:-1});return n},r.update=function(n){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},r.setSrc=function(n){var a="";n&&(a='url("'+n+'")'),this.el_.style.backgroundImage=a},r.handleClick=function(n){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((fh||ch)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?wa(this.player_.play()):this.player_.pause()}},e}(c1);ue.registerComponent("PosterImage",gH);var ci="#222",Z_="#ccc",vH={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Mv(t,e){var r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Bv(t,e,r){try{t.style[e]=r}catch{return}}var yH=function(t){xe(e,t);function e(i,n,a){var s;s=t.call(this,i,n,a)||this;var o=function(u){return s.updateDisplay(u)};return i.on("loadstart",function(l){return s.toggleDisplay(l)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(l){return s.preselectTrack(l)}),i.ready(zt(Ye(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),B.addEventListener("orientationchange",o),i.on("dispose",function(){return B.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var r=e.prototype;return r.preselectTrack=function(){for(var n={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<a.length;c++){var f=a[c];s&&s.enabled&&s.language&&s.language===f.language&&f.kind in n?f.kind===s.kind?u=f:u||(u=f):s&&!s.enabled?(u=null,o=null,l=null):f.default&&(f.kind==="descriptions"&&!o?o=f:f.kind in n&&!l&&(l=f))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof B.WebVTT=="function"&&B.WebVTT.processCues(B,[],this.el_)},r.updateDisplay=function(){var n=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<n.length;++o){var l=n[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,c=null,f=n.length;f--;){var d=n[f];d.mode==="showing"&&(d.kind==="descriptions"?u=d:c=d)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(n){for(var a=this.player_.textTrackSettings.getValues(),s=n.activeCues,o=s.length;o--;){var l=s[o];if(l){var u=l.displayState;if(a.color&&(u.firstChild.style.color=a.color),a.textOpacity&&Bv(u.firstChild,"color",Mv(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(u.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Bv(u.firstChild,"backgroundColor",Mv(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Bv(u,"backgroundColor",Mv(a.windowColor,a.windowOpacity)):u.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+ci+", 2px 2px 4px "+ci+", 2px 2px 5px "+ci:a.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+ci+", 2px 2px "+ci+", 3px 3px "+ci:a.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+Z_+", 0 1px "+Z_+", -1px -1px "+ci+", 0 -1px "+ci:a.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+ci+", 0 0 4px "+ci+", 0 0 4px "+ci+", 0 0 4px "+ci)),a.fontPercent&&a.fontPercent!==1){var c=B.parseFloat(u.style.fontSize);u.style.fontSize=c*a.fontPercent+"px",u.style.height="auto",u.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=vH[a.fontFamily])}}},r.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),!(typeof B.WebVTT!="function"||n.every(function(h){return!h.activeCues}))){for(var a=[],s=0;s<n.length;++s)for(var o=n[s],l=0;l<o.activeCues.length;++l)a.push(o.activeCues[l]);B.WebVTT.processCues(B,a,this.el_);for(var u=0;u<n.length;++u){for(var c=n[u],f=0;f<c.activeCues.length;++f){var d=c.activeCues[f].displayState;fs(d,"vjs-text-track-cue"),fs(d,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&dc(d,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(ue);ue.registerComponent("TextTrackDisplay",yH);var bH=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=this.player_.isAudio(),a=this.localize(n?"Audio Player":"Video Player"),s=ft("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(ue);ue.registerComponent("LoadingSpinner",bH);var $i=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(n,a,s){a===void 0&&(a={}),s===void 0&&(s={}),n="button",a=ar({className:this.buildCSSClass()},a),s=ar({type:"button"},s);var o=ft(n,a,s);return o.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(n,a){a===void 0&&(a={});var s=this.constructor.name;return nt.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),ue.prototype.addChild.call(this,n,a)},r.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(n){if(et.isEventKey(n,"Space")||et.isEventKey(n,"Enter")){n.stopPropagation();return}t.prototype.handleKeyDown.call(this,n)},e}(c1);ue.registerComponent("Button",$i);var W3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(n){var a=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;wa(a),this.player_.tech(!0)&&!((fh||ch)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};Ff(a)?a.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(n){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,n)},r.handleMouseDown=function(n){this.mouseused_=!0},e}($i);W3.prototype.controlText_="Play Video";ue.registerComponent("BigPlayButton",W3);var xH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.controlText(n&&n.controlText||a.localize("Close")),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(n){et.isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}($i);ue.registerComponent("CloseButton",xH);var $3=function(t){xe(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,n.replay=n.replay===void 0||n.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),n.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.player_.paused()?wa(this.player_.play()):this.player_.pause()},r.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},r.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(n){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}($i);$3.prototype.controlText_="Play";ue.registerComponent("PlayToggle",$3);var Q3=function(e,r){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(a=n=i="-"),a=a>0||o>0?a+":":"",n=((a||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,a+n+i},u5=Q3;function TH(t){u5=t}function wH(){u5=Q3}function gc(t,e){return e===void 0&&(e=t),u5(t,e)}var kc=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var r=e.prototype;return r.createEl=function(){var n=this.buildCSSClass(),a=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),s=ft("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return a.appendChild(s),this.contentEl_=ft("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},r.updateTextNode_=function(n){var a=this;n===void 0&&(n=0),n=gc(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,nt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=ye.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},r.updateContent=function(n){},e}(ue);kc.prototype.labelText_="Time";kc.prototype.controlText_="Time";ue.registerComponent("TimeDisplay",kc);var c5=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(n){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(kc);c5.prototype.labelText_="Current Time";c5.prototype.controlText_="Current Time";ue.registerComponent("CurrentTimeDisplay",c5);var f5=function(t){xe(e,t);function e(i,n){var a;a=t.call(this,i,n)||this;var s=function(l){return a.updateContent(l)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(n){var a=this.player_.duration();this.updateTextNode_(a)},e}(kc);f5.prototype.labelText_="Duration";f5.prototype.controlText_="Duration";ue.registerComponent("DurationDisplay",f5);var _H=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=t.prototype.createEl.call(this,"div"),s=t.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),n.appendChild(a),n},e}(ue);ue.registerComponent("TimeDivider",_H);var d5=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var n=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&n.insertBefore(ft("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},r.updateContent=function(n){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(kc);d5.prototype.labelText_="Remaining Time";d5.prototype.controlText_="Remaining Time";ue.registerComponent("RemainingTimeDisplay",d5);var EH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ft("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ft("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(ye.createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},r.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},r.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},e}(ue);ue.registerComponent("LiveDisplay",EH);var K3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ft("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}($i);K3.prototype.controlText_="Seek to live, currently playing live";ue.registerComponent("SeekToLive",K3);var f1=function(e,r,i){return e=Number(e),Math.min(i,Math.max(r,isNaN(e)?r:e))},h5=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(n,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=ar({tabIndex:0},a),s=ar({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),t.prototype.createEl.call(this,n,a,s)},r.handleMouseDown=function(n){var a=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault(),n.type==="touchstart"&&!ks&&n.preventDefault(),E3(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(n,!0)},r.handleMouseMove=function(n){},r.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;S3(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var n=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=n.vertical()?"height":"width";n.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},r.getProgress=function(){return Number(f1(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(n){var a=a1(this.el_,n);return this.vertical()?a.y:a.x},r.handleKeyDown=function(n){et.isEventKey(n,"Left")||et.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):et.isEventKey(n,"Right")||et.isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){n.stopPropagation(),n.preventDefault()},r.vertical=function(n){if(n===void 0)return this.vertical_||!1;this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ue);ue.registerComponent("Slider",h5);var Uv=function(e,r){return f1(e/r*100,0,100).toFixed(2)+"%"},SH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ft("span",{className:"vjs-control-text"}),s=ft("span",{textContent:this.localize("Loaded")}),o=ye.createTextNode(": ");return this.percentageEl_=ft("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),n},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},r.update=function(n){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():a.player_.duration(),u=a.player_.bufferedEnd(),c=a.partEls_,f=Uv(u,l);a.percent_!==f&&(a.el_.style.width=f,tu(a.percentageEl_,f),a.percent_=f);for(var d=0;d<o.length;d++){var h=o.start(d),y=o.end(d),m=c[d];m||(m=a.el_.appendChild(ft()),c[d]=m),!(m.dataset.start===h&&m.dataset.end===y)&&(m.dataset.start=h,m.dataset.end=y,m.style.left=Uv(h,u),m.style.width=Uv(y-h,u))}for(var T=c.length;T>o.length;T--)a.el_.removeChild(c[T-1]);c.length=o.length})},e}(ue);ue.registerComponent("LoadProgressBar",SH);var AH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=_s(zt(Ye(a),a.update),Yi),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s){var o=Ed(this.el_),l=hc(this.player_.el()),u=n.width*a;if(!(!l||!o)){var c=n.left-l.left+u,f=n.width-u+(l.right-n.right),d=o.width/2;c<d?d+=d-c:f<d&&(d=f),d<0?d=0:d>o.width&&(d=o.width),d=Math.round(d),this.el_.style.right="-"+d+"px",this.write(s)}},r.write=function(n){tu(this.el_,n)},r.updateTime=function(n,a,s,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),d=f-a*f;u=(d<1?"":"-")+gc(d,f)}else u=gc(s,c);l.update(n,a,u),o&&o()})},e}(ue);ue.registerComponent("TimeTooltip",AH);var p5=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=_s(zt(Ye(a),a.update),Yi),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(n,a){var s=this.getChild("timeTooltip");if(s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(n,a,o)}},e}(ue);p5.prototype.options_={children:[]};!Sn&&!Ps&&p5.prototype.options_.children.push("timeTooltip");ue.registerComponent("PlayProgressBar",p5);var X3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=_s(zt(Ye(a),a.update),Yi),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(n,a,o,function(){s.el_.style.left=n.width*a+"px"})},e}(ue);X3.prototype.options_={children:["timeTooltip"]};ue.registerComponent("MouseTimeDisplay",X3);var cp=5,eE=12,m5=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.setEventHandlers_(),a}var r=e.prototype;return r.setEventHandlers_=function(){var n=this;this.update_=zt(this,this.update),this.update=_s(this.update_,Yi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return n.enableInterval_(a)},this.disableIntervalHandler_=function(a){return n.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ye&&"visibilityState"in ye&&this.on(ye,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(n){ye.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Yi))},r.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&n.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(n){var a=this;if(ye.visibilityState!=="hidden"){var s=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),l=a.player_.liveTracker,u=a.player_.duration();l&&l.isLive()&&(u=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==u)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[gc(o,u),gc(u,u)],"{1} of {2}")),a.currentTime_=o,a.duration_=u),a.bar&&a.bar.update(hc(a.el()),a.getProgress())}),s}},r.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var n=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(n-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=n/this.player_.duration(),a},r.handleMouseDown=function(n){Sd(n)&&(n.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,n))},r.handleMouseMove=function(n,a){if(a===void 0&&(a=!1),!!Sd(n)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(n),l=this.player_.liveTracker;if(!l||!l.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(s=u+o*l.liveWindow(),s>=c&&(s=c),s<=u&&(s=u+.1),s===1/0)return}this.userSeek_(s)}},r.enable=function(){t.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");n&&n.show()},r.disable=function(){t.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");n&&n.hide()},r.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?wa(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+cp)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-cp)},r.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(n){var a=this.player_.liveTracker;if(et.isEventKey(n,"Space")||et.isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(et.isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(et.isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(et(n))){n.preventDefault(),n.stopPropagation();var s=(et.codes[et(n)]-et.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else et.isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-cp*eE)):et.isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+cp*eE)):t.prototype.handleKeyDown.call(this,n)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ye&&"visibilityState"in ye&&this.off(ye,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(h5);m5.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Sn&&!Ps&&m5.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ue.registerComponent("SeekBar",m5);var Y3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleMouseMove=_s(zt(Ye(a),a.handleMouseMove),Yi),a.throttledHandleMouseSeek=_s(zt(Ye(a),a.handleMouseSeek),Yi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(n){var a=this.getChild("seekBar");if(a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var l=a.el(),u=Ed(l),c=a1(l,n).x;c=f1(c,0,1),o&&o.update(u,c),s&&s.update(u,a.getProgress())}}},r.handleMouseSeek=function(n){var a=this.getChild("seekBar");a&&a.handleMouseMove(n)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&wa(this.player_.play())}},r.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(n){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(n),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.getChild("seekBar");a&&a.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},e}(ue);Y3.prototype.options_={children:["seekBar"]};ue.registerComponent("ProgressControl",Y3);var J3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){ye.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}($i);J3.prototype.controlText_="Picture-in-Picture";ue.registerComponent("PictureInPictureToggle",J3);var Z3=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),ye[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}($i);Z3.prototype.controlText_="Fullscreen";ue.registerComponent("FullscreenToggle",Z3);var CH=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},PH=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},e}(ue);ue.registerComponent("VolumeLevel",PH);var kH=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=_s(zt(Ye(a),a.update),Yi),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s,o){if(!s){var l=hc(this.el_),u=hc(this.player_.el()),c=n.width*a;if(!u||!l)return;var f=n.left-u.left+c,d=n.width-c+(u.right-n.right),h=l.width/2;f<h?h+=h-f:d<h&&(h=d),h<0?h=0:h>l.width&&(h=l.width),this.el_.style.right="-"+h+"px"}this.write(o+"%")},r.write=function(n){tu(this.el_,n)},r.updateVolume=function(n,a,s,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(n,a,s,o.toFixed(0)),l&&l()})},e}(ue);ue.registerComponent("VolumeLevelTooltip",kH);var e9=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=_s(zt(Ye(a),a.update),Yi),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a,s){var o=this,l=100*a;this.getChild("volumeLevelTooltip").updateVolume(n,a,s,l,function(){s?o.el_.style.bottom=n.height*a+"px":o.el_.style.left=n.width*a+"px"})},e}(ue);e9.prototype.options_={children:["volumeLevelTooltip"]};ue.registerComponent("MouseVolumeLevelDisplay",e9);var d1=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(n){Sd(n)&&t.prototype.handleMouseDown.call(this,n)},r.handleMouseMove=function(n){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=hc(s),l=this.vertical(),u=a1(s,n);u=l?u.y:u.x,u=f1(u,0,1),a.update(o,u,l)}Sd(n)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(n){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var n=this,a=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(a)})},e}(h5);d1.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Sn&&!Ps&&d1.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");d1.prototype.playerEvent="volumechange";ue.registerComponent("VolumeBar",d1);var t9=function(t){xe(e,t);function e(i,n){var a;return n===void 0&&(n={}),n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||wd(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),a=t.call(this,i,n)||this,CH(Ye(a),i),a.throttledHandleMouseMove=_s(zt(Ye(a),a.handleMouseMove),Yi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var r=e.prototype;return r.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},r.handleMouseDown=function(n){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},e}(ue);t9.prototype.options_={children:["volumeBar"]};ue.registerComponent("VolumeControl",t9);var DH=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},r9=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,DH(Ye(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(n){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var n=this.player_.volume(),a=3;Sn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),n===0||this.player_.muted()?a=0:n<.33?a=1:n<.67&&(a=2);for(var s=0;s<4;s++)dh(this.el_,"vjs-vol-"+s);fs(this.el_,"vjs-vol-"+a)},r.updateControlText_=function(){var n=this.player_.muted()||this.player_.volume()===0,a=n?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}($i);r9.prototype.controlText_="Mute";ue.registerComponent("MuteToggle",r9);var n9=function(t){xe(e,t);function e(i,n){var a;return n===void 0&&(n={}),typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||wd(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),a=t.call(this,i,n)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},r.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(n){et.isEventKey(n,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(n){this.addClass("vjs-hover"),si(ye,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(n){this.removeClass("vjs-hover"),nn(ye,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(n){et.isEventKey(n,"Esc")&&this.handleMouseOut()},e}(ue);n9.prototype.options_={children:["muteToggle","volumeControl"]};ue.registerComponent("VolumePanel",n9);var i9=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,n&&(a.menuButton_=n.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var r=e.prototype;return r.addEventListenerForItem=function(n){n instanceof ue&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(n){n instanceof ue&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(n){typeof n=="string"&&(n=this.getChild(n)),this.removeEventListenerForItem(n),t.prototype.removeChild.call(this,n)},r.addItem=function(n){var a=this.addChild(n);a&&this.addEventListenerForItem(a)},r.createEl=function(){var n=this.options_.contentElType||"ul";this.contentEl_=ft(n,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),si(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},r.handleBlur=function(n){var a=n.relatedTarget||ye.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===n.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(n){et.isEventKey(n,"Left")||et.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(et.isEventKey(n,"Right")||et.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},r.stepForward=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_+1),this.focus(n)},r.stepBack=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_-1),this.focus(n)},r.focus=function(n){n===void 0&&(n=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(n<0?n=0:n>=a.length&&(n=a.length-1),this.focusedChild_=n,a[n].el_.focus())},e}(ue);ue.registerComponent("Menu",i9);var g5=function(t){xe(e,t);function e(i,n){var a;n===void 0&&(n={}),a=t.call(this,i,n)||this,a.menuButton_=new $i(i,n),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=$i.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(u){return a.handleClick(u)};return a.handleMenuKeyUp_=function(l){return a.handleMenuKeyUp(l)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(l){return a.handleKeyDown(l)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),si(ye,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(l){return a.handleMouseLeave(l)}),a.on("keydown",function(l){return a.handleSubmenuKeyDown(l)}),a}var r=e.prototype;return r.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var n=new i9(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ft("li",{className:"vjs-menu-title",textContent:ur(this.options_.title),tabIndex:-1}),s=new ue(this.player_,{el:a});n.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)n.addItem(this.items[o]);return n},r.createItems=function(){},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var n="vjs-menu-button";this.options_.inline===!0?n+="-inline":n+="-popup";var a=$i.prototype.buildCSSClass();return"vjs-menu-button "+n+" "+a+" "+t.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var n="vjs-menu-button";return this.options_.inline===!0?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},r.controlText=function(n,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(n,a)},r.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},r.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(n){this.removeClass("vjs-hover"),nn(ye,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(n){et.isEventKey(n,"Esc")||et.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),et.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(et.isEventKey(n,"Up")||et.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(n){(et.isEventKey(n,"Esc")||et.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},r.handleSubmenuKeyDown=function(n){(et.isEventKey(n,"Esc")||et.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),et.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Sn&&b3())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ue);ue.registerComponent("MenuButton",g5);var v5=function(t){xe(e,t);function e(r,i){var n,a=i.tracks;if(n=t.call(this,r,i)||this,n.items.length<=1&&n.hide(),!a)return Ye(n);var s=zt(Ye(n),n.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),n.player_.on("ready",s),n.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),n}return e}(g5);ue.registerComponent("TrackButton",v5);var IH=["Tab","Esc","Up","Down","Right","Left"],ph=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.selectable=n.selectable,a.isSelected_=n.selected||!1,a.multiSelectable=n.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var r=e.prototype;return r.createEl=function(n,a,s){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",ar({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ft("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(n){IH.some(function(a){return et.isEventKey(n,a)})||t.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){this.selected(!0)},r.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(c1);ue.registerComponent("MenuItem",ph);var mh=function(t){xe(e,t);function e(i,n){var a,s=n.track,o=i.textTracks();n.label=s.label||s.language||"Unknown",n.selected=s.mode==="showing",a=t.call(this,i,n)||this,a.track=s,a.kinds=(n.kinds||[n.kind||a.track.kind]).filter(Boolean);var l=function(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];a.handleTracksChange.apply(Ye(a),h)},u=function(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];a.handleSelectedLanguageChange.apply(Ye(a),h)};if(i.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof B.Event!="object")try{c=new B.Event("change")}catch{}c||(c=ye.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var r=e.prototype;return r.handleClick=function(n){var a=this.track,s=this.player_.textTracks();if(t.prototype.handleClick.call(this,n),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===a?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(n){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(n){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(ph);ue.registerComponent("TextTrackMenuItem",mh);var a9=function(t){xe(e,t);function e(i,n){return n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,i,n)||this}var r=e.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(mh);ue.registerComponent("OffTextTrackMenuItem",a9);var Dc=function(t){xe(e,t);function e(i,n){return n===void 0&&(n={}),n.tracks=i.textTracks(),t.call(this,i,n)||this}var r=e.prototype;return r.createItems=function(n,a){n===void 0&&(n=[]),a===void 0&&(a=mh);var s;this.label_&&(s=this.label_+" off"),n.push(new a9(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new a(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),n.push(c)}}return n},e}(v5);ue.registerComponent("TextTrackButton",Dc);var s9=function(t){xe(e,t);function e(i,n){var a,s=n.track,o=n.cue,l=i.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=l&&l<o.endTime,a=t.call(this,i,n)||this,a.track=s,a.cue=o,a}var r=e.prototype;return r.handleClick=function(n){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(ph);ue.registerComponent("ChaptersTrackMenuItem",s9);var y5=function(t){xe(e,t);function e(i,n,a){var s;return s=t.call(this,i,n,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},r.update=function(n){if(!(n&&n.track&&n.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),t.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&t.prototype.update.call(this)}},r.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],a=n.length-1;a>=0;a--){var s=n[a];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ur(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},r.createItems=function(){var n=[];if(!this.track_)return n;var a=this.track_.cues;if(!a)return n;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=new s9(this.player_,{track:this.track_,cue:l});n.push(u)}return n},e}(Dc);y5.prototype.kind_="chapters";y5.prototype.controlText_="Chapters";ue.registerComponent("ChaptersButton",y5);var b5=function(t){xe(e,t);function e(i,n,a){var s;s=t.call(this,i,n,a)||this;var o=i.textTracks(),l=zt(Ye(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=e.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!1,o=0,l=a.length;o<l;o++){var u=a[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Dc);b5.prototype.kind_="descriptions";b5.prototype.controlText_="Descriptions";ue.registerComponent("DescriptionsButton",b5);var x5=function(t){xe(e,t);function e(i,n,a){return t.call(this,i,n,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Dc);x5.prototype.kind_="subtitles";x5.prototype.controlText_="Subtitles";ue.registerComponent("SubtitlesButton",x5);var T5=function(t){xe(e,t);function e(i,n){var a;return n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",a=t.call(this,i,n)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+n.kind+" settings dialog"),a}var r=e.prototype;return r.handleClick=function(n){this.player().getChild("textTrackSettings").open()},e}(mh);ue.registerComponent("CaptionSettingsMenuItem",T5);var w5=function(t){xe(e,t);function e(i,n,a){return t.call(this,i,n,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new T5(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,n)},e}(Dc);w5.prototype.kind_="captions";w5.prototype.controlText_="Captions";ue.registerComponent("CaptionsButton",w5);var o9=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(n,a,s){var o=t.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ft("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(mh);ue.registerComponent("SubsCapsMenuItem",o9);var _5=function(t){xe(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(ur(a.label_)),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new T5(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n=t.prototype.createItems.call(this,n,o9),n},e}(Dc);_5.prototype.kinds_=["captions","subtitles"];_5.prototype.controlText_="Subtitles";ue.registerComponent("SubsCapsButton",_5);var l9=function(t){xe(e,t);function e(i,n){var a,s=n.track,o=i.audioTracks();n.label=s.label||s.language||"Unknown",n.selected=s.enabled,a=t.call(this,i,n)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];a.handleTracksChange.apply(Ye(a),f)};return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var r=e.prototype;return r.createEl=function(n,a,s){var o=t.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ft("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},r.handleClick=function(n){if(t.prototype.handleClick.call(this,n),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},r.handleTracksChange=function(n){this.selected(this.track.enabled)},e}(ph);ue.registerComponent("AudioTrackMenuItem",l9);var u9=function(t){xe(e,t);function e(i,n){return n===void 0&&(n={}),n.tracks=i.audioTracks(),t.call(this,i,n)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(n){n===void 0&&(n=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];n.push(new l9(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return n},e}(v5);u9.prototype.controlText_="Audio Track";ue.registerComponent("AudioTrackButton",u9);var E5=function(t){xe(e,t);function e(i,n){var a,s=n.rate,o=parseFloat(s,10);return n.label=s,n.selected=o===i.playbackRate(),n.selectable=!0,n.multiSelectable=!1,a=t.call(this,i,n)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(l){return a.update(l)}),a}var r=e.prototype;return r.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(n){this.selected(this.player().playbackRate()===this.rate)},e}(ph);E5.prototype.contentElType="button";ue.registerComponent("PlaybackRateMenuItem",E5);var c9=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ft("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},r.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var n=this.playbackRates(),a=[],s=n.length-1;s>=0;s--)a.push(new E5(this.player(),{rate:n[s]+"x"}));return a},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(n){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),l=(o+1)%s.length;this.player().playbackRate(s[l])},r.handlePlaybackRateschange=function(n){this.update()},r.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(g5);c9.prototype.controlText_="Playback Rate";ue.registerComponent("PlaybackRateMenuButton",c9);var f9=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(n,a,s){return n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),t.prototype.createEl.call(this,n,a,s)},e}(ue);ue.registerComponent("Spacer",f9);var NH=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(f9);ue.registerComponent("CustomControlSpacer",NH);var Gm=function(t){xe(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ue);Gm.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in ye&&Gm.prototype.options_.children.splice(Gm.prototype.options_.children.length-1,0,"pictureInPictureToggle");ue.registerComponent("ControlBar",Gm);var d9=function(t){xe(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"error",function(s){return a.open(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},r.content=function(){var n=this.player().error();return n?this.localize(n.message):""},e}(Cc);d9.prototype.options_=Pi({},Cc.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ue.registerComponent("ErrorDisplay",d9);var jv="vjs-text-track-settings",tE=["#000","Black"],rE=["#00F","Blue"],nE=["#0FF","Cyan"],iE=["#0F0","Green"],aE=["#F0F","Magenta"],sE=["#F00","Red"],oE=["#FFF","White"],lE=["#FF0","Yellow"],Hv=["1","Opaque"],Vv=["0.5","Semi-Transparent"],uE=["0","Transparent"],Yo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[tE,oE,sE,iE,rE,lE,aE,nE]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Hv,Vv,uE]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[oE,tE,sE,iE,rE,lE,aE,nE]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Hv,Vv]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[uE,Vv,Hv]}};Yo.windowColor.options=Yo.backgroundColor.options;function h9(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function OH(t,e){var r=t.options[t.options.selectedIndex].value;return h9(r,e)}function RH(t,e,r){if(e){for(var i=0;i<t.options.length;i++)if(h9(t.options[i].value,r)===e){t.selectedIndex=i;break}}}var LH=function(t){xe(e,t);function e(i,n){var a;return n.temporary=!1,a=t.call(this,i,n)||this,a.updateDisplay=a.updateDisplay.bind(Ye(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ft("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),n.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),t0(Yo,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var r=e.prototype;return r.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},r.createElSelect_=function(n,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var l=Yo[n],u=l.id.replace("%s",this.id_),c=[a,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(f){var d=u+"-"+f[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+f[0]+'" ','aria-labelledby="'+c+" "+d+'">',o.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return ft("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return ft("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var n=this.localize("restore all settings to the default values");return ft("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var n=this;return _j(Yo,function(a,s,o){var l=OH(n.$(s.selector),s.parser);return l!==void 0&&(a[o]=l),a},{})},r.setValues=function(n){var a=this;t0(Yo,function(s,o){RH(a.$(s.selector),n[o],s.parser)})},r.setDefaults=function(){var n=this;t0(Yo,function(a){var s=a.hasOwnProperty("default")?a.default:0;n.$(a.selector).selectedIndex=s})},r.restoreSettings=function(){var n;try{n=JSON.parse(B.localStorage.getItem(jv))}catch(a){nt.warn(a)}n&&this.setValues(n)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?B.localStorage.setItem(jv,JSON.stringify(n)):B.localStorage.removeItem(jv)}catch(a){nt.warn(a)}}},r.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,a=n&&n.subsCapsButton,s=n&&n.captionsButton;a?a.focus():s&&s.focus()},e}(Cc);ue.registerComponent("TextTrackSettings",LH);var FH=function(t){xe(e,t);function e(i,n){var a,s=n.ResizeObserver||B.ResizeObserver;n.ResizeObserver===null&&(s=!1);var o=Ht({createEl:!s,reportTouchActivity:!1},n);return a=t.call(this,i,o)||this,a.ResizeObserver=n.ResizeObserver||B.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=Rj(function(){a.resizeHandler()},100,!1,Ye(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var l=a.debouncedHandler_,u=a.unloadListener_=function(){nn(this,"resize",l),nn(this,"unload",u),u=null};si(a.el_.contentWindow,"unload",u),si(a.el_.contentWindow,"resize",l)}},a.one("load",a.loadListener_)),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(ue);ue.registerComponent("ResizeManager",FH);var MH={trackingThreshold:20,liveTolerance:15},BH=function(t){xe(e,t);function e(i,n){var a,s=Ht(MH,n,{createEl:!1});return a=t.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),fh&&"hidden"in ye&&"visibilityState"in ye&&a.on(ye,"visibilitychange",a.handleVisibilityChange_),a}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ye.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var n=this.player_.seekable();if(!(!n||!n.length)){var a=Number(B.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Yi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.end(s));return a.length?a.sort()[a.length-1]:1/0},r.seekableStart=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.start(s));return a.length?a.sort()[0]:0},r.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var n=this.seekableEnd();return this.lastSeekEnd_!==-1&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(ye,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(ue);ue.registerComponent("LiveTracker",BH);var V2=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var i=e.$$("source"),n=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(a=n[0]),e.triggerSourceset(a),!0):!1},UH=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=ye.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var i=ye.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",B.Element.prototype.appendChild.call(this,i),this.innerHTML}}),p9=function(e,r){for(var i={},n=0;n<e.length&&(i=Object.getOwnPropertyDescriptor(e[n],r),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},jH=function(e){return p9([e.el(),B.HTMLMediaElement.prototype,B.Element.prototype,UH],"innerHTML")},cE=function(e){var r=e.el();if(!r.resetSourceWatch_){var i={},n=jH(e),a=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=o.apply(r,u);return V2(e),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){r[s]&&(i[s]=r[s],r[s]=a(i[s]))}),Object.defineProperty(r,"innerHTML",Ht(n,{set:a(n.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",n)},e.one("sourceset",r.resetSourceWatch_)}},HH=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?H3(B.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return B.Element.prototype.setAttribute.call(this,"src",e),e}}),VH=function(e){return p9([e.el(),B.HTMLMediaElement.prototype,HH],"src")},zH=function(e){if(e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var i=VH(e),n=r.setAttribute,a=r.load;Object.defineProperty(r,"src",Ht(i,{set:function(o){var l=i.set.call(r,o);return e.triggerSourceset(r.src),l}})),r.setAttribute=function(s,o){var l=n.call(r,s,o);return/src/i.test(s)&&e.triggerSourceset(r.src),l},r.load=function(){var s=a.call(r);return V2(e)||(e.triggerSourceset(""),cE(e)),s},r.currentSrc?e.triggerSourceset(r.currentSrc):V2(e)||cE(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=a,r.setAttribute=n,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},S5=function(e,r,i,n){n===void 0&&(n=!0);var a=function(l){return Object.defineProperty(e,r,{value:l,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var l=i();return a(l),l}};return n&&(s.set=a),Object.defineProperty(e,r,s)},Ae=function(t){xe(e,t);function e(i,n){var a;a=t.call(this,i,n)||this;var s=i.source,o=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var l=a.el_.childNodes,u=l.length,c=[];u--;){var f=l[u],d=f.nodeName.toLowerCase();d==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(f),a.remoteTextTracks().addTrack(f.track),a.textTracks().addTrack(f.track),!o&&!a.el_.hasAttribute("crossorigin")&&u1(f.src)&&(o=!0)):c.push(f))}for(var h=0;h<c.length;h++)a.el_.removeChild(c[h])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&nt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(fc||e5||p3)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){zH(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),a,s=function(){a=[];for(var u=0;u<n.length;u++){var c=n[u];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),n.addEventListener("change",s),this.on("dispose",function(){return n.removeEventListener("change",s)});var o=function l(){for(var u=0;u<a.length;u++){var c=a[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}n.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",s),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",s),n.addEventListener("change",s),n.removeEventListener("change",o)})},r.overrideNative_=function(n,a){var s=this;if(a===this["featuresNative"+n+"Tracks"]){var o=n.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+n+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},r.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},r.proxyNativeTracksForType_=function(n){var a=this,s=Ei[n],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(d){var h={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(h),n==="text"&&a[mc.remoteText.getterName]().trigger(h)},addtrack:function(d){l.addTrack(d.track)},removetrack:function(d){l.removeTrack(d.track)}},c=function(){for(var d=[],h=0;h<l.length;h++){for(var y=!1,m=0;m<o.length;m++)if(o[m]===l[h]){y=!0;break}y||d.push(l[h])}for(;d.length;)l.removeTrack(d.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(f){var d=u[f];o.addEventListener(f,d),a.on("dispose",function(h){return o.removeEventListener(f,d)})}),this.on("loadstart",c),this.on("dispose",function(f){return a.off("loadstart",c)})}},r.proxyNativeTracks_=function(){var n=this;Ei.names.forEach(function(a){n.proxyNativeTracksForType_(a)})},r.createEl=function(){var n=this.options_.tag;if(!n||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(n){var a=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(a,n),e.disposeMediaElement(n),n=a}else{n=ye.createElement("video");var s=this.options_.tag&&Ba(this.options_.tag),o=Ht({},s);(!fc||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,w3(n,ar(o,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&dc(n,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],f=this.options_[c];typeof f<"u"&&(f?dc(n,c,c):i1(n,c),n[c]=f)}return n},r.handleLateInit_=function(n){if(!(n.networkState===0||n.networkState===3)){if(n.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),n.readyState>=2&&l.push("loadeddata"),n.readyState>=3&&l.push("canplay"),n.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(n){this.isScrubbing_=n},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&n1?this.el_.fastSeek(n):this.el_.currentTime=n}catch(a){nt(a,"Video is not ready. (Video.js)")}},r.duration=function(){var n=this;if(this.el_.duration===1/0&&Ps&&ks&&this.el_.currentTime===0){var a=function s(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){n.off("webkitbeginfullscreen",s),n.off("webkitendfullscreen",a)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=B.navigator&&B.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},r.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)wa(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(n){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(n):t.prototype.requestVideoFrameCallback.call(this,n)},r.cancelVideoFrameCallback=function(n){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(n):t.prototype.cancelVideoFrameCallback.call(this,n)},r.src=function(n){if(n===void 0)return this.el_.src;this.setSrc(n)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(n){this.el_.controls=!!n},r.addTextTrack=function(n,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,a,s):t.prototype.addTextTrack.call(this,n,a,s)},r.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var a=ye.createElement("track");return n.kind&&(a.kind=n.kind),n.label&&(a.label=n.label),(n.language||n.srclang)&&(a.srclang=n.language||n.srclang),n.default&&(a.default=n.default),n.id&&(a.id=n.id),n.src&&(a.src=n.src),a},r.addRemoteTextTrack=function(n,a){var s=t.prototype.addRemoteTextTrack.call(this,n,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(n===a[s]||n===a[s].track)&&this.el().removeChild(a[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),B.performance&&typeof B.performance.now=="function"?n.creationTime=B.performance.now():B.performance&&B.performance.timing&&typeof B.performance.timing.navigationStart=="number"&&(n.creationTime=B.Date.now()-B.performance.timing.navigationStart),n},e}(Dt);S5(Ae,"TEST_VID",function(){if(Ec()){var t=ye.createElement("video"),e=ye.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});Ae.isSupported=function(){try{Ae.TEST_VID.volume=.5}catch{return!1}return!!(Ae.TEST_VID&&Ae.TEST_VID.canPlayType)};Ae.canPlayType=function(t){return Ae.TEST_VID.canPlayType(t)};Ae.canPlaySource=function(t,e){return Ae.canPlayType(t.type)};Ae.canControlVolume=function(){try{var t=Ae.TEST_VID.volume;Ae.TEST_VID.volume=t/2+.1;var e=t!==Ae.TEST_VID.volume;return e&&Sn?(B.setTimeout(function(){Ae&&Ae.prototype&&(Ae.prototype.featuresVolumeControl=t!==Ae.TEST_VID.volume)}),!1):e}catch{return!1}};Ae.canMuteVolume=function(){try{var t=Ae.TEST_VID.muted;return Ae.TEST_VID.muted=!t,Ae.TEST_VID.muted?dc(Ae.TEST_VID,"muted","muted"):i1(Ae.TEST_VID,"muted","muted"),t!==Ae.TEST_VID.muted}catch{return!1}};Ae.canControlPlaybackRate=function(){if(Ps&&ks&&g3<58)return!1;try{var t=Ae.TEST_VID.playbackRate;return Ae.TEST_VID.playbackRate=t/2+.1,t!==Ae.TEST_VID.playbackRate}catch{return!1}};Ae.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(ye.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(ye.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(ye.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(ye.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ae.supportsNativeTextTracks=function(){return n1||Sn&&ks};Ae.supportsNativeVideoTracks=function(){return!!(Ae.TEST_VID&&Ae.TEST_VID.videoTracks)};Ae.supportsNativeAudioTracks=function(){return!!(Ae.TEST_VID&&Ae.TEST_VID.audioTracks)};Ae.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],r=t[1];S5(Ae.prototype,e,function(){return Ae[r]()},!0)});Ae.prototype.featuresVolumeControl=Ae.canControlVolume();Ae.prototype.movingMediaElementInDOM=!Sn;Ae.prototype.featuresFullscreenResize=!0;Ae.prototype.featuresProgressEvents=!0;Ae.prototype.featuresTimeupdateEvents=!0;Ae.prototype.featuresVideoFrameCallback=!!(Ae.TEST_VID&&Ae.TEST_VID.requestVideoFrameCallback);var qm;Ae.patchCanPlayType=function(){Y6>=4&&!m3&&!ks&&(qm=Ae.TEST_VID&&Ae.TEST_VID.constructor.prototype.canPlayType,Ae.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":qm.call(this,t)})};Ae.unpatchCanPlayType=function(){var t=Ae.TEST_VID.constructor.prototype.canPlayType;return qm&&(Ae.TEST_VID.constructor.prototype.canPlayType=qm),t};Ae.patchCanPlayType();Ae.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ae.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),r=e.length;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ae.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ae.prototype["set"+ur(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ae.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ae.prototype["set"+ur(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ae.prototype[t]=function(){return this.el_[t]()}});Dt.withSourceHandlers(Ae);Ae.nativeSourceHandler={};Ae.nativeSourceHandler.canPlayType=function(t){try{return Ae.TEST_VID.canPlayType(t)}catch{return""}};Ae.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ae.nativeSourceHandler.canPlayType(t.type);if(t.src){var r=o5(t.src);return Ae.nativeSourceHandler.canPlayType("video/"+r)}return""};Ae.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Ae.nativeSourceHandler.dispose=function(){};Ae.registerSourceHandler(Ae.nativeSourceHandler);Dt.registerTech("Html5",Ae);var m9=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],zv={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},z2=["tiny","xsmall","small","medium","large","xlarge","huge"],jp={};z2.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;jp[t]="vjs-layout-"+e});var GH={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Tr=function(t){xe(e,t);function e(i,n,a){var s;if(i.id=i.id||n.id||"vjs_video_"+Ds(),n=ar(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=i;l&&l.nodeType===1;){if(Ba(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if(s=t.call(this,null,n,a)||this,s.boundDocumentFullscreenChange_=function(d){return s.documentFullscreenChange_(d)},s.boundFullWindowOnEscKey_=function(d){return s.fullWindowOnEscKey(d)},s.boundUpdateStyleEl_=function(d){return s.updateStyleEl_(d)},s.boundApplyInitTime_=function(d){return s.applyInitTime_(d)},s.boundUpdateCurrentBreakpoint_=function(d){return s.updateCurrentBreakpoint_(d)},s.boundHandleTechClick_=function(d){return s.handleTechClick_(d)},s.boundHandleTechDoubleClick_=function(d){return s.handleTechDoubleClick_(d)},s.boundHandleTechTouchStart_=function(d){return s.handleTechTouchStart_(d)},s.boundHandleTechTouchMove_=function(d){return s.handleTechTouchMove_(d)},s.boundHandleTechTouchEnd_=function(d){return s.handleTechTouchEnd_(d)},s.boundHandleTechTap_=function(d){return s.handleTechTap_(d)},s.isFullscreen_=!1,s.log=f3(s.id_),s.fsApi_=jm,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Ba(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(d){u[d.toLowerCase()]=n.languages[d]}),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(d){if(typeof s[d]!="function")throw new Error('plugin "'+d+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),i5(Ye(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(si(ye,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=Ht(s.options_);n.plugins&&Object.keys(n.plugins).forEach(function(d){s[d](n.plugins[d])}),n.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),fc&&s.addClass("vjs-touch-enabled"),Sn||s.addClass("vjs-workinghover"),e.players[s.id_]=Ye(s);var f=l3.split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",function(d){return s.listenForUserActivity_(d)}),s.on("stageclick",function(d){return s.handleStageClick_(d)}),s.on("keydown",function(d){return s.handleKeyDown(d)}),s.on("languagechange",function(d){return s.handleLanguagechange(d)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var r=e.prototype;return r.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),nn(ye,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),nn(ye,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),cH(this),pn.names.forEach(function(a){var s=pn[a],o=n[s.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var n=this.tag,a,s=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=n.parentNode:o||(a=this.el_=t.prototype.createEl.call(this,"div"));var l=Ba(n);if(o){for(a=this.el_=n,n=this.tag=ye.createElement("video");a.children.length;)n.appendChild(a.firstChild);Rl(a,"video-js")||fs(a,"video-js"),a.appendChild(n),s=this.playerElIngest_=a,Object.keys(a).forEach(function(y){try{n[y]=a[y]}catch{}})}if(n.setAttribute("tabindex","-1"),l.tabindex="-1",(fh||ks&&v3)&&(n.setAttribute("role","application"),l.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(y){o&&y==="class"||a.setAttribute(y,l[y]),o&&n.setAttribute(y,l[y])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=a.player=this,this.addClass("vjs-paused"),B.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=N3("vjs-styles-dimensions");var u=Co(".vjs-styles-defaults"),c=Co("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=n.getElementsByTagName("a"),d=0;d<f.length;d++){var h=f.item(d);fs(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!s&&n.parentNode.insertBefore(a,n),L2(n,a),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},r.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");if(n!=="anonymous"&&n!=="use-credentials"){nt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"');return}this.techCall_("setCrossOrigin",n)},r.width=function(n){return this.dimension("width",n)},r.height=function(n){return this.dimension("height",n)},r.dimension=function(n,a){var s=n+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){nt.error('Improper value "'+a+'" supplied for for '+n);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(n){var a=this;if(n===void 0)return!!this.fluid_;this.fluid_=!!n,ds(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),Lj(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(n){if(n===void 0)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(n){if(n===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(B.VIDEOJS_NO_DYNAMIC_STYLE===!0){var n=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(n>=0&&(s.width=n),a>=0&&(s.height=a));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var f=u.split(":"),d=f[1]/f[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/d:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*d,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),O3(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+d*100+`%;
      }
    `)},r.loadTech_=function(n,a){var s=this;this.tech_&&this.unloadTech_();var o=ur(n),l=n.charAt(0).toLowerCase()+n.slice(1);o!=="Html5"&&this.tag&&(Dt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:a,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};pn.names.forEach(function(d){var h=pn[d];c[h.getterName]=s[h.privateName]}),ar(c,this.options_[o]),ar(c,this.options_[l]),ar(c,this.options_[n.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var f=Dt.getTech(n);if(!f)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new f(c),this.tech_.ready(zt(this,this.handleTechReady_),!0),q_.jsonToTextTracks(this.textTracksJson_||[],this.tech_),m9.forEach(function(d){s.on(s.tech_,d,function(h){return s["handleTech"+ur(d)+"_"](h)})}),Object.keys(zv).forEach(function(d){s.on(s.tech_,d,function(h){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+zv[d]+"_"].bind(s),event:h});return}s["handleTech"+zv[d]+"_"](h)})}),this.on(this.tech_,"loadstart",function(d){return s.handleTechLoadStart_(d)}),this.on(this.tech_,"sourceset",function(d){return s.handleTechSourceset_(d)}),this.on(this.tech_,"waiting",function(d){return s.handleTechWaiting_(d)}),this.on(this.tech_,"ended",function(d){return s.handleTechEnded_(d)}),this.on(this.tech_,"seeking",function(d){return s.handleTechSeeking_(d)}),this.on(this.tech_,"play",function(d){return s.handleTechPlay_(d)}),this.on(this.tech_,"firstplay",function(d){return s.handleTechFirstPlay_(d)}),this.on(this.tech_,"pause",function(d){return s.handleTechPause_(d)}),this.on(this.tech_,"durationchange",function(d){return s.handleTechDurationChange_(d)}),this.on(this.tech_,"fullscreenchange",function(d,h){return s.handleTechFullscreenChange_(d,h)}),this.on(this.tech_,"fullscreenerror",function(d,h){return s.handleTechFullscreenError_(d,h)}),this.on(this.tech_,"enterpictureinpicture",function(d){return s.handleTechEnterPictureInPicture_(d)}),this.on(this.tech_,"leavepictureinpicture",function(d){return s.handleTechLeavePictureInPicture_(d)}),this.on(this.tech_,"error",function(d){return s.handleTechError_(d)}),this.on(this.tech_,"posterchange",function(d){return s.handleTechPosterChange_(d)}),this.on(this.tech_,"textdata",function(d){return s.handleTechTextData_(d)}),this.on(this.tech_,"ratechange",function(d){return s.handleTechRateChange_(d)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&L2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var n=this;pn.names.forEach(function(a){var s=pn[a];n[s.privateName]=n[s.getterName]()}),this.textTracksJson_=q_.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(n){return n===void 0&&nt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(n){var a=this;if(!(!this.tech_||typeof n!="string")){var s=function(){var u=a.muted();a.muted(!0);var c=function(){a.muted(u)};a.playTerminatedQueue_.push(c);var f=a.play();if(Ff(f))return f.catch(function(d){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(d||""))})},o;if(n==="any"&&!this.muted()?(o=this.play(),Ff(o)&&(o=o.catch(s))):n==="muted"&&!this.muted()?o=s():o=this.play(),!!Ff(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:n})})}},r.updateSourceCaches_=function(n){n===void 0&&(n="");var a=n,s="";typeof a!="string"&&(a=n.src,s=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=hH(this,a)),this.cache_.source=Ht({},n,{src:a,type:s});for(var o=this.cache_.sources.filter(function(h){return h.src&&h.src===a}),l=[],u=this.$$("source"),c=[],f=0;f<u.length;f++){var d=Ba(u[f]);l.push(d),d.src&&d.src===a&&c.push(d.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},r.handleTechSourceset_=function(n){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,l=n.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),n.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},r.hasStarted=function(n){if(n===void 0)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(nt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(n){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,n):this.paused()?wa(this.play()):this.pause())},r.handleTechDoubleClick_=function(n){if(this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(n.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(n){var a=n.target.player;if(!(a&&a!==this)){var s=this.el(),o=ye[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(n,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},r.handleTechFullscreenError_=function(n,a){this.trigger("fullscreenerror",a)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var n=this.tech_.error();this.error(n)},r.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(n,a){this.ready(function(){if(n in lH)return sH(this.middleware_,this.tech_,n,a);if(n in Y_)return X_(this.middleware_,this.tech_,n,a);try{this.tech_&&this.tech_[n](a)}catch(s){throw nt(s),s}},!0)},r.techGet_=function(n){if(!(!this.tech_||!this.tech_.isReady_)){if(n in oH)return aH(this.middleware_,this.tech_,n);if(n in Y_)return X_(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(a){throw this.tech_[n]===void 0?(nt("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(nt("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(nt(a),a)}}},r.play=function(){var n=this,a=this.options_.Promise||B.Promise;return a?new a(function(s){n.play_(s)}):this.play_()},r.play_=function(n){var a=this;n===void 0&&(n=wa),this.playCallbacks_.push(n);var s=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(n1||Sn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(c){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&o&&this.load();return}var l=this.techGet_("play"),u=o&&this.hasClass("vjs-ended");u&&this.resetProgressBar_(),l===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(l)},r.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(a){a()})},r.runPlayCallbacks_=function(n){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(n)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Ll(0,0)},r.scrubbing=function(n){if(typeof n>"u")return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(n){if(typeof n<"u"){if(n<0&&(n=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",n),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(n){if(n===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;n=parseFloat(n),n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Ll(0,0)),n},r.bufferedPercent=function(){return U3(this.buffered(),this.duration())},r.bufferedEnd=function(){var n=this.buffered(),a=this.duration(),s=n.end(n.length-1);return s>a&&(s=a),s},r.volume=function(n){var a;if(n!==void 0){a=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},r.muted=function(n){if(n!==void 0){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},r.defaultMuted=function(n){return n!==void 0?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(n){if(n!==void 0&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(n){if(n!==void 0){var a=this.isFullscreen_;this.isFullscreen_=!!n,this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(n){var a=this.options_.Promise||B.Promise;if(a){var s=this;return new a(function(o,l){function u(){s.off("fullscreenerror",f),s.off("fullscreenchange",c)}function c(){u(),o()}function f(h,y){u(),l(y)}s.one("fullscreenchange",c),s.one("fullscreenerror",f);var d=s.requestFullscreenHelper_(n);d&&(d.then(u,u),d.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(n){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},n!==void 0&&(s=n)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var n=this.options_.Promise||B.Promise;if(n){var a=this;return new n(function(s,o){function l(){a.off("fullscreenerror",c),a.off("fullscreenchange",u)}function u(){l(),s()}function c(d,h){l(),o(h)}a.one("fullscreenchange",u),a.one("fullscreenerror",c);var f=a.exitFullscreenHelper_();f&&(f.then(l,l),f.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var a=ye[this.fsApi_.exitFullscreen]();return a&&wa(a.then(function(){return n.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ye.documentElement.style.overflow,si(ye,"keydown",this.boundFullWindowOnEscKey_),ye.documentElement.style.overflow="hidden",fs(ye.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(n){et.isEventKey(n,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,nn(ye,"keydown",this.boundFullWindowOnEscKey_),ye.documentElement.style.overflow=this.docOrigOverflow,dh(ye.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(n){if(n===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(n){if(n!==void 0){this.isInPictureInPicture_=!!n,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ye&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ye)return ye.exitPictureInPicture()},r.handleKeyDown=function(n){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var f=["textarea"];return f.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,n):this.handleHotkeys(n))}},r.handleHotkeys=function(n){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(m){return et.isEventKey(m,"f")}:s,l=a.muteKey,u=l===void 0?function(m){return et.isEventKey(m,"m")}:l,c=a.playPauseKey,f=c===void 0?function(m){return et.isEventKey(m,"k")||et.isEventKey(m,"Space")}:c;if(o.call(this,n)){n.preventDefault(),n.stopPropagation();var d=ue.getComponent("FullscreenToggle");ye[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,n)}else if(u.call(this,n)){n.preventDefault(),n.stopPropagation();var h=ue.getComponent("MuteToggle");h.prototype.handleClick.call(this,n)}else if(f.call(this,n)){n.preventDefault(),n.stopPropagation();var y=ue.getComponent("PlayToggle");y.prototype.handleClick.call(this,n)}},r.canPlayType=function(n){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=Dt.getTech(l);if(u||(u=ue.getComponent(l)),!u){nt.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(a=u.canPlayType(n),a))return a}return""},r.selectSource=function(n){var a=this,s=this.options_.techOrder.map(function(f){return[f,Dt.getTech(f)]}).filter(function(f){var d=f[0],h=f[1];return h?h.isSupported():(nt.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(d,h,y){var m;return d.some(function(T){return h.some(function(b){if(m=y(T,b),m)return!0})}),m},l,u=function(d){return function(h,y){return d(y,h)}},c=function(d,h){var y=d[0],m=d[1];if(m.canPlaySource(h,a.options_[y.toLowerCase()]))return{source:h,tech:y}};return this.options_.sourceOrder?l=o(n,s,u(c)):l=o(s,n,c),l||!1},r.handleSrc_=function(n,a){var s=this;if(typeof n>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=pH(n);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),nH(this,o[0],function(c,f){s.middleware_=f,a||(s.cache_.sources=o),s.updateSourceCaches_(c);var d=s.src_(c);if(d){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}iH(f,s.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},u=function(){s.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",u)}}},r.src=function(n){return this.handleSrc_(n,!1)},r.src_=function(n){var a=this,s=this.selectSource([n]);return s?Bj(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var n=this,a=this.options_.Promise||B.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();wa(s.then(function(){return n.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ds(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar||{},a=n.durationDisplay,s=n.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var n=this.currentSource(),a=[];return Object.keys(n).length!==0&&a.push(n),this.cache_.sources||a},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(n){if(n!==void 0){this.techCall_("setPreload",n),this.options_.preload=n;return}return this.techGet_("preload")},r.autoplay=function(n){if(n===void 0)return this.options_.autoplay||!1;var a;typeof n=="string"&&/(any|play|muted)/.test(n)||n===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_(typeof n=="string"?n:"play"),a=!1):n?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},r.playsinline=function(n){return n!==void 0?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},r.loop=function(n){if(n!==void 0){this.techCall_("setLoop",n),this.options_.loop=n;return}return this.techGet_("loop")},r.poster=function(n){if(n===void 0)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(n){if(n===void 0)return!!this.controls_;n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(n){if(n===void 0)return!!this.usingNativeControls_;n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(n){var a=this;if(n===void 0)return this.error_||null;if(Ao("beforeerror").forEach(function(o){var l=o(a,n);if(!(ws(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}n=l}),this.options_.suppressNotSupportedError&&n&&n.code===4){var s=function(){this.error(n)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(n===null){this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new bn(n),this.addClass("vjs-error"),nt.error("(CODE:"+this.error_.code+" "+bn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Ao("error").forEach(function(o){return o(a,a.error_)})},r.reportUserActivity=function(n){this.userActivity_=!0},r.userActive=function(n){if(n===void 0)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var n,a,s,o=zt(this,this.reportUserActivity),l=function(y){(y.screenX!==a||y.screenY!==s)&&(a=y.screenX,s=y.screenY,o())},u=function(){o(),this.clearInterval(n),n=this.setInterval(o,250)},c=function(y){o(),this.clearInterval(n)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var f=this.getChild("controlBar");f&&!Sn&&!Ps&&(f.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var d;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);var h=this.options_.inactivityTimeout;h<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))}},250)},r.playbackRate=function(n){if(n!==void 0){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(n){return n!==void 0?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(n){if(n!==void 0){this.isAudio_=!!n;return}return!!this.isAudio_},r.enableAudioOnlyUI_=function(){var n=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(l){l!==s&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),n.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(n){return n.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(n){var a=this;if(typeof n!="boolean"||n===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=n;var s=this.options_.Promise||B.Promise;if(s){if(n){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}n?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(n){var a=this;if(typeof n!="boolean"||n===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=n;var s=this.options_.Promise||B.Promise;if(s){if(n){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(n){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},r.addTextTrack=function(n,a,s){if(this.tech_)return this.tech_.addTextTrack(n,a,s)},r.addRemoteTextTrack=function(n,a){if(this.tech_)return this.tech_.addRemoteTextTrack(n,a)},r.removeRemoteTextTrack=function(n){n===void 0&&(n={});var a=n,s=a.track;if(s||(s=n),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(n){if(n===void 0)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),ds(this)&&this.trigger("languagechange"))},r.languages=function(){return Ht(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var n=Ht(this.options_),a=n.tracks;n.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=Ht(o),o.player=void 0,n.tracks[s]=o}return n},r.createModal=function(n,a){var s=this;a=a||{},a.content=n||"";var o=new Cc(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var n=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<z2.length;s++){var o=z2[s],l=this.breakpoints_[o];if(a<=l){if(n===o)return;n&&this.removeClass(jp[n]),this.addClass(jp[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},r.breakpoints=function(n){return n===void 0?ar(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=ar({},GH,n),this.updateCurrentBreakpoint_(),ar(this.breakpoints_))},r.responsive=function(n){if(n===void 0)return this.responsive_;n=!!n;var a=this.responsive_;if(n!==a)return this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return jp[this.breakpoint_]||""},r.loadMedia=function(n,a){var s=this;if(!(!n||typeof n!="object")){this.reset(),this.cache_.media=Ht(n);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,f=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:zm(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(f)&&f.forEach(function(d){return s.addRemoteTextTrack(d,!1)}),this.ready(a)}},r.getMedia=function(){if(!this.cache_.media){var n=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:a,textTracks:s};return n&&(o.poster=n,o.artwork=[{src:o.poster,type:zm(o.poster)}]),o}return Ht(this.cache_.media)},e.getTagSettings=function(n){var a={sources:[],tracks:[]},s=Ba(n),o=s["data-setup"];if(Rl(n,"vjs-fill")&&(s.fill=!0),Rl(n,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=wM(o||"{}"),u=l[0],c=l[1];u&&nt.error(u),ar(s,c)}if(ar(a,s),n.hasChildNodes())for(var f=n.childNodes,d=0,h=f.length;d<h;d++){var y=f[d],m=y.nodeName.toLowerCase();m==="source"?a.sources.push(Ba(y)):m==="track"&&a.tracks.push(Ba(y))}return a},r.flexNotSupported_=function(){var n=ye.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},r.debug=function(n){if(n===void 0)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(n){if(n===void 0)return this.cache_.playbackRates;Array.isArray(n)&&n.every(function(a){return typeof a=="number"})&&(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},e}(ue);pn.names.forEach(function(t){var e=pn[t];Tr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Tr.prototype.crossorigin=Tr.prototype.crossOrigin;Tr.players={};var ef=B.navigator;Tr.prototype.options_={techOrder:Dt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ef&&(ef.languages&&ef.languages[0]||ef.userLanguage||ef.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Tr.prototype[t]=function(){return this.techGet_(t)}});m9.forEach(function(t){Tr.prototype["handleTech"+ur(t)+"_"]=function(){return this.trigger(t)}});ue.registerComponent("Player",Tr);var Wm="plugin",r0="activePlugins_",Hu={},$m=function(e){return Hu.hasOwnProperty(e)},Hp=function(e){return $m(e)?Hu[e]:void 0},g9=function(e,r){e[r0]=e[r0]||{},e[r0][r]=!0},Qm=function(e,r,i){var n=(i?"before":"")+"pluginsetup";e.trigger(n,r),e.trigger(n+":"+r.name,r)},qH=function(e,r){var i=function(){Qm(this,{name:e,plugin:r,instance:null},!0);var a=r.apply(this,arguments);return g9(this,e),Qm(this,{name:e,plugin:r,instance:a}),a};return Object.keys(r).forEach(function(n){i[n]=r[n]}),i},fE=function(e,r){return r.prototype.name=e,function(){Qm(this,{name:e,plugin:r,instance:null},!0);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=Lf(r,[this].concat(n));return this[e]=function(){return s},Qm(this,s.getEventHash()),s}},Ia=function(){function t(r){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),i5(this),delete this.trigger,B3(this,this.constructor.defaultState),g9(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,n){return n===void 0&&(n={}),Ac(this.eventBusEl_,i,this.getEventHash(n))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[r0][i]=!1,this.player=this.state=null,n[i]=fE(i,Hu[i])},t.isBasic=function(i){var n=typeof i=="string"?Hp(i):i;return typeof n=="function"&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(i,n){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if($m(i))nt.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Tr.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof n!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof n+".");return Hu[i]=n,i!==Wm&&(t.isBasic(n)?Tr.prototype[i]=qH(i,n):Tr.prototype[i]=fE(i,n)),n},t.deregisterPlugin=function(i){if(i===Wm)throw new Error("Cannot de-register base plugin.");$m(i)&&(delete Hu[i],delete Tr.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(Hu));var n;return i.forEach(function(a){var s=Hp(a);s&&(n=n||{},n[a]=s)}),n},t.getPluginVersion=function(i){var n=Hp(i);return n&&n.VERSION||""},t}();Ia.getPlugin=Hp;Ia.BASE_PLUGIN_NAME=Wm;Ia.registerPlugin(Wm,Ia);Tr.prototype.usingPlugin=function(t){return!!this[r0]&&this[r0][t]===!0};Tr.prototype.hasPlugin=function(t){return!!$m(t)};var dE=!1,WH=function(e,r){r===void 0&&(r={}),dE||(nt.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),dE=!0);var i=function(){e.apply(this,arguments)},n={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),n=r):typeof r=="function"&&(i=r),fB(i,e),e&&(i.super_=e);for(var a in n)n.hasOwnProperty(a)&&(i.prototype[a]=n[a]);return i},v9=function(e){return e.indexOf("#")===0?e.slice(1):e};function G(t,e,r){var i=G.getPlayer(t);if(i)return e&&nt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var n=typeof t=="string"?Co("#"+v9(t)):t;if(!Sc(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&nt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),Ao("beforesetup").forEach(function(s){var o=s(n,Ht(e));if(!ws(o)||Array.isArray(o)){nt.error("please return an object in beforesetup hooks");return}e=Ht(e,o)});var a=ue.getComponent("Player");return i=new a(n,e,r),Ao("setup").forEach(function(s){return s(i)}),i}G.hooks_=rs;G.hooks=Ao;G.hook=bj;G.hookOnce=xj;G.removeHook=u3;if(B.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ec()){var fp=Co(".vjs-styles-defaults");if(!fp){fp=N3("vjs-styles-defaults");var Gv=Co("head");Gv&&Gv.insertBefore(fp,Gv.firstChild),O3(fp,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}M2(1,G);G.VERSION=l3;G.options=Tr.prototype.options_;G.getPlayers=function(){return Tr.players};G.getPlayer=function(t){var e=Tr.players,r;if(typeof t=="string"){var i=v9(t),n=e[i];if(n)return n;r=Co("#"+i)}else r=t;if(Sc(r)){var a=r,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};G.getAllPlayers=function(){return Object.keys(Tr.players).map(function(t){return Tr.players[t]}).filter(Boolean)};G.players=Tr.players;G.getComponent=ue.getComponent;G.registerComponent=function(t,e){Dt.isTech(e)&&nt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ue.registerComponent.call(ue,t,e)};G.getTech=Dt.getTech;G.registerTech=Dt.registerTech;G.use=rH;Object.defineProperty(G,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(G.middleware,"TERMINATOR",{value:Vm,writeable:!1,enumerable:!0});G.browser=Aj;G.TOUCH_ENABLED=fc;G.extend=WH;G.mergeOptions=Ht;G.bind=zt;G.registerPlugin=Ia.registerPlugin;G.deregisterPlugin=Ia.deregisterPlugin;G.plugin=function(t,e){return nt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ia.registerPlugin(t,e)};G.getPlugins=Ia.getPlugins;G.getPlugin=Ia.getPlugin;G.getPluginVersion=Ia.getPluginVersion;G.addLanguage=function(t,e){var r;return t=(""+t).toLowerCase(),G.options.languages=Ht(G.options.languages,(r={},r[t]=e,r)),G.options.languages[t]};G.log=nt;G.createLogger=f3;G.createTimeRange=G.createTimeRanges=Ll;G.formatTime=gc;G.setFormatTime=TH;G.resetFormatTime=wH;G.parseUrl=s5;G.isCrossOrigin=u1;G.EventTarget=Br;G.on=si;G.one=o1;G.off=nn;G.trigger=Ac;G.xhr=f4;G.TextTrack=hh;G.AudioTrack=V3;G.VideoTrack=z3;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){G[t]=function(){return nt.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),D3[t].apply(null,arguments)}});G.computedStyle=_d;G.dom=D3;G.url=Jj;G.defineLazyProperty=S5;G.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.2 @license Apache-2.0 */var Vi=Kg,Km=function(e,r,i){return e&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},ea=function(e){return G.log.debug?G.log.debug.bind(G,"VHS:",e+" >"):function(){}},Po=1/30,_a=Po*3,y9=function(e,r){var i=[],n;if(e&&e.length)for(n=0;n<e.length;n++)r(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return G.createTimeRanges(i)},Vu=function(e,r){return y9(e,function(i,n){return i-_a<=r&&n+_a>=r})},dp=function(e,r){return y9(e,function(i){return i-Po>=r})},$H=function(e){if(e.length<2)return G.createTimeRanges();for(var r=[],i=1;i<e.length;i++){var n=e.end(i-1),a=e.start(i);r.push([n,a])}return G.createTimeRanges(r)},QH=function(e,r){var i=null,n=null,a=0,s=[],o=[];if(!e||!e.length||!r||!r.length)return G.createTimeRange();for(var l=e.length;l--;)s.push({time:e.start(l),type:"start"}),s.push({time:e.end(l),type:"end"});for(l=r.length;l--;)s.push({time:r.start(l),type:"start"}),s.push({time:r.end(l),type:"end"});for(s.sort(function(u,c){return u.time-c.time}),l=0;l<s.length;l++)s[l].type==="start"?(a++,a===2&&(i=s[l].time)):s[l].type==="end"&&(a--,a===1&&(n=s[l].time)),i!==null&&n!==null&&(o.push([i,n]),i=null,n=null);return G.createTimeRanges(o)},b9=function(e){var r=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)r.push(e.start(i)+" => "+e.end(i));return r.join(", ")},KH=function(e,r,i){i===void 0&&(i=1);var n=e.length?e.end(e.length-1):0;return(n-r)/i},al=function(e){for(var r=[],i=0;i<e.length;i++)r.push({start:e.start(i),end:e.end(i)});return r},XH=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==r.start(i)||e.end(i)!==r.end(i))return!0;return!1},hE=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},A5=function(e,r){var i=0;if(!e||!e.length)return i;for(var n=0;n<e.length;n++){var a=e.start(n),s=e.end(n);if(!(r>s)){if(r>a&&r<=s){i+=s-r;continue}i+=s-a}}return i},pE=G.createTimeRange,C5=function(e,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(n){i+=n.duration}),(r.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=e.partTargetDuration)}),i},G2=function(e){return(e.segments||[]).reduce(function(r,i,n){return i.parts?i.parts.forEach(function(a,s){r.push({duration:a.duration,segmentIndex:n,partIndex:s,part:a,segment:i})}):r.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),r},[])},x9=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},T9=function(e){var r=e.preloadSegment;if(r){var i=r.parts,n=r.preloadHints,a=(n||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},w9=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=x9(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},YH=function(e,r){var i=0,n=r-e.mediaSequence,a=e.segments[n];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;n--;){if(a=e.segments[n],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=C5(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},JH=function(e,r){for(var i=0,n,a=r-e.mediaSequence;a<e.segments.length;a++){if(n=e.segments[a],typeof n.start<"u")return{result:n.start-i,precise:!0};if(i+=C5(e,n),typeof n.end<"u")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},_9=function(e,r,i){if(typeof r>"u"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var n=YH(e,r);if(n.precise)return n.result;var a=JH(e,r);return a.precise?a.result:n.result+i},E9=function(e,r,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof r>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return B.Infinity}return _9(e,r,i)},Mf=function(e){var r=e.defaultDuration,i=e.durationList,n=e.startIndex,a=e.endIndex,s=0;if(n>a){var o=[a,n];n=o[0],a=o[1]}if(n<0){for(var l=n;l<Math.min(0,a);l++)s+=r;n=0}for(var u=n;u<a;u++)s+=i[u].duration;return s},S9=function(e,r,i,n){if(!e||!e.segments)return null;if(e.endList)return E9(e);if(r===null)return null;r=r||0;var a=_9(e,e.mediaSequence+e.segments.length,r);return i&&(n=typeof n=="number"?n:w9(null,e),a-=n),Math.max(0,a)},ZH=function(e,r,i){var n=!0,a=r||0,s=S9(e,r,n,i);return s===null?pE():pE(a,s)},eV=function(e){for(var r=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,l=i-s,u=G2(r),c=0,f=0;f<u.length;f++){var d=u[f];if(n===d.segmentIndex&&!(typeof a=="number"&&typeof d.partIndex=="number"&&a!==d.partIndex)){c=f;break}}if(l<0){if(c>0)for(var h=c-1;h>=0;h--){var y=u[h];if(l+=y.duration,o){if(l<0)continue}else if(l+Po<=0)continue;return{partIndex:y.partIndex,segmentIndex:y.segmentIndex,startTime:s-Mf({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:h})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i}}if(c<0){for(var m=c;m<0;m++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i};c=0}for(var T=c;T<u.length;T++){var b=u[T];if(l-=b.duration,o){if(l>0)continue}else if(l-Po>=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:s+Mf({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:T})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:i}},A9=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},P5=function(e){return e.excludeUntil&&e.excludeUntil===1/0},h1=function(e){var r=A9(e);return!e.disabled&&!r},tV=function(e){return e.disabled},rV=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},C9=function(e,r){return r.attributes&&r.attributes[e]},nV=function(e,r,i,n){if(n===void 0&&(n=0),!C9("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-n*8)/r},q2=function(e,r){if(e.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(n){return h1(n)?(n.attributes.BANDWIDTH||0)<i:!1}).length===0},k5=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},mE=function(e,r){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var a in i){for(var s in i[a])if(n=r(i[a][s]),n)break;if(n)break}return!!n},gh=function(e){if(!e||!e.playlists||!e.playlists.length){var r=mE(e,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(f){return y4(f)}))return"continue";var c=mE(e,function(f){return k5(l,f)});return c?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var a=i(n);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Fn={liveEdgeDelay:w9,duration:E9,seekable:ZH,getMediaInfoForTime:eV,isEnabled:h1,isDisabled:tV,isBlacklisted:A9,isIncompatible:P5,playlistEnd:S9,isAes:rV,hasAttribute:C9,estimateSegmentRequestTime:nV,isLowestEnabledRendition:q2,isAudioOnly:gh,playlistMatch:k5,segmentDurationWithParts:C5},P9=G.log,D5=function(e,r){return e+"-"+r},iV=function(e,r,i){return"placeholder-uri-"+e+"-"+r+"-"+i},aV=function(e){var r=e.onwarn,i=e.oninfo,n=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,c=new bB;r&&c.on("warn",r),i&&c.on("info",i),s.forEach(function(m){return c.addParser(m)}),l.forEach(function(m){return c.addTagMapper(m)}),c.push(n),c.end();var f=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(m){f.hasOwnProperty(m)&&delete f[m]}),f.segments&&f.segments.forEach(function(m){["parts","preloadHints"].forEach(function(T){m.hasOwnProperty(T)&&delete m[T]})})),!f.targetDuration){var d=10;f.segments&&f.segments.length&&(d=f.segments.reduce(function(m,T){return Math.max(m,T.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+d),f.targetDuration=d}var h=x9(f);if(h.length&&!f.partTargetDuration){var y=h.reduce(function(m,T){return Math.max(m,T.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+y),P9.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=y}return f},Ic=function(e,r){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(i){if(e.mediaGroups[i])for(var n in e.mediaGroups[i])for(var a in e.mediaGroups[i][n]){var s=e.mediaGroups[i][n][a];r(s,i,n,a)}})},k9=function(e){var r=e.playlist,i=e.uri,n=e.id;r.id=n,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},sV=function(e){for(var r=e.playlists.length;r--;){var i=e.playlists[r];k9({playlist:i,id:D5(r,i.uri)}),i.resolvedUri=Vi(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||P9.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},oV=function(e){Ic(e,function(r){r.uri&&(r.resolvedUri=Vi(e.uri,r.uri))})},lV=function(e,r){var i=D5(0,r),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:B.location.href,resolvedUri:B.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[r]=n.playlists[0],n},D9=function(e,r,i){i===void 0&&(i=iV),e.uri=r;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var a="placeholder-uri-"+n;e.playlists[n].uri=a}var s=gh(e);Ic(e,function(o,l,u,c){if(!o.playlists||!o.playlists.length){if(s&&l==="AUDIO"&&!o.uri)for(var f=0;f<e.playlists.length;f++){var d=e.playlists[f];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===u)return}o.playlists=[Pi({},o)]}o.playlists.forEach(function(h,y){var m=i(l,u,c,h),T=D5(y,m);h.uri?h.resolvedUri=h.resolvedUri||Vi(e.uri,h.uri):(h.uri=y===0?m:T,h.resolvedUri=h.uri),h.id=h.id||T,h.attributes=h.attributes||{},e.playlists[h.id]=h,e.playlists[h.uri]=h})}),sV(e),oV(e)},Xm=G.mergeOptions,uV=G.EventTarget,cV=function(e,r){if(r.endList||!r.serverControl)return e;var i={};if(r.serverControl.canBlockReload){var n=r.preloadSegment,a=r.mediaSequence+r.segments.length;if(n){var s=n.parts||[],o=T9(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var l=new B.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){i.hasOwnProperty(u)&&l.searchParams.set(u,i[u])}),e=l.toString()}return e},fV=function(e,r){if(!e)return r;var i=Xm(e,r);if(e.preloadHints&&!r.preloadHints&&delete i.preloadHints,e.parts&&!r.parts)delete i.parts;else if(e.parts&&r.parts)for(var n=0;n<r.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=Xm(e.parts[n],r.parts[n]));return!e.skipped&&r.skipped&&(i.skipped=!1),e.preload&&!r.preload&&(i.preload=!1),i},dV=function(e,r,i){var n=e.slice(),a=r.slice();i=i||0;for(var s=[],o,l=0;l<a.length;l++){var u=n[l+i],c=a[l];u?(o=u.map||o,s.push(fV(u,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},I9=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=Vi(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Vi(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Vi(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Vi(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Vi(r,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Vi(r,i.uri))})},N9=function(e){var r=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return r}i.duration=e.targetDuration,i.preload=!0,r.push(i)}return r},O9=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},W2=function(e,r,i){i===void 0&&(i=O9);var n=Xm(e,{}),a=n.playlists[r.id];if(!a||i(a,r))return null;r.segments=N9(r);var s=Xm(a,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,a.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=dV(a.segments,r.segments,r.mediaSequence-a.mediaSequence)}s.segments.forEach(function(u){I9(u,s.resolvedUri)});for(var l=0;l<n.playlists.length;l++)n.playlists[l].id===r.id&&(n.playlists[l]=s);return n.playlists[r.id]=s,n.playlists[r.uri]=s,Ic(e,function(u,c,f,d){if(u.playlists)for(var h=0;h<u.playlists.length;h++)r.id===u.playlists[h].id&&(u.playlists[h]=s)}),n},$2=function(e,r){var i=e.segments||[],n=i[i.length-1],a=n&&n.parts&&n.parts[n.parts.length-1],s=a&&a.duration||n&&n.duration;return r&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},zu=function(t){xe(e,t);function e(i,n,a){var s;if(a===void 0&&(a={}),s=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=ea("PlaylistLoader");var o=a,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,f=c===void 0?!1:c;s.src=i,s.vhs_=n,s.withCredentials=u,s.handleManifestRedirects=f;var d=n.options_;return s.customTagParsers=d&&d.customTagParsers||[],s.customTagMappers=d&&d.customTagMappers||[],s.experimentalLLHLS=d&&d.experimentalLLHLS||!1,G.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(Ye(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var n=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=Vi(this.master.uri,a.uri);this.experimentalLLHLS&&(s=cV(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,l){if(n.request){if(o)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},r.playlistRequestError=function(n,a,s){var o=a.uri,l=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:n.status,message:"HLS playlist request error at URL: "+o+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(n){var a=this,s=n.url,o=n.manifestString;return aV({onwarn:function(u){var c=u.message;return a.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(u){var c=u.message;return a.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(n){var a=n.playlistString,s=n.playlistObject,o=n.url,l=n.id;this.request=null,this.state="HAVE_METADATA";var u=s||this.parseManifest_({url:o,manifestString:a});u.lastRequest=Date.now(),k9({playlist:u,uri:o,id:l});var c=W2(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_($2(this.media(),!!c)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),B.clearTimeout(this.mediaUpdateTimeout),B.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n,a){var s=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(B.clearTimeout(this.finalRenditionTimeout),a){var o=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=B.setTimeout(this.media.bind(this,n,!1),o);return}var l=this.state,u=!this.media_||n.id!==this.media_.id,c=this.master.playlists[n.id];if(c&&c.endList||n.endList&&n.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_($2(n,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(f,d){if(s.request){if(n.lastRequest=Date.now(),n.resolvedUri=Km(s.handleManifestRedirects,n.resolvedUri,d),f)return s.playlistRequestError(s.request,n,l);s.haveMetadata({playlistString:d.responseText,url:n.uri,id:n.id}),l==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(n){var a=this;this.mediaUpdateTimeout&&(B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(n){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=B.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(n){var a=this;this.mediaUpdateTimeout&&(B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=B.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(n)},n))},r.start=function(){var n=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=B.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){n.setupInitialPlaylist(n.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(n.request){if(n.request=null,a)return n.error={status:s.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:s.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.src=Km(n.handleManifestRedirects,n.src,s);var o=n.parseManifest_({manifestString:s.responseText,url:n.src});n.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists){this.master=n,D9(this.master,this.srcUri()),n.playlists.forEach(function(s){s.segments=N9(s),s.segments.forEach(function(o){I9(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||B.location.href;this.master=lV(n,a),this.haveMetadata({playlistObject:n,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(uV),hV=G.xhr,pV=G.mergeOptions,Q2=function(e,r,i,n){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),n(r,e)},R9=function(){var e=function r(i,n){i=pV({timeout:45e3},i);var a=r.beforeRequest||G.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=G.Vhs.xhr.original===!0?hV:G.Vhs.xhr,l=o(i,function(c,f){return Q2(l,c,f,n)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=i.uri,l.requestTime=Date.now(),l};return e.original=!0,e},mV=function(e){var r,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=B.BigInt(e.offset)+B.BigInt(e.length)-B.BigInt(1):r=e.offset+e.length-1,"bytes="+i+"-"+r},K2=function(e){var r={};return e.byterange&&(r.Range=mV(e.byterange)),r},gV=function(e,r){return e.start(r)+"-"+e.end(r)},vV=function(e,r){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},yV=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},L9=function(e){var r={};return Object.keys(e).forEach(function(i){var n=e[i];x4(n)?r[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:r[i]=n}),r},Ym=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},F9=function(e){return e.resolvedUri},M9=function(e){for(var r=Array.prototype.slice.call(e),i=16,n="",a,s,o=0;o<r.length/i;o++)a=r.slice(o*i,o*i+i).map(vV).join(""),s=r.slice(o*i,o*i+i).map(yV).join(""),n+=a+" "+s+`
`;return n},bV=function(e){var r=e.bytes;return M9(r)},xV=function(e){var r="",i;for(i=0;i<e.length;i++)r+=gV(e,i)+" ";return r},TV=Object.freeze({__proto__:null,createTransferableMessage:L9,initSegmentId:Ym,segmentKeyId:F9,hexDump:M9,tagDump:bV,textRanges:xV}),B9=.25,wV=function(e,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,n=r.videoTimingInfo.transmuxedPresentationStart,a=n+i,s=e-a;return new Date(r.dateTimeObject.getTime()+s*1e3)},_V=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},EV=function(e,r){var i;try{i=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var n=r.segments[0];if(i<n.dateTimeObject)return null;for(var a=0;a<r.segments.length-1;a++){n=r.segments[a];var s=r.segments[a+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?_V(o.videoTimingInfo):o.duration+o.duration*B9,c=new Date(l.getTime()+u*1e3);return i>c?null:(i>l&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Fn.duration(r,r.mediaSequence+r.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},SV=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,n,a=0;a<r.segments.length&&(n=r.segments[a],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));a++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*B9)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},AV=function(e,r){var i,n;try{i=new Date(e),n=new Date(r)}catch{}var a=i.getTime(),s=n.getTime();return(s-a)/1e3},CV=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var i=e.segments[r];if(!i.dateTimeObject)return!1}return!0},PV=function(e){var r=e.playlist,i=e.time,n=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!r||n===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=SV(n,r);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:n},l=wV(n,s.segment);return l&&(o.programDateTime=l.toISOString()),a(null,o)},kV=function t(e){var r=e.programTime,i=e.playlist,n=e.retryCount,a=n===void 0?2:n,s=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!CV(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var f=EV(r,i);if(!f)return c({message:r+" was not found in the stream"});var d=f.segment,h=AV(d.dateTimeObject,r);if(f.type==="estimate"){if(a===0)return c({message:r+" is not buffered yet. Try again"});s(f.estimatedStart+h),u.one("seeked",function(){t({programTime:r,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})});return}var y=d.start+h,m=function(){return c(null,u.currentTime())};u.one("seeked",m),l&&u.pause(),s(y)},qv=function(e,r){if(e.readyState===4)return r()},DV=function(e,r,i){var n=[],a,s=!1,o=function(d,h,y,m){return h.abort(),s=!0,i(d,h,y,m)},l=function(d,h){if(!s){if(d)return o(d,h,"",n);var y=h.responseText.substring(n&&n.byteLength||0,h.responseText.length);if(n=IB(n,T4(y,!0)),a=a||yf(n),n.length<10||a&&n.length<a+2)return qv(h,function(){return o(d,h,"",n)});var m=W6(n);return m==="ts"&&n.length<188?qv(h,function(){return o(d,h,"",n)}):!m&&n.length<376?qv(h,function(){return o(d,h,"",n)}):o(null,h,m,n)}},u={uri:e,beforeSend:function(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function(h){return h.total,h.loaded,Q2(d,null,{statusCode:d.status},l)})}},c=r(u,function(f,d){return Q2(c,f,d,l)});return c},IV=G.EventTarget,U9=G.mergeOptions,gE=function(e,r){if(!O9(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var i=0;i<e.segments.length;i++){var n=e.segments[i],a=r.segments[i];if(n.uri!==a.uri)return!1;if(!(!n.byterange&&!a.byterange)){var s=n.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},NV=function(e,r,i,n){var a=n.attributes.NAME||i;return"placeholder-uri-"+e+"-"+r+"-"+a},OV=function(e){var r=e.masterXml,i=e.srcUrl,n=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,o=XU(r,{manifestUri:i,clientOffset:n,sidxMapping:a,previousManifest:s});return D9(o,i,NV),o},RV=function(e,r){Ic(e,function(i,n,a,s){s in r.mediaGroups[n][a]||delete e.mediaGroups[n][a][s]})},LV=function(e,r,i){for(var n=!0,a=U9(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var l=e1(o.sidx);i&&i[l]&&i[l].sidx&&V6(o,i[l].sidx,o.sidx.resolvedUri)}var u=W2(a,o,gE);u&&(a=u,n=!1)}return Ic(r,function(c,f,d,h){if(c.playlists&&c.playlists.length){var y=c.playlists[0].id,m=W2(a,c.playlists[0],gE);m&&(a=m,h in a.mediaGroups[f][d]||(a.mediaGroups[f][d][h]=c),a.mediaGroups[f][d][h].playlists[0]=a.playlists[y],n=!1)}}),RV(a,r),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:a},FV=function(e,r){var i=!e.map&&!r.map,n=i||!!(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return n&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},vE=function(e,r){var i={};for(var n in e){var a=e[n],s=a.sidx;if(s){var o=e1(s);if(!r[o])break;var l=r[o].sidxInfo;FV(l,s)&&(i[o]=r[o])}}return i},MV=function(e,r){var i=vE(e.playlists,r),n=i;return Ic(e,function(a,s,o,l){if(a.playlists&&a.playlists.length){var u=a.playlists;n=U9(n,vE(u,r))}}),n},X2=function(t){xe(e,t);function e(i,n,a,s){var o;a===void 0&&(a={}),o=t.call(this)||this,o.masterPlaylistLoader_=s||Ye(o),s||(o.isMaster_=!0);var l=a,u=l.withCredentials,c=u===void 0?!1:u,f=l.handleManifestRedirects,d=f===void 0?!1:f;if(o.vhs_=n,o.withCredentials=c,o.handleManifestRedirects=d,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=ea("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=e.prototype;return r.requestErrored_=function(n,a,s){if(!this.request)return!0;if(this.request=null,n)return this.error=typeof n=="object"&&!(n instanceof Error)?n:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(n,a,s){var o=this,l=n.sidx&&e1(n.sidx);if(!n.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=B.setTimeout(function(){return s(!1)},0);return}var u=Km(this.handleManifestRedirects,n.sidx.resolvedUri),c=function(d,h){if(!o.requestErrored_(d,h,a)){var y=o.masterPlaylistLoader_.sidxMapping_,m;try{m=rj(ze(h.response).subarray(8))}catch(T){o.requestErrored_(T,h,a);return}return y[l]={sidxInfo:n.sidx,sidx:m},V6(n,m,n.sidx.resolvedUri),s(!0)}};this.request=DV(u,this.vhs_.xhr,function(f,d,h,y){if(f)return c(f,d);if(!h||h!=="mp4")return c({status:d.status,message:"Unsupported "+(h||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},d);var m=n.sidx.byterange,T=m.offset,b=m.length;if(y.length>=b+T)return c(f,{response:y.subarray(T,T+b),status:d.status,uri:d.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:K2({byterange:n.sidx.byterange})},c)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},B.clearTimeout(this.minimumUpdatePeriodTimeout_),B.clearTimeout(this.mediaRequest_),B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n){var a=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof n=="string"){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var o=!this.media_||n.id!==this.media_.id;if(o&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList){this.state="HAVE_METADATA",this.media_=n,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,s,function(l){a.haveMetadata({startingState:s,playlist:n})}))},r.haveMetadata=function(n){var a=n.startingState,s=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(B.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(n){var a=this;B.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(n){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=B.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var n=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=B.setTimeout(function(){return n.haveMaster_()},0);return}this.requestMaster_(function(a,s){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(n){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var l=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=Km(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),l){a.handleMaster_(),a.syncClientServerClock_(function(){return n(o,l)});return}return n(o,l)})},r.syncClientServerClock_=function(n){var a=this,s=YU(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),n();this.request=this.vhs_.xhr({uri:Vi(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,l){if(a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),n();var u;s.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=a.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),a.masterPlaylistLoader_.clientOffset_=u-Date.now(),n()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var n=this.masterPlaylistLoader_.master,a=OV({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n});n&&(a=LV(n,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||n;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!n||a&&a.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!a},r.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(B.clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var a=n.master&&n.master.minimumUpdatePeriod;if(a===0&&(n.media()?a=n.media().targetDuration*1e3:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},r.createMUPTimeout_=function(n){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=B.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(n)},n)},r.refreshXml_=function(){var n=this;this.requestMaster_(function(a,s){s&&(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=MV(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(o){n.refreshMedia_(n.media().id)}))})},r.refreshMedia_=function(n){var a=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[n];if(o?this.media_=s[n]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){a.media().endList||(a.mediaUpdateTimeout=B.setTimeout(function(){a.trigger("mediaupdatetimeout"),u()},$2(a.media(),!!o)))};l()}this.trigger("loadedplaylist")},e}(IV),Nr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},BV=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer},j9=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},UV=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},H9=function(e){return function(){var r=UV(e),i=j9(new Worker(r));i.objURL=r;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),n.call(this)},i}},V9=function(e){return"var browserWorkerPolyFill = "+j9.toString()+`;
browserWorkerPolyFill(self);
`+e},z9=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},jV=V9(z9(function(){var t=function(){this.init=function(){var p={};this.on=function(v,g){p[v]||(p[v]=[]),p[v]=p[v].concat(g)},this.off=function(v,g){var x;return p[v]?(x=p[v].indexOf(g),p[v]=p[v].slice(),p[v].splice(x,1),x>-1):!1},this.trigger=function(v){var g,x,_,S;if(g=p[v],!!g)if(arguments.length===2)for(_=g.length,x=0;x<_;++x)g[x].call(this,arguments[1]);else{for(S=[],x=arguments.length,x=1;x<arguments.length;++x)S.push(arguments[x]);for(_=g.length,x=0;x<_;++x)g[x].apply(this,S)}},this.dispose=function(){p={}}}};t.prototype.pipe=function(P){return this.on("data",function(p){P.push(p)}),this.on("done",function(p){P.flush(p)}),this.on("partialdone",function(p){P.partialFlush(p)}),this.on("endedtimeline",function(p){P.endTimeline(p)}),this.on("reset",function(p){P.reset(p)}),P},t.prototype.push=function(P){this.trigger("data",P)},t.prototype.flush=function(P){this.trigger("done",P)},t.prototype.partialFlush=function(P){this.trigger("partialdone",P)},t.prototype.endTimeline=function(P){this.trigger("endedtimeline",P)},t.prototype.reset=function(P){this.trigger("reset",P)};var e=t,r=Math.pow(2,32),i=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),g;return v.getBigUint64?(g=v.getBigUint64(0),g<Number.MAX_SAFE_INTEGER?Number(g):g):v.getUint32(0)*r+v.getUint32(4)},n={getUint64:i,MAX_UINT32:r},a=n.MAX_UINT32,s,o,l,u,c,f,d,h,y,m,T,b,E,A,C,I,R,L,O,W,H,re,ne,oe,_e,ie,J,le,ee,ce,de,Ge,Ee,Ze,Ue,dt;(function(){var P;if(ne={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(P in ne)ne.hasOwnProperty(P)&&(ne[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);oe=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ie=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),_e=new Uint8Array([0,0,0,1]),J=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),le=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ee={video:J,audio:le},Ge=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),de=new Uint8Array([0,0,0,0,0,0,0,0]),Ee=new Uint8Array([0,0,0,0,0,0,0,0]),Ze=Ee,Ue=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),dt=Ee,ce=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(p){var v=[],g=0,x,_,S;for(x=1;x<arguments.length;x++)v.push(arguments[x]);for(x=v.length;x--;)g+=v[x].byteLength;for(_=new Uint8Array(g+8),S=new DataView(_.buffer,_.byteOffset,_.byteLength),S.setUint32(0,_.byteLength),_.set(p,4),x=0,g=8;x<v.length;x++)_.set(v[x],g),g+=v[x].byteLength;return _},o=function(){return s(ne.dinf,s(ne.dref,Ge))},l=function(p){return s(ne.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},u=function(){return s(ne.ftyp,oe,_e,oe,ie)},I=function(p){return s(ne.hdlr,ee[p])},c=function(p){return s(ne.mdat,p)},C=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(v[12]=p.samplerate>>>24&255,v[13]=p.samplerate>>>16&255,v[14]=p.samplerate>>>8&255,v[15]=p.samplerate&255),s(ne.mdhd,v)},A=function(p){return s(ne.mdia,C(p),I(p.type),d(p))},f=function(p){return s(ne.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},d=function(p){return s(ne.minf,p.type==="video"?s(ne.vmhd,ce):s(ne.smhd,de),o(),L(p))},h=function(p,v){for(var g=[],x=v.length;x--;)g[x]=W(v[x]);return s.apply(null,[ne.moof,f(p)].concat(g))},y=function(p){for(var v=p.length,g=[];v--;)g[v]=b(p[v]);return s.apply(null,[ne.moov,T(4294967295)].concat(g).concat(m(p)))},m=function(p){for(var v=p.length,g=[];v--;)g[v]=H(p[v]);return s.apply(null,[ne.mvex].concat(g))},T=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(ne.mvhd,v)},R=function(p){var v=p.samples||[],g=new Uint8Array(4+v.length),x,_;for(_=0;_<v.length;_++)x=v[_].flags,g[_+4]=x.dependsOn<<4|x.isDependedOn<<2|x.hasRedundancy;return s(ne.sdtp,g)},L=function(p){return s(ne.stbl,O(p),s(ne.stts,dt),s(ne.stsc,Ze),s(ne.stsz,Ue),s(ne.stco,Ee))},function(){var P,p;O=function(g){return s(ne.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),g.type==="video"?P(g):p(g))},P=function(g){var x=g.sps||[],_=g.pps||[],S=[],N=[],F,V;for(F=0;F<x.length;F++)S.push((x[F].byteLength&65280)>>>8),S.push(x[F].byteLength&255),S=S.concat(Array.prototype.slice.call(x[F]));for(F=0;F<_.length;F++)N.push((_[F].byteLength&65280)>>>8),N.push(_[F].byteLength&255),N=N.concat(Array.prototype.slice.call(_[F]));if(V=[ne.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(g.width&65280)>>8,g.width&255,(g.height&65280)>>8,g.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(ne.avcC,new Uint8Array([1,g.profileIdc,g.profileCompatibility,g.levelIdc,255].concat([x.length],S,[_.length],N))),s(ne.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],g.sarRatio){var j=g.sarRatio[0],z=g.sarRatio[1];V.push(s(ne.pasp,new Uint8Array([(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255,(z&4278190080)>>24,(z&16711680)>>16,(z&65280)>>8,z&255])))}return s.apply(null,V)},p=function(g){return s(ne.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(g.channelcount&65280)>>8,g.channelcount&255,(g.samplesize&65280)>>8,g.samplesize&255,0,0,0,0,(g.samplerate&65280)>>8,g.samplerate&255,0,0]),l(g))}}(),E=function(p){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return s(ne.tkhd,v)},W=function(p){var v,g,x,_,S,N,F;return v=s(ne.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(p.baseMediaDecodeTime/a),F=Math.floor(p.baseMediaDecodeTime%a),g=s(ne.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255])),S=32+20+8+16+8+8,p.type==="audio"?(x=re(p,S),s(ne.traf,v,g,x)):(_=R(p),x=re(p,_.length+S),s(ne.traf,v,g,x,_))},b=function(p){return p.duration=p.duration||4294967295,s(ne.trak,E(p),A(p))},H=function(p){var v=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(v[v.length-1]=0),s(ne.trex,v)},function(){var P,p,v;v=function(x,_){var S=0,N=0,F=0,V=0;return x.length&&(x[0].duration!==void 0&&(S=1),x[0].size!==void 0&&(N=2),x[0].flags!==void 0&&(F=4),x[0].compositionTimeOffset!==void 0&&(V=8)),[0,0,S|N|F|V,1,(x.length&4278190080)>>>24,(x.length&16711680)>>>16,(x.length&65280)>>>8,x.length&255,(_&4278190080)>>>24,(_&16711680)>>>16,(_&65280)>>>8,_&255]},p=function(x,_){var S,N,F,V,j,z;for(V=x.samples||[],_+=8+12+16*V.length,F=v(V,_),N=new Uint8Array(F.length+V.length*16),N.set(F),S=F.length,z=0;z<V.length;z++)j=V[z],N[S++]=(j.duration&4278190080)>>>24,N[S++]=(j.duration&16711680)>>>16,N[S++]=(j.duration&65280)>>>8,N[S++]=j.duration&255,N[S++]=(j.size&4278190080)>>>24,N[S++]=(j.size&16711680)>>>16,N[S++]=(j.size&65280)>>>8,N[S++]=j.size&255,N[S++]=j.flags.isLeading<<2|j.flags.dependsOn,N[S++]=j.flags.isDependedOn<<6|j.flags.hasRedundancy<<4|j.flags.paddingValue<<1|j.flags.isNonSyncSample,N[S++]=j.flags.degradationPriority&61440,N[S++]=j.flags.degradationPriority&15,N[S++]=(j.compositionTimeOffset&4278190080)>>>24,N[S++]=(j.compositionTimeOffset&16711680)>>>16,N[S++]=(j.compositionTimeOffset&65280)>>>8,N[S++]=j.compositionTimeOffset&255;return s(ne.trun,N)},P=function(x,_){var S,N,F,V,j,z;for(V=x.samples||[],_+=8+12+8*V.length,F=v(V,_),S=new Uint8Array(F.length+V.length*8),S.set(F),N=F.length,z=0;z<V.length;z++)j=V[z],S[N++]=(j.duration&4278190080)>>>24,S[N++]=(j.duration&16711680)>>>16,S[N++]=(j.duration&65280)>>>8,S[N++]=j.duration&255,S[N++]=(j.size&4278190080)>>>24,S[N++]=(j.size&16711680)>>>16,S[N++]=(j.size&65280)>>>8,S[N++]=j.size&255;return s(ne.trun,S)},re=function(x,_){return x.type==="audio"?P(x,_):p(x,_)}}();var he={ftyp:u,mdat:c,moof:h,moov:y,initSegment:function(p){var v=u(),g=y(p),x;return x=new Uint8Array(v.byteLength+g.byteLength),x.set(v),x.set(g,v.byteLength),x}},gt=function(p){var v,g,x=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,x.byteLength=0,v=0;v<p.length;v++)g=p[v],g.nalUnitType==="access_unit_delimiter_rbsp"?(x.length&&(x.duration=g.dts-x.dts,_.byteLength+=x.byteLength,_.nalCount+=x.length,_.duration+=x.duration,_.push(x)),x=[g],x.byteLength=g.data.byteLength,x.pts=g.pts,x.dts=g.dts):(g.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(x.keyFrame=!0),x.duration=g.dts-x.dts,x.byteLength+=g.data.byteLength,x.push(g));return _.length&&(!x.duration||x.duration<=0)&&(x.duration=_[_.length-1].duration),_.byteLength+=x.byteLength,_.nalCount+=x.length,_.duration+=x.duration,_.push(x),_},Ne=function(p){var v,g,x=[],_=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=p[0].pts,x.dts=p[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=p[0].pts,_.dts=p[0].dts,v=0;v<p.length;v++)g=p[v],g.keyFrame?(x.length&&(_.push(x),_.byteLength+=x.byteLength,_.nalCount+=x.nalCount,_.duration+=x.duration),x=[g],x.nalCount=g.length,x.byteLength=g.byteLength,x.pts=g.pts,x.dts=g.dts,x.duration=g.duration):(x.duration+=g.duration,x.nalCount+=g.length,x.byteLength+=g.byteLength,x.push(g));return _.length&&x.duration<=0&&(x.duration=_[_.length-1].duration),_.byteLength+=x.byteLength,_.nalCount+=x.nalCount,_.duration+=x.duration,_.push(x),_},Tt=function(p){var v;return!p[0][0].keyFrame&&p.length>1&&(v=p.shift(),p.byteLength-=v.byteLength,p.nalCount-=v.nalCount,p[0][0].dts=v.dts,p[0][0].pts=v.pts,p[0][0].duration+=v.duration),p},gr=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},qn=function(p,v){var g=gr();return g.dataOffset=v,g.compositionTimeOffset=p.pts-p.dts,g.duration=p.duration,g.size=4*p.length,g.size+=p.byteLength,p.keyFrame&&(g.flags.dependsOn=2,g.flags.isNonSyncSample=0),g},qt=function(p,v){var g,x,_,S,N,F=v||0,V=[];for(g=0;g<p.length;g++)for(S=p[g],x=0;x<S.length;x++)N=S[x],_=qn(N,F),F+=_.size,V.push(_);return V},q=function(p){var v,g,x,_,S,N,F=0,V=p.byteLength,j=p.nalCount,z=V+4*j,ae=new Uint8Array(z),Te=new DataView(ae.buffer);for(v=0;v<p.length;v++)for(_=p[v],g=0;g<_.length;g++)for(S=_[g],x=0;x<S.length;x++)N=S[x],Te.setUint32(F,N.data.byteLength),F+=4,ae.set(N.data,F),F+=N.data.byteLength;return ae},Y=function(p,v){var g,x=v||0,_=[];return g=qn(p,x),_.push(g),_},Re=function(p){var v,g,x=0,_=p.byteLength,S=p.length,N=_+4*S,F=new Uint8Array(N),V=new DataView(F.buffer);for(v=0;v<p.length;v++)g=p[v],V.setUint32(x,g.data.byteLength),x+=4,F.set(g.data,x),x+=g.data.byteLength;return F},Ce={groupNalsIntoFrames:gt,groupFramesIntoGops:Ne,extendFirstKeyFrame:Tt,generateSampleTable:qt,concatenateNalData:q,generateSampleTableForFrame:Y,concatenateNalDataForFrame:Re},Oe=[33,16,5,32,164,27],te=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],we=function(p){for(var v=[];p--;)v.push(0);return v},He=function(p){return Object.keys(p).reduce(function(v,g){return v[g]=new Uint8Array(p[g].reduce(function(x,_){return x.concat(_)},[])),v},{})},tt,Ke=function(){if(!tt){var p={96e3:[Oe,[227,64],we(154),[56]],88200:[Oe,[231],we(170),[56]],64e3:[Oe,[248,192],we(240),[56]],48e3:[Oe,[255,192],we(268),[55,148,128],we(54),[112]],44100:[Oe,[255,192],we(268),[55,163,128],we(84),[112]],32e3:[Oe,[255,192],we(268),[55,234],we(226),[112]],24e3:[Oe,[255,192],we(268),[55,255,128],we(268),[111,112],we(126),[224]],16e3:[Oe,[255,192],we(268),[55,255,128],we(268),[111,255],we(269),[223,108],we(195),[1,192]],12e3:[te,we(268),[3,127,248],we(268),[6,255,240],we(268),[13,255,224],we(268),[27,253,128],we(259),[56]],11025:[te,we(268),[3,127,248],we(268),[6,255,240],we(268),[13,255,224],we(268),[27,255,192],we(268),[55,175,128],we(108),[112]],8e3:[te,we(268),[3,121,16],we(47),[7]]};tt=He(p)}return tt},Xt=9e4,Pt,vr,Ur,Er,Yt,ht,Wt;Pt=function(p){return p*Xt},vr=function(p,v){return p*v},Ur=function(p){return p/Xt},Er=function(p,v){return p/v},Yt=function(p,v){return Pt(Er(p,v))},ht=function(p,v){return vr(Ur(p),v)},Wt=function(p,v,g){return Ur(g?p:p-v)};var $e={ONE_SECOND_IN_TS:Xt,secondsToVideoTs:Pt,secondsToAudioTs:vr,videoTsToSeconds:Ur,audioTsToSeconds:Er,audioTsToVideoTs:Yt,videoTsToAudioTs:ht,metadataTsToSeconds:Wt},$t=function(p){var v,g,x=0;for(v=0;v<p.length;v++)g=p[v],x+=g.data.byteLength;return x},kt=function(p,v,g,x){var _,S=0,N=0,F=0,V=0,j,z,ae;if(v.length&&(_=$e.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),S=Math.ceil($e.ONE_SECOND_IN_TS/(p.samplerate/1024)),g&&x&&(N=_-Math.max(g,x),F=Math.floor(N/S),V=F*S),!(F<1||V>$e.ONE_SECOND_IN_TS/2))){for(j=Ke()[p.samplerate],j||(j=v[0].data),z=0;z<F;z++)ae=v[0],v.splice(0,0,{data:j,dts:ae.dts-S,pts:ae.pts-S});return p.baseMediaDecodeTime-=Math.floor($e.videoTsToAudioTs(V,p.samplerate)),V}},Jt=function(p,v,g){return v.minSegmentDts>=g?p:(v.minSegmentDts=1/0,p.filter(function(x){return x.dts>=g?(v.minSegmentDts=Math.min(v.minSegmentDts,x.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Rt=function(p){var v,g,x=[];for(v=0;v<p.length;v++)g=p[v],x.push({size:g.data.byteLength,duration:1024});return x},Pr=function(p){var v,g,x=0,_=new Uint8Array($t(p));for(v=0;v<p.length;v++)g=p[v],_.set(g.data,x),x+=g.data.byteLength;return _},Lt={prefixWithSilence:kt,trimAdtsFramesByEarliestDts:Jt,generateSampleTable:Rt,concatenateFrameData:Pr},yt=$e.ONE_SECOND_IN_TS,Ft=function(p,v){typeof v.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=v.pts),p.minSegmentPts===void 0?p.minSegmentPts=v.pts:p.minSegmentPts=Math.min(p.minSegmentPts,v.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=v.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=v.dts),p.minSegmentDts===void 0?p.minSegmentDts=v.dts:p.minSegmentDts=Math.min(p.minSegmentDts,v.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=v.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,v.dts))},It=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},Se=function(p,v){var g,x,_=p.minSegmentDts;return v||(_-=p.timelineStartInfo.dts),g=p.timelineStartInfo.baseMediaDecodeTime,g+=_,g=Math.max(0,g),p.type==="audio"&&(x=p.samplerate/yt,g*=x,g=Math.floor(g)),g},Je={clearDtsInfo:It,calculateTrackBaseMediaDecodeTime:Se,collectDtsInfo:Ft},rt=4,Xe=128,ut=function(p){for(var v=0,g={payloadType:-1,payloadSize:0},x=0,_=0;v<p.byteLength&&p[v]!==Xe;){for(;p[v]===255;)x+=255,v++;for(x+=p[v++];p[v]===255;)_+=255,v++;if(_+=p[v++],!g.payload&&x===rt){var S=String.fromCharCode(p[v+3],p[v+4],p[v+5],p[v+6]);if(S==="GA94"){g.payloadType=x,g.payloadSize=_,g.payload=p.subarray(v,v+_);break}else g.payload=void 0}v+=_,x=0,_=0}return g},Be=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},T1=function(p,v){var g=[],x,_,S,N;if(!(v[0]&64))return g;for(_=v[0]&31,x=0;x<_;x++)S=x*3,N={type:v[S+2]&3,pts:p},v[S+2]&4&&(N.ccData=v[S+3]<<8|v[S+4],g.push(N));return g},w1=function(p){for(var v=p.byteLength,g=[],x=1,_,S;x<v-2;)p[x]===0&&p[x+1]===0&&p[x+2]===3?(g.push(x+2),x+=2):x++;if(g.length===0)return p;_=v-g.length,S=new Uint8Array(_);var N=0;for(x=0;x<_;N++,x++)N===g[0]&&(N++,g.shift()),S[x]=p[N];return S},Is={parseSei:ut,parseUserData:Be,parseCaptionPackets:T1,discardEmulationPreventionBytes:w1,USER_DATA_REGISTERED_ITU_T_T35:rt},on=function P(p){p=p||{},P.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Mt(0,0),new Mt(0,1),new Mt(1,0),new Mt(1,1)],this.parse708captions_&&(this.cc708Stream_=new wt({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};on.prototype=new e,on.prototype.push=function(P){var p,v,g;if(P.nalUnitType==="sei_rbsp"&&(p=Is.parseSei(P.escapedRBSP),!!p.payload&&p.payloadType===Is.USER_DATA_REGISTERED_ITU_T_T35&&(v=Is.parseUserData(p),!!v))){if(P.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(P.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}g=Is.parseCaptionPackets(P.pts,v),this.captionPackets_=this.captionPackets_.concat(g),this.latestDts_!==P.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=P.dts}},on.prototype.flushCCStreams=function(P){this.ccStreams_.forEach(function(p){return P==="flush"?p.flush():p.partialFlush()},this)},on.prototype.flushStream=function(P){if(!this.captionPackets_.length){this.flushCCStreams(P);return}this.captionPackets_.forEach(function(p,v){p.presortIndex=v}),this.captionPackets_.sort(function(p,v){return p.pts===v.pts?p.presortIndex-v.presortIndex:p.pts-v.pts}),this.captionPackets_.forEach(function(p){p.type<2?this.dispatchCea608Packet(p):this.dispatchCea708Packet(p)},this),this.captionPackets_.length=0,this.flushCCStreams(P)},on.prototype.flush=function(){return this.flushStream("flush")},on.prototype.partialFlush=function(){return this.flushStream("partialFlush")},on.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(P){P.reset()})},on.prototype.dispatchCea608Packet=function(P){this.setsTextOrXDSActive(P)?this.activeCea608Channel_[P.type]=null:this.setsChannel1Active(P)?this.activeCea608Channel_[P.type]=0:this.setsChannel2Active(P)&&(this.activeCea608Channel_[P.type]=1),this.activeCea608Channel_[P.type]!==null&&this.ccStreams_[(P.type<<1)+this.activeCea608Channel_[P.type]].push(P)},on.prototype.setsChannel1Active=function(P){return(P.ccData&30720)===4096},on.prototype.setsChannel2Active=function(P){return(P.ccData&30720)===6144},on.prototype.setsTextOrXDSActive=function(P){return(P.ccData&28928)===256||(P.ccData&30974)===4138||(P.ccData&30974)===6186},on.prototype.dispatchCea708Packet=function(P){this.parse708captions_&&this.cc708Stream_.push(P)};var _1={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},bh=function(p){var v=_1[p]||p;return p&4096&&p===v?"":String.fromCharCode(v)},ru=function(p){return 32<=p&&p<=127||160<=p&&p<=255},ki=function(p){this.windowNum=p,this.reset()};ki.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ki.prototype.getText=function(){return this.rows.join(`
`)},ki.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ki.prototype.newLine=function(P){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(P),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ki.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ki.prototype.addText=function(P){this.rows[this.rowIdx]+=P},ki.prototype.backspace=function(){if(!this.isEmpty()){var P=this.rows[this.rowIdx];this.rows[this.rowIdx]=P.substr(0,P.length-1)}};var Lo=function(p,v,g){this.serviceNum=p,this.text="",this.currentWindow=new ki(-1),this.windows=[],this.stream=g,typeof v=="string"&&this.createTextDecoder(v)};Lo.prototype.init=function(P,p){this.startPts=P;for(var v=0;v<8;v++)this.windows[v]=new ki(v),typeof p=="function"&&(this.windows[v].beforeRowOverflow=p)},Lo.prototype.setCurrentWindow=function(P){this.currentWindow=this.windows[P]},Lo.prototype.createTextDecoder=function(P){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(P)}catch(p){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+P+" encoding. "+p})}};var wt=function P(p){p=p||{},P.prototype.init.call(this);var v=this,g=p.captionServices||{},x={},_;Object.keys(g).forEach(function(S){_=g[S],/^SERVICE/.test(S)&&(x[S]=_.encoding)}),this.serviceEncodings=x,this.current708Packet=null,this.services={},this.push=function(S){S.type===3?(v.new708Packet(),v.add708Bytes(S)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(S))}};wt.prototype=new e,wt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},wt.prototype.add708Bytes=function(P){var p=P.ccData,v=p>>>8,g=p&255;this.current708Packet.ptsVals.push(P.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(g)},wt.prototype.push708Packet=function(){var P=this.current708Packet,p=P.data,v=null,g=null,x=0,_=p[x++];for(P.seq=_>>6,P.sizeCode=_&63;x<p.length;x++)_=p[x++],v=_>>5,g=_&31,v===7&&g>0&&(_=p[x++],v=_),this.pushServiceBlock(v,x,g),g>0&&(x+=g-1)},wt.prototype.pushServiceBlock=function(P,p,v){var g,x=p,_=this.current708Packet.data,S=this.services[P];for(S||(S=this.initService(P,x));x<p+v&&x<_.length;x++)g=_[x],ru(g)?x=this.handleText(x,S):g===24?x=this.multiByteCharacter(x,S):g===16?x=this.extendedCommands(x,S):128<=g&&g<=135?x=this.setCurrentWindow(x,S):152<=g&&g<=159?x=this.defineWindow(x,S):g===136?x=this.clearWindows(x,S):g===140?x=this.deleteWindows(x,S):g===137?x=this.displayWindows(x,S):g===138?x=this.hideWindows(x,S):g===139?x=this.toggleWindows(x,S):g===151?x=this.setWindowAttributes(x,S):g===144?x=this.setPenAttributes(x,S):g===145?x=this.setPenColor(x,S):g===146?x=this.setPenLocation(x,S):g===143?S=this.reset(x,S):g===8?S.currentWindow.backspace():g===12?S.currentWindow.clearText():g===13?S.currentWindow.pendingNewLine=!0:g===14?S.currentWindow.clearText():g===141&&x++},wt.prototype.extendedCommands=function(P,p){var v=this.current708Packet.data,g=v[++P];return ru(g)&&(P=this.handleText(P,p,{isExtended:!0})),P},wt.prototype.getPts=function(P){return this.current708Packet.ptsVals[Math.floor(P/2)]},wt.prototype.initService=function(P,p){var g="SERVICE"+P,v=this,g,x;return g in this.serviceEncodings&&(x=this.serviceEncodings[g]),this.services[P]=new Lo(P,x,v),this.services[P].init(this.getPts(p),function(_){v.flushDisplayed(_,v.services[P])}),this.services[P]},wt.prototype.handleText=function(P,p,v){var g=v&&v.isExtended,x=v&&v.isMultiByte,_=this.current708Packet.data,S=g?4096:0,N=_[P],F=_[P+1],V=p.currentWindow,j,z;return p.textDecoder_&&!g?(x?(z=[N,F],P++):z=[N],j=p.textDecoder_.decode(new Uint8Array(z))):j=bh(S|N),V.pendingNewLine&&!V.isEmpty()&&V.newLine(this.getPts(P)),V.pendingNewLine=!1,V.addText(j),P},wt.prototype.multiByteCharacter=function(P,p){var v=this.current708Packet.data,g=v[P+1],x=v[P+2];return ru(g)&&ru(x)&&(P=this.handleText(++P,p,{isMultiByte:!0})),P},wt.prototype.setCurrentWindow=function(P,p){var v=this.current708Packet.data,g=v[P],x=g&7;return p.setCurrentWindow(x),P},wt.prototype.defineWindow=function(P,p){var v=this.current708Packet.data,g=v[P],x=g&7;p.setCurrentWindow(x);var _=p.currentWindow;return g=v[++P],_.visible=(g&32)>>5,_.rowLock=(g&16)>>4,_.columnLock=(g&8)>>3,_.priority=g&7,g=v[++P],_.relativePositioning=(g&128)>>7,_.anchorVertical=g&127,g=v[++P],_.anchorHorizontal=g,g=v[++P],_.anchorPoint=(g&240)>>4,_.rowCount=g&15,g=v[++P],_.columnCount=g&63,g=v[++P],_.windowStyle=(g&56)>>3,_.penStyle=g&7,_.virtualRowCount=_.rowCount+1,P},wt.prototype.setWindowAttributes=function(P,p){var v=this.current708Packet.data,g=v[P],x=p.currentWindow.winAttr;return g=v[++P],x.fillOpacity=(g&192)>>6,x.fillRed=(g&48)>>4,x.fillGreen=(g&12)>>2,x.fillBlue=g&3,g=v[++P],x.borderType=(g&192)>>6,x.borderRed=(g&48)>>4,x.borderGreen=(g&12)>>2,x.borderBlue=g&3,g=v[++P],x.borderType+=(g&128)>>5,x.wordWrap=(g&64)>>6,x.printDirection=(g&48)>>4,x.scrollDirection=(g&12)>>2,x.justify=g&3,g=v[++P],x.effectSpeed=(g&240)>>4,x.effectDirection=(g&12)>>2,x.displayEffect=g&3,P},wt.prototype.flushDisplayed=function(P,p){for(var v=[],g=0;g<8;g++)p.windows[g].visible&&!p.windows[g].isEmpty()&&v.push(p.windows[g].getText());p.endPts=P,p.text=v.join(`

`),this.pushCaption(p),p.startPts=P},wt.prototype.pushCaption=function(P){P.text!==""&&(this.trigger("data",{startPts:P.startPts,endPts:P.endPts,text:P.text,stream:"cc708_"+P.serviceNum}),P.text="",P.startPts=P.endPts)},wt.prototype.displayWindows=function(P,p){var v=this.current708Packet.data,g=v[++P],x=this.getPts(P);this.flushDisplayed(x,p);for(var _=0;_<8;_++)g&1<<_&&(p.windows[_].visible=1);return P},wt.prototype.hideWindows=function(P,p){var v=this.current708Packet.data,g=v[++P],x=this.getPts(P);this.flushDisplayed(x,p);for(var _=0;_<8;_++)g&1<<_&&(p.windows[_].visible=0);return P},wt.prototype.toggleWindows=function(P,p){var v=this.current708Packet.data,g=v[++P],x=this.getPts(P);this.flushDisplayed(x,p);for(var _=0;_<8;_++)g&1<<_&&(p.windows[_].visible^=1);return P},wt.prototype.clearWindows=function(P,p){var v=this.current708Packet.data,g=v[++P],x=this.getPts(P);this.flushDisplayed(x,p);for(var _=0;_<8;_++)g&1<<_&&p.windows[_].clearText();return P},wt.prototype.deleteWindows=function(P,p){var v=this.current708Packet.data,g=v[++P],x=this.getPts(P);this.flushDisplayed(x,p);for(var _=0;_<8;_++)g&1<<_&&p.windows[_].reset();return P},wt.prototype.setPenAttributes=function(P,p){var v=this.current708Packet.data,g=v[P],x=p.currentWindow.penAttr;return g=v[++P],x.textTag=(g&240)>>4,x.offset=(g&12)>>2,x.penSize=g&3,g=v[++P],x.italics=(g&128)>>7,x.underline=(g&64)>>6,x.edgeType=(g&56)>>3,x.fontStyle=g&7,P},wt.prototype.setPenColor=function(P,p){var v=this.current708Packet.data,g=v[P],x=p.currentWindow.penColor;return g=v[++P],x.fgOpacity=(g&192)>>6,x.fgRed=(g&48)>>4,x.fgGreen=(g&12)>>2,x.fgBlue=g&3,g=v[++P],x.bgOpacity=(g&192)>>6,x.bgRed=(g&48)>>4,x.bgGreen=(g&12)>>2,x.bgBlue=g&3,g=v[++P],x.edgeRed=(g&48)>>4,x.edgeGreen=(g&12)>>2,x.edgeBlue=g&3,P},wt.prototype.setPenLocation=function(P,p){var v=this.current708Packet.data,g=v[P],x=p.currentWindow.penLoc;return p.currentWindow.pendingNewLine=!0,g=v[++P],x.row=g&15,g=v[++P],x.column=g&63,P},wt.prototype.reset=function(P,p){var v=this.getPts(P);return this.flushDisplayed(v,p),this.initService(p.serviceNum,P)};var nu={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ns=function(p){return p===null?"":(p=nu[p]||p,String.fromCharCode(p))},Os=14,Di=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Oa=function(){for(var p=[],v=Os+1;v--;)p.push("");return p},Mt=function P(p,v){P.prototype.init.call(this),this.field_=p||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(g){var x,_,S,N,F;if(x=g.ccData&32639,x===this.lastControlCode_){this.lastControlCode_=null;return}if((x&61440)===4096?this.lastControlCode_=x:x!==this.PADDING_&&(this.lastControlCode_=null),S=x>>>8,N=x&255,x!==this.PADDING_)if(x===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(x===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(g.pts),this.flushDisplayed(g.pts),_=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=_,this.startPts_=g.pts;else if(x===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(g.pts);else if(x===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(g.pts);else if(x===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(g.pts);else if(x===this.CARRIAGE_RETURN_)this.clearFormatting(g.pts),this.flushDisplayed(g.pts),this.shiftRowsUp_(),this.startPts_=g.pts;else if(x===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(x===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(g.pts),this.displayed_=Oa();else if(x===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Oa();else if(x===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(g.pts),this.displayed_=Oa()),this.mode_="paintOn",this.startPts_=g.pts;else if(this.isSpecialCharacter(S,N))S=(S&3)<<8,F=Ns(S|N),this[this.mode_](g.pts,F),this.column_++;else if(this.isExtCharacter(S,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),S=(S&3)<<8,F=Ns(S|N),this[this.mode_](g.pts,F),this.column_++;else if(this.isMidRowCode(S,N))this.clearFormatting(g.pts),this[this.mode_](g.pts," "),this.column_++,(N&14)===14&&this.addFormatting(g.pts,["i"]),(N&1)===1&&this.addFormatting(g.pts,["u"]);else if(this.isOffsetControlCode(S,N))this.column_+=N&3;else if(this.isPAC(S,N)){var V=Di.indexOf(x&7968);this.mode_==="rollUp"&&(V-this.rollUpRows_+1<0&&(V=this.rollUpRows_-1),this.setRollUp(g.pts,V)),V!==this.row_&&(this.clearFormatting(g.pts),this.row_=V),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(g.pts,["u"]),(x&16)===16&&(this.column_=((x&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(g.pts,["i"])}else this.isNormalChar(S)&&(N===0&&(N=null),F=Ns(S),F+=Ns(N),this[this.mode_](g.pts,F),this.column_+=F.length)}};Mt.prototype=new e,Mt.prototype.flushDisplayed=function(P){var p=this.displayed_.map(function(v,g){try{return v.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+g+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");p.length&&this.trigger("data",{startPts:this.startPts_,endPts:P,text:p,stream:this.name_})},Mt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Oa(),this.nonDisplayed_=Oa(),this.lastControlCode_=null,this.column_=0,this.row_=Os,this.rollUpRows_=2,this.formatting_=[]},Mt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Mt.prototype.isSpecialCharacter=function(P,p){return P===this.EXT_&&p>=48&&p<=63},Mt.prototype.isExtCharacter=function(P,p){return(P===this.EXT_+1||P===this.EXT_+2)&&p>=32&&p<=63},Mt.prototype.isMidRowCode=function(P,p){return P===this.EXT_&&p>=32&&p<=47},Mt.prototype.isOffsetControlCode=function(P,p){return P===this.OFFSET_&&p>=33&&p<=35},Mt.prototype.isPAC=function(P,p){return P>=this.BASE_&&P<this.BASE_+8&&p>=64&&p<=127},Mt.prototype.isColorPAC=function(P){return P>=64&&P<=79||P>=96&&P<=127},Mt.prototype.isNormalChar=function(P){return P>=32&&P<=127},Mt.prototype.setRollUp=function(P,p){if(this.mode_!=="rollUp"&&(this.row_=Os,this.mode_="rollUp",this.flushDisplayed(P),this.nonDisplayed_=Oa(),this.displayed_=Oa()),p!==void 0&&p!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[p-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]="";p===void 0&&(p=this.row_),this.topRow_=p-this.rollUpRows_+1},Mt.prototype.addFormatting=function(P,p){this.formatting_=this.formatting_.concat(p);var v=p.reduce(function(g,x){return g+"<"+x+">"},"");this[this.mode_](P,v)},Mt.prototype.clearFormatting=function(P){if(this.formatting_.length){var p=this.formatting_.reverse().reduce(function(v,g){return v+"</"+g+">"},"");this.formatting_=[],this[this.mode_](P,p)}},Mt.prototype.popOn=function(P,p){var v=this.nonDisplayed_[this.row_];v+=p,this.nonDisplayed_[this.row_]=v},Mt.prototype.rollUp=function(P,p){var v=this.displayed_[this.row_];v+=p,this.displayed_[this.row_]=v},Mt.prototype.shiftRowsUp_=function(){var P;for(P=0;P<this.topRow_;P++)this.displayed_[P]="";for(P=this.row_+1;P<Os+1;P++)this.displayed_[P]="";for(P=this.topRow_;P<this.row_;P++)this.displayed_[P]=this.displayed_[P+1];this.displayed_[this.row_]=""},Mt.prototype.paintOn=function(P,p){var v=this.displayed_[this.row_];v+=p,this.displayed_[this.row_]=v};var Fo={CaptionStream:on,Cea608Stream:Mt,Cea708Stream:wt},bt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},iu=8589934592,xh=4294967296,au="shared",Ra=function(p,v){var g=1;for(p>v&&(g=-1);Math.abs(v-p)>xh;)p+=g*iu;return p},Mo=function P(p){var v,g;P.prototype.init.call(this),this.type_=p||au,this.push=function(x){this.type_!==au&&x.type!==this.type_||(g===void 0&&(g=x.dts),x.dts=Ra(x.dts,g),x.pts=Ra(x.pts,g),v=x.dts,this.trigger("data",x))},this.flush=function(){g=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){g=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Mo.prototype=new e;var ta={TimestampRolloverStream:Mo,handleRollover:Ra},ra=function(p,v,g){var x,_="";for(x=v;x<g;x++)_+="%"+("00"+p[x].toString(16)).slice(-2);return _},su=function(p,v,g){return decodeURIComponent(ra(p,v,g))},Ii=function(p,v,g){return unescape(ra(p,v,g))},D=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},M={TXXX:function(p){var v;if(p.data[0]===3){for(v=1;v<p.data.length;v++)if(p.data[v]===0){p.description=su(p.data,1,v),p.value=su(p.data,v+1,p.data.length).replace(/\0*$/,"");break}p.data=p.value}},WXXX:function(p){var v;if(p.data[0]===3){for(v=1;v<p.data.length;v++)if(p.data[v]===0){p.description=su(p.data,1,v),p.url=su(p.data,v+1,p.data.length);break}}},PRIV:function(p){var v;for(v=0;v<p.data.length;v++)if(p.data[v]===0){p.owner=Ii(p.data,0,v);break}p.privateData=p.data.subarray(v+1),p.data=p.privateData}},K;K=function(p){var v={descriptor:p&&p.descriptor},g=0,x=[],_=0,S;if(K.prototype.init.call(this),this.dispatchType=bt.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(S=0;S<v.descriptor.length;S++)this.dispatchType+=("00"+v.descriptor[S].toString(16)).slice(-2);this.push=function(N){var F,V,j,z,ae,Te;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(_=0,x.length=0),x.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(x.push(N),_+=N.data.byteLength,x.length===1&&(g=D(N.data.subarray(6,10)),g+=10),!(_<g)){for(F={data:new Uint8Array(g),frames:[],pts:x[0].pts,dts:x[0].dts},ae=0;ae<g;)F.data.set(x[0].data.subarray(0,g-ae),ae),ae+=x[0].data.byteLength,_-=x[0].data.byteLength,x.shift();V=10,F.data[5]&64&&(V+=4,V+=D(F.data.subarray(10,14)),g-=D(F.data.subarray(16,20)));do{if(j=D(F.data.subarray(V+4,V+8)),j<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Te=String.fromCharCode(F.data[V],F.data[V+1],F.data[V+2],F.data[V+3]),z={id:Te,data:F.data.subarray(V+10,V+j+10)},z.key=z.id,M[z.id]&&(M[z.id](z),z.owner==="com.apple.streaming.transportStreamTimestamp")){var ke=z.data,ve=(ke[3]&1)<<30|ke[4]<<22|ke[5]<<14|ke[6]<<6|ke[7]>>>2;ve*=4,ve+=ke[7]&3,z.timeStamp=ve,F.pts===void 0&&F.dts===void 0&&(F.pts=z.timeStamp,F.dts=z.timeStamp),this.trigger("timestamp",z)}F.frames.push(z),V+=10,V+=j}while(V<g);this.trigger("data",F)}}}},K.prototype=new e;var ge=K,be=ta.TimestampRolloverStream,pe,Ve,Fe,qe=188,ot=71;pe=function(){var p=new Uint8Array(qe),v=0;pe.prototype.init.call(this),this.push=function(g){var x=0,_=qe,S;for(v?(S=new Uint8Array(g.byteLength+v),S.set(p.subarray(0,v)),S.set(g,v),v=0):S=g;_<S.byteLength;){if(S[x]===ot&&S[_]===ot){this.trigger("data",S.subarray(x,_)),x+=qe,_+=qe;continue}x++,_++}x<S.byteLength&&(p.set(S.subarray(x),0),v=S.byteLength-x)},this.flush=function(){v===qe&&p[0]===ot&&(this.trigger("data",p),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},pe.prototype=new e,Ve=function(){var p,v,g,x;Ve.prototype.init.call(this),x=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(S,N){var F=0;N.payloadUnitStartIndicator&&(F+=S[F]+1),N.type==="pat"?v(S.subarray(F),N):g(S.subarray(F),N)},v=function(S,N){N.section_number=S[7],N.last_section_number=S[8],x.pmtPid=(S[10]&31)<<8|S[11],N.pmtPid=x.pmtPid},g=function(S,N){var F,V,j,z;if(S[5]&1){for(x.programMapTable={video:null,audio:null,"timed-metadata":{}},F=(S[1]&15)<<8|S[2],V=3+F-4,j=(S[10]&15)<<8|S[11],z=12+j;z<V;){var ae=S[z],Te=(S[z+1]&31)<<8|S[z+2];ae===bt.H264_STREAM_TYPE&&x.programMapTable.video===null?x.programMapTable.video=Te:ae===bt.ADTS_STREAM_TYPE&&x.programMapTable.audio===null?x.programMapTable.audio=Te:ae===bt.METADATA_STREAM_TYPE&&(x.programMapTable["timed-metadata"][Te]=ae),z+=((S[z+3]&15)<<8|S[z+4])+5}N.programMapTable=x.programMapTable}},this.push=function(_){var S={},N=4;if(S.payloadUnitStartIndicator=!!(_[1]&64),S.pid=_[1]&31,S.pid<<=8,S.pid|=_[2],(_[3]&48)>>>4>1&&(N+=_[N]+1),S.pid===0)S.type="pat",p(_.subarray(N),S),this.trigger("data",S);else if(S.pid===this.pmtPid)for(S.type="pmt",p(_.subarray(N),S),this.trigger("data",S);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([_,N,S]):this.processPes_(_,N,S)},this.processPes_=function(_,S,N){N.pid===this.programMapTable.video?N.streamType=bt.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=bt.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=_.subarray(S),this.trigger("data",N)}},Ve.prototype=new e,Ve.STREAM_TYPES={h264:27,adts:15},Fe=function(){var p=this,v=!1,g={data:[],size:0},x={data:[],size:0},_={data:[],size:0},S,N=function(j,z){var ae,Te=j[0]<<16|j[1]<<8|j[2];z.data=new Uint8Array,Te===1&&(z.packetLength=6+(j[4]<<8|j[5]),z.dataAlignmentIndicator=(j[6]&4)!==0,ae=j[7],ae&192&&(z.pts=(j[9]&14)<<27|(j[10]&255)<<20|(j[11]&254)<<12|(j[12]&255)<<5|(j[13]&254)>>>3,z.pts*=4,z.pts+=(j[13]&6)>>>1,z.dts=z.pts,ae&64&&(z.dts=(j[14]&14)<<27|(j[15]&255)<<20|(j[16]&254)<<12|(j[17]&255)<<5|(j[18]&254)>>>3,z.dts*=4,z.dts+=(j[18]&6)>>>1)),z.data=j.subarray(9+j[8]))},F=function(j,z,ae){var Te=new Uint8Array(j.size),ke={type:z},ve=0,We=0,Sr=!1,un;if(!(!j.data.length||j.size<9)){for(ke.trackId=j.data[0].pid,ve=0;ve<j.data.length;ve++)un=j.data[ve],Te.set(un.data,We),We+=un.data.byteLength;N(Te,ke),Sr=z==="video"||ke.packetLength<=j.size,(ae||Sr)&&(j.size=0,j.data.length=0),Sr&&p.trigger("data",ke)}};Fe.prototype.init.call(this),this.push=function(V){({pat:function(){},pes:function(){var z,ae;switch(V.streamType){case bt.H264_STREAM_TYPE:z=g,ae="video";break;case bt.ADTS_STREAM_TYPE:z=x,ae="audio";break;case bt.METADATA_STREAM_TYPE:z=_,ae="timed-metadata";break;default:return}V.payloadUnitStartIndicator&&F(z,ae,!0),z.data.push(V),z.size+=V.data.byteLength},pmt:function(){var z={type:"metadata",tracks:[]};S=V.programMapTable,S.video!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),v=!0,p.trigger("data",z)}})[V.type]()},this.reset=function(){g.size=0,g.data.length=0,x.size=0,x.data.length=0,this.trigger("reset")},this.flushStreams_=function(){F(g,"video"),F(x,"audio"),F(_,"timed-metadata")},this.flush=function(){if(!v&&S){var V={type:"metadata",tracks:[]};S.video!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),p.trigger("data",V)}v=!1,this.flushStreams_(),this.trigger("done")}},Fe.prototype=new e;var st={PAT_PID:0,MP2T_PACKET_LENGTH:qe,TransportPacketStream:pe,TransportParseStream:Ve,ElementaryStream:Fe,TimestampRolloverStream:be,CaptionStream:Fo.CaptionStream,Cea608Stream:Fo.Cea608Stream,Cea708Stream:Fo.Cea708Stream,MetadataStream:ge};for(var yr in bt)bt.hasOwnProperty(yr)&&(st[yr]=bt[yr]);var At=st,na=$e.ONE_SECOND_IN_TS,Bo,ou=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Bo=function(p){var v,g=0;Bo.prototype.init.call(this),this.skipWarn_=function(x,_){this.trigger("log",{level:"warn",message:"adts skiping bytes "+x+" to "+_+" in frame "+g+" outside syncword"})},this.push=function(x){var _=0,S,N,F,V,j;if(p||(g=0),x.type==="audio"){v&&v.length?(F=v,v=new Uint8Array(F.byteLength+x.data.byteLength),v.set(F),v.set(x.data,F.byteLength)):v=x.data;for(var z;_+7<v.length;){if(v[_]!==255||(v[_+1]&246)!==240){typeof z!="number"&&(z=_),_++;continue}if(typeof z=="number"&&(this.skipWarn_(z,_),z=null),N=(~v[_+1]&1)*2,S=(v[_+3]&3)<<11|v[_+4]<<3|(v[_+5]&224)>>5,V=((v[_+6]&3)+1)*1024,j=V*na/ou[(v[_+2]&60)>>>2],v.byteLength-_<S)break;this.trigger("data",{pts:x.pts+g*j,dts:x.dts+g*j,sampleCount:V,audioobjecttype:(v[_+2]>>>6&3)+1,channelcount:(v[_+2]&1)<<2|(v[_+3]&192)>>>6,samplerate:ou[(v[_+2]&60)>>>2],samplingfrequencyindex:(v[_+2]&60)>>>2,samplesize:16,data:v.subarray(_+7+N,_+S)}),g++,_+=S}typeof z=="number"&&(this.skipWarn_(z,_),z=null),v=v.subarray(_)}},this.flush=function(){g=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Bo.prototype=new e;var W5=Bo,$5;$5=function(p){var v=p.byteLength,g=0,x=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+x},this.loadWord=function(){var _=p.byteLength-v,S=new Uint8Array(4),N=Math.min(4,v);if(N===0)throw new Error("no bytes available");S.set(p.subarray(_,_+N)),g=new DataView(S.buffer).getUint32(0),x=N*8,v-=N},this.skipBits=function(_){var S;x>_?(g<<=_,x-=_):(_-=x,S=Math.floor(_/8),_-=S*8,v-=S,this.loadWord(),g<<=_,x-=_)},this.readBits=function(_){var S=Math.min(x,_),N=g>>>32-S;return x-=S,x>0?g<<=S:v>0&&this.loadWord(),S=_-S,S>0?N<<S|this.readBits(S):N},this.skipLeadingZeros=function(){var _;for(_=0;_<x;++_)if(g&2147483648>>>_)return g<<=_,x-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var OP=$5,Th,Oc,Q5;Oc=function(){var p=0,v,g;Oc.prototype.init.call(this),this.push=function(x){var _;g?(_=new Uint8Array(g.byteLength+x.data.byteLength),_.set(g),_.set(x.data,g.byteLength),g=_):g=x.data;for(var S=g.byteLength;p<S-3;p++)if(g[p+2]===1){v=p+5;break}for(;v<S;)switch(g[v]){case 0:if(g[v-1]!==0){v+=2;break}else if(g[v-2]!==0){v++;break}p+3!==v-2&&this.trigger("data",g.subarray(p+3,v-2));do v++;while(g[v]!==1&&v<S);p=v-2,v+=3;break;case 1:if(g[v-1]!==0||g[v-2]!==0){v+=3;break}this.trigger("data",g.subarray(p+3,v-2)),p=v-2,v+=3;break;default:v+=3;break}g=g.subarray(p),v-=p,p=0},this.reset=function(){g=null,p=0,this.trigger("reset")},this.flush=function(){g&&g.byteLength>3&&this.trigger("data",g.subarray(p+3)),g=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Oc.prototype=new e,Q5={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Th=function(){var p=new Oc,v,g,x,_,S,N,F;Th.prototype.init.call(this),v=this,this.push=function(V){V.type==="video"&&(g=V.trackId,x=V.pts,_=V.dts,p.push(V))},p.on("data",function(V){var j={trackId:g,pts:x,dts:_,data:V,nalUnitTypeCode:V[0]&31};switch(j.nalUnitTypeCode){case 5:j.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:j.nalUnitType="sei_rbsp",j.escapedRBSP=S(V.subarray(1));break;case 7:j.nalUnitType="seq_parameter_set_rbsp",j.escapedRBSP=S(V.subarray(1)),j.config=N(j.escapedRBSP);break;case 8:j.nalUnitType="pic_parameter_set_rbsp";break;case 9:j.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",j)}),p.on("done",function(){v.trigger("done")}),p.on("partialdone",function(){v.trigger("partialdone")}),p.on("reset",function(){v.trigger("reset")}),p.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},F=function(j,z){var ae=8,Te=8,ke,ve;for(ke=0;ke<j;ke++)Te!==0&&(ve=z.readExpGolomb(),Te=(ae+ve+256)%256),ae=Te===0?ae:Te},S=function(j){for(var z=j.byteLength,ae=[],Te=1,ke,ve;Te<z-2;)j[Te]===0&&j[Te+1]===0&&j[Te+2]===3?(ae.push(Te+2),Te+=2):Te++;if(ae.length===0)return j;ke=z-ae.length,ve=new Uint8Array(ke);var We=0;for(Te=0;Te<ke;We++,Te++)We===ae[0]&&(We++,ae.shift()),ve[Te]=j[We];return ve},N=function(j){var z=0,ae=0,Te=0,ke=0,ve,We,Sr,un,Vo,k1,hx,px,mx,D1,gx,sr=[1,1],vx,zo;if(ve=new OP(j),We=ve.readUnsignedByte(),un=ve.readUnsignedByte(),Sr=ve.readUnsignedByte(),ve.skipUnsignedExpGolomb(),Q5[We]&&(Vo=ve.readUnsignedExpGolomb(),Vo===3&&ve.skipBits(1),ve.skipUnsignedExpGolomb(),ve.skipUnsignedExpGolomb(),ve.skipBits(1),ve.readBoolean()))for(gx=Vo!==3?8:12,zo=0;zo<gx;zo++)ve.readBoolean()&&(zo<6?F(16,ve):F(64,ve));if(ve.skipUnsignedExpGolomb(),k1=ve.readUnsignedExpGolomb(),k1===0)ve.readUnsignedExpGolomb();else if(k1===1)for(ve.skipBits(1),ve.skipExpGolomb(),ve.skipExpGolomb(),hx=ve.readUnsignedExpGolomb(),zo=0;zo<hx;zo++)ve.skipExpGolomb();if(ve.skipUnsignedExpGolomb(),ve.skipBits(1),px=ve.readUnsignedExpGolomb(),mx=ve.readUnsignedExpGolomb(),D1=ve.readBits(1),D1===0&&ve.skipBits(1),ve.skipBits(1),ve.readBoolean()&&(z=ve.readUnsignedExpGolomb(),ae=ve.readUnsignedExpGolomb(),Te=ve.readUnsignedExpGolomb(),ke=ve.readUnsignedExpGolomb()),ve.readBoolean()&&ve.readBoolean()){switch(vx=ve.readUnsignedByte(),vx){case 1:sr=[1,1];break;case 2:sr=[12,11];break;case 3:sr=[10,11];break;case 4:sr=[16,11];break;case 5:sr=[40,33];break;case 6:sr=[24,11];break;case 7:sr=[20,11];break;case 8:sr=[32,11];break;case 9:sr=[80,33];break;case 10:sr=[18,11];break;case 11:sr=[15,11];break;case 12:sr=[64,33];break;case 13:sr=[160,99];break;case 14:sr=[4,3];break;case 15:sr=[3,2];break;case 16:sr=[2,1];break;case 255:{sr=[ve.readUnsignedByte()<<8|ve.readUnsignedByte(),ve.readUnsignedByte()<<8|ve.readUnsignedByte()];break}}sr&&sr[0]/sr[1]}return{profileIdc:We,levelIdc:Sr,profileCompatibility:un,width:(px+1)*16-z*2-ae*2,height:(2-D1)*(mx+1)*16-Te*2-ke*2,sarRatio:sr}}},Th.prototype=new e;var RP={H264Stream:Th,NalByteStream:Oc},LP=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],K5=function(p,v){var g=p[v+6]<<21|p[v+7]<<14|p[v+8]<<7|p[v+9],x=p[v+5],_=(x&16)>>4;return g=g>=0?g:0,_?g+20:g+10},FP=function P(p,v){return p.length-v<10||p[v]!=="I".charCodeAt(0)||p[v+1]!=="D".charCodeAt(0)||p[v+2]!=="3".charCodeAt(0)?v:(v+=K5(p,v),P(p,v))},MP=function(p){var v=FP(p,0);return p.length>=v+2&&(p[v]&255)===255&&(p[v+1]&240)===240&&(p[v+1]&22)===16},X5=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},BP=function(p,v,g){var x,_="";for(x=v;x<g;x++)_+="%"+("00"+p[x].toString(16)).slice(-2);return _},UP=function(p,v,g){return unescape(BP(p,v,g))},jP=function(p,v){var g=(p[v+5]&224)>>5,x=p[v+4]<<3,_=p[v+3]&6144;return _|x|g},HP=function(p,v){return p[v]==="I".charCodeAt(0)&&p[v+1]==="D".charCodeAt(0)&&p[v+2]==="3".charCodeAt(0)?"timed-metadata":p[v]&!0&&(p[v+1]&240)===240?"audio":null},VP=function(p){for(var v=0;v+5<p.length;){if(p[v]!==255||(p[v+1]&246)!==240){v++;continue}return LP[(p[v+2]&60)>>>2]}return null},zP=function(p){var v,g,x,_;v=10,p[5]&64&&(v+=4,v+=X5(p.subarray(10,14)));do{if(g=X5(p.subarray(v+4,v+8)),g<1)return null;if(_=String.fromCharCode(p[v],p[v+1],p[v+2],p[v+3]),_==="PRIV"){x=p.subarray(v+10,v+g+10);for(var S=0;S<x.byteLength;S++)if(x[S]===0){var N=UP(x,0,S);if(N==="com.apple.streaming.transportStreamTimestamp"){var F=x.subarray(S+1),V=(F[3]&1)<<30|F[4]<<22|F[5]<<14|F[6]<<6|F[7]>>>2;return V*=4,V+=F[7]&3,V}break}}v+=10,v+=g}while(v<p.byteLength);return null},wh={isLikelyAacData:MP,parseId3TagSize:K5,parseAdtsSize:jP,parseType:HP,parseSampleRate:VP,parseAacTimestamp:zP},_h;_h=function(){var p=new Uint8Array,v=0;_h.prototype.init.call(this),this.setTimestamp=function(g){v=g},this.push=function(g){var x=0,_=0,S,N,F,V;for(p.length?(V=p.length,p=new Uint8Array(g.byteLength+V),p.set(p.subarray(0,V)),p.set(g,V)):p=g;p.length-_>=3;){if(p[_]==="I".charCodeAt(0)&&p[_+1]==="D".charCodeAt(0)&&p[_+2]==="3".charCodeAt(0)){if(p.length-_<10||(x=wh.parseId3TagSize(p,_),_+x>p.length))break;N={type:"timed-metadata",data:p.subarray(_,_+x)},this.trigger("data",N),_+=x;continue}else if((p[_]&255)===255&&(p[_+1]&240)===240){if(p.length-_<7||(x=wh.parseAdtsSize(p,_),_+x>p.length))break;F={type:"audio",data:p.subarray(_,_+x),pts:v,dts:v},this.trigger("data",F),_+=x;continue}_++}S=p.length-_,S>0?p=p.subarray(_):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},_h.prototype=new e;var GP=_h,qP=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],E1=qP,WP=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],S1=WP,$P=RP.H264Stream,QP=wh.isLikelyAacData,KP=$e.ONE_SECOND_IN_TS,Rc,lu,Eh,Uo,XP=function(p,v){v.stream=p,this.trigger("log",v)},Y5=function(p,v){for(var g=Object.keys(v),x=0;x<g.length;x++){var _=g[x];_==="headOfPipeline"||!v[_].on||v[_].on("log",XP.bind(p,_))}},J5=function(p,v){var g;if(p.length!==v.length)return!1;for(g=0;g<p.length;g++)if(p[g]!==v[g])return!1;return!0},A1=function(p,v,g,x,_,S){var N=g-v,F=x-v,V=_-g;return{start:{dts:p,pts:p+N},end:{dts:p+F,pts:p+V},prependedContentDuration:S,baseMediaDecodeTime:p}};lu=function(p,v){var g=[],x,_=0,S=0,N=1/0;v=v||{},x=v.firstSequenceNumber||0,lu.prototype.init.call(this),this.push=function(F){Je.collectDtsInfo(p,F),p&&E1.forEach(function(V){p[V]=F[V]}),g.push(F)},this.setEarliestDts=function(F){_=F},this.setVideoBaseMediaDecodeTime=function(F){N=F},this.setAudioAppendStart=function(F){S=F},this.flush=function(){var F,V,j,z,ae,Te,ke;if(g.length===0){this.trigger("done","AudioSegmentStream");return}F=Lt.trimAdtsFramesByEarliestDts(g,p,_),p.baseMediaDecodeTime=Je.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),ke=Lt.prefixWithSilence(p,F,S,N),p.samples=Lt.generateSampleTable(F),j=he.mdat(Lt.concatenateFrameData(F)),g=[],V=he.moof(x,[p]),z=new Uint8Array(V.byteLength+j.byteLength),x++,z.set(V),z.set(j,V.byteLength),Je.clearDtsInfo(p),ae=Math.ceil(KP*1024/p.samplerate),F.length&&(Te=F.length*ae,this.trigger("segmentTimingInfo",A1($e.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),F[0].dts,F[0].pts,F[0].dts+Te,F[0].pts+Te,ke||0)),this.trigger("timingInfo",{start:F[0].pts,end:F[0].pts+Te})),this.trigger("data",{track:p,boxes:z}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Je.clearDtsInfo(p),g=[],this.trigger("reset")}},lu.prototype=new e,Rc=function(p,v){var g,x=[],_=[],S,N;v=v||{},g=v.firstSequenceNumber||0,Rc.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function(F){Je.collectDtsInfo(p,F),F.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=F.config,p.sps=[F.data],S1.forEach(function(V){p[V]=S[V]},this)),F.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=F.data,p.pps=[F.data]),x.push(F)},this.flush=function(){for(var F,V,j,z,ae,Te,ke=0,ve,We;x.length&&x[0].nalUnitType!=="access_unit_delimiter_rbsp";)x.shift();if(x.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(F=Ce.groupNalsIntoFrames(x),j=Ce.groupFramesIntoGops(F),j[0][0].keyFrame||(V=this.getGopForFusion_(x[0],p),V?(ke=V.duration,j.unshift(V),j.byteLength+=V.byteLength,j.nalCount+=V.nalCount,j.pts=V.pts,j.dts=V.dts,j.duration+=V.duration):j=Ce.extendFirstKeyFrame(j)),_.length){var Sr;if(v.alignGopsAtEnd?Sr=this.alignGopsAtEnd_(j):Sr=this.alignGopsAtStart_(j),!Sr){this.gopCache_.unshift({gop:j.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Je.clearDtsInfo(p),j=Sr}Je.collectDtsInfo(p,j),p.samples=Ce.generateSampleTable(j),ae=he.mdat(Ce.concatenateNalData(j)),p.baseMediaDecodeTime=Je.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",j.map(function(un){return{pts:un.pts,dts:un.dts,byteLength:un.byteLength}})),ve=j[0],We=j[j.length-1],this.trigger("segmentTimingInfo",A1(p.baseMediaDecodeTime,ve.dts,ve.pts,We.dts+We.duration,We.pts+We.duration,ke)),this.trigger("timingInfo",{start:j[0].pts,end:j[j.length-1].pts+j[j.length-1].duration}),this.gopCache_.unshift({gop:j.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),z=he.moof(g,[p]),Te=new Uint8Array(z.byteLength+ae.byteLength),g++,Te.set(z),Te.set(ae,z.byteLength),this.trigger("data",{track:p,boxes:Te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),x=[],this.gopCache_.length=0,_.length=0,this.trigger("reset")},this.resetStream_=function(){Je.clearDtsInfo(p),S=void 0,N=void 0},this.getGopForFusion_=function(F){var V=45e3,j=1e4,z=1/0,ae,Te,ke,ve,We;for(We=0;We<this.gopCache_.length;We++)ve=this.gopCache_[We],ke=ve.gop,!(!(p.pps&&J5(p.pps[0],ve.pps[0]))||!(p.sps&&J5(p.sps[0],ve.sps[0])))&&(ke.dts<p.timelineStartInfo.dts||(ae=F.dts-ke.dts-ke.duration,ae>=-j&&ae<=V&&(!Te||z>ae)&&(Te=ve,z=ae)));return Te?Te.gop:null},this.alignGopsAtStart_=function(F){var V,j,z,ae,Te,ke,ve,We;for(Te=F.byteLength,ke=F.nalCount,ve=F.duration,V=j=0;V<_.length&&j<F.length&&(z=_[V],ae=F[j],z.pts!==ae.pts);){if(ae.pts>z.pts){V++;continue}j++,Te-=ae.byteLength,ke-=ae.nalCount,ve-=ae.duration}return j===0?F:j===F.length?null:(We=F.slice(j),We.byteLength=Te,We.duration=ve,We.nalCount=ke,We.pts=We[0].pts,We.dts=We[0].dts,We)},this.alignGopsAtEnd_=function(F){var V,j,z,ae,Te,ke;for(V=_.length-1,j=F.length-1,Te=null,ke=!1;V>=0&&j>=0;){if(z=_[V],ae=F[j],z.pts===ae.pts){ke=!0;break}if(z.pts>ae.pts){V--;continue}V===_.length-1&&(Te=j),j--}if(!ke&&Te===null)return null;var ve;if(ke?ve=j:ve=Te,ve===0)return F;var We=F.slice(ve),Sr=We.reduce(function(un,Vo){return un.byteLength+=Vo.byteLength,un.duration+=Vo.duration,un.nalCount+=Vo.nalCount,un},{byteLength:0,duration:0,nalCount:0});return We.byteLength=Sr.byteLength,We.duration=Sr.duration,We.nalCount=Sr.nalCount,We.pts=We[0].pts,We.dts=We[0].dts,We},this.alignGopsWith=function(F){_=F}},Rc.prototype=new e,Uo=function(p,v){this.numberOfTracks=0,this.metadataStream=v,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Uo.prototype.init.call(this),this.push=function(g){if(g.text)return this.pendingCaptions.push(g);if(g.frames)return this.pendingMetadata.push(g);this.pendingTracks.push(g.track),this.pendingBytes+=g.boxes.byteLength,g.track.type==="video"&&(this.videoTrack=g.track,this.pendingBoxes.push(g.boxes)),g.track.type==="audio"&&(this.audioTrack=g.track,this.pendingBoxes.unshift(g.boxes))}},Uo.prototype=new e,Uo.prototype.flush=function(P){var p=0,v={captions:[],captionStreams:{},metadata:[],info:{}},g,x,_,S=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(P!=="VideoSegmentStream"&&P!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(S=this.videoTrack.timelineStartInfo.pts,S1.forEach(function(F){v.info[F]=this.videoTrack[F]},this)):this.audioTrack&&(S=this.audioTrack.timelineStartInfo.pts,E1.forEach(function(F){v.info[F]=this.audioTrack[F]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,_=he.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(_.byteLength),v.initSegment.set(_),v.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)v.data.set(this.pendingBoxes[N],p),p+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)g=this.pendingCaptions[N],g.startTime=$e.metadataTsToSeconds(g.startPts,S,this.keepOriginalTimestamps),g.endTime=$e.metadataTsToSeconds(g.endPts,S,this.keepOriginalTimestamps),v.captionStreams[g.stream]=!0,v.captions.push(g);for(N=0;N<this.pendingMetadata.length;N++)x=this.pendingMetadata[N],x.cueTime=$e.metadataTsToSeconds(x.pts,S,this.keepOriginalTimestamps),v.metadata.push(x);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),N=0;N<v.captions.length;N++)g=v.captions[N],this.trigger("caption",g);for(N=0;N<v.metadata.length;N++)x=v.metadata[N],this.trigger("id3Frame",x)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Uo.prototype.setRemux=function(P){this.remuxTracks=P},Eh=function(p){var v=this,g=!0,x,_;Eh.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new At.MetadataStream,S.aacStream=new GP,S.audioTimestampRolloverStream=new At.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new At.TimestampRolloverStream("timed-metadata"),S.adtsStream=new W5,S.coalesceStream=new Uo(p,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(N){S.aacStream.setTimestamp(N.timeStamp)}),S.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||S.audioSegmentStream||(_=_||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new lu(_,p),S.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),v.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!x}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),Y5(this,S)},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new At.MetadataStream,S.packetStream=new At.TransportPacketStream,S.parseStream=new At.TransportParseStream,S.elementaryStream=new At.ElementaryStream,S.timestampRolloverStream=new At.TimestampRolloverStream,S.adtsStream=new W5,S.h264Stream=new $P,S.captionStream=new At.CaptionStream(p),S.coalesceStream=new Uo(p,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(N){var F;if(N.type==="metadata"){for(F=N.tracks.length;F--;)!x&&N.tracks[F].type==="video"?(x=N.tracks[F],x.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!_&&N.tracks[F].type==="audio"&&(_=N.tracks[F],_.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);x&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new Rc(x,p),S.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),S.videoSegmentStream.on("timelineStartInfo",function(V){_&&!p.keepOriginalTimestamps&&(_.timelineStartInfo=V,S.audioSegmentStream.setEarliestDts(V.dts-v.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(V){_&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(V)}),S.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),_&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new lu(_,p),S.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!x})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(N){N.dispatchType=S.metadataStream.dispatchType,v.trigger("id3Frame",N)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),Y5(this,S)},this.setBaseMediaDecodeTime=function(S){var N=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),_&&(_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,Je.clearDtsInfo(_),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),x&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,Je.clearDtsInfo(x),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){_&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var N=this.transmuxPipeline_;p.remux=S,N&&N.coalesceStream&&N.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){x&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.getLogTrigger_=function(S){var N=this;return function(F){F.stream=S,N.trigger("log",F)}},this.push=function(S){if(g){var N=QP(S);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),g=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){g=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Eh.prototype=new e;var YP={Transmuxer:Eh,VideoSegmentStream:Rc,AudioSegmentStream:lu,AUDIO_PROPERTIES:E1,VIDEO_PROPERTIES:S1,generateSegmentTimingInfo:A1},JP=function(p){return p>>>0},ZP=function(p){return("00"+p.toString(16)).slice(-2)},Sh={toUnsigned:JP,toHexString:ZP},ek=function(p){var v="";return v+=String.fromCharCode(p[0]),v+=String.fromCharCode(p[1]),v+=String.fromCharCode(p[2]),v+=String.fromCharCode(p[3]),v},jo=ek,tk=Sh.toUnsigned,rk=function P(p,v){var g=[],x,_,S,N,F;if(!v.length)return null;for(x=0;x<p.byteLength;)_=tk(p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3]),S=jo(p.subarray(x+4,x+8)),N=_>1?x+_:p.byteLength,S===v[0]&&(v.length===1?g.push(p.subarray(x+8,N)):(F=P(p.subarray(x+8,N),v.slice(1)),F.length&&(g=g.concat(F)))),x=N;return g},Bt=rk,nk=Sh.toUnsigned,ik=n.getUint64,ak=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=ik(p.subarray(4)):v.baseMediaDecodeTime=nk(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),v},Z5=ak,sk=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},ex=sk,ok=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},g=new DataView(p.buffer,p.byteOffset,p.byteLength),x=v.flags[2]&1,_=v.flags[2]&4,S=v.flags[1]&1,N=v.flags[1]&2,F=v.flags[1]&4,V=v.flags[1]&8,j=g.getUint32(4),z=8,ae;for(x&&(v.dataOffset=g.getInt32(z),z+=4),_&&j&&(ae={flags:ex(p.subarray(z,z+4))},z+=4,S&&(ae.duration=g.getUint32(z),z+=4),N&&(ae.size=g.getUint32(z),z+=4),V&&(v.version===1?ae.compositionTimeOffset=g.getInt32(z):ae.compositionTimeOffset=g.getUint32(z),z+=4),v.samples.push(ae),j--);j--;)ae={},S&&(ae.duration=g.getUint32(z),z+=4),N&&(ae.size=g.getUint32(z),z+=4),F&&(ae.flags=ex(p.subarray(z,z+4)),z+=4),V&&(v.version===1?ae.compositionTimeOffset=g.getInt32(z):ae.compositionTimeOffset=g.getUint32(z),z+=4),v.samples.push(ae);return v},tx=ok,lk=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),g={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:v.getUint32(4)},x=g.flags[2]&1,_=g.flags[2]&2,S=g.flags[2]&8,N=g.flags[2]&16,F=g.flags[2]&32,V=g.flags[0]&65536,j=g.flags[0]&131072,z;return z=8,x&&(z+=4,g.baseDataOffset=v.getUint32(12),z+=4),_&&(g.sampleDescriptionIndex=v.getUint32(z),z+=4),S&&(g.defaultSampleDuration=v.getUint32(z),z+=4),N&&(g.defaultSampleSize=v.getUint32(z),z+=4),F&&(g.defaultSampleFlags=v.getUint32(z)),V&&(g.durationIsEmpty=!0),!x&&j&&(g.baseDataOffsetIsMoof=!0),g},rx=lk,nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lc;typeof window<"u"?Lc=window:typeof nx<"u"?Lc=nx:typeof self<"u"?Lc=self:Lc={};var Fc=Lc,uk=Is.discardEmulationPreventionBytes,ck=Fo.CaptionStream,fk=function(p,v){for(var g=p,x=0;x<v.length;x++){var _=v[x];if(g<_.size)return _;g-=_.size}return null},dk=function(p,v,g){var x=new DataView(p.buffer,p.byteOffset,p.byteLength),_={logs:[],seiNals:[]},S,N,F,V;for(N=0;N+4<p.length;N+=F)if(F=x.getUint32(N),N+=4,!(F<=0))switch(p[N]&31){case 6:var j=p.subarray(N+1,N+1+F),z=fk(N,v);if(S={nalUnitType:"sei_rbsp",size:F,data:j,escapedRBSP:uk(j),trackId:g},z)S.pts=z.pts,S.dts=z.dts,V=z;else if(V)S.pts=V.pts,S.dts=V.dts;else{_.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+g+". See mux.js#223."});break}_.seiNals.push(S);break}return _},hk=function(p,v,g){var x=v,_=g.defaultSampleDuration||0,S=g.defaultSampleSize||0,N=g.trackId,F=[];return p.forEach(function(V){var j=tx(V),z=j.samples;z.forEach(function(ae){ae.duration===void 0&&(ae.duration=_),ae.size===void 0&&(ae.size=S),ae.trackId=N,ae.dts=x,ae.compositionTimeOffset===void 0&&(ae.compositionTimeOffset=0),typeof x=="bigint"?(ae.pts=x+Fc.BigInt(ae.compositionTimeOffset),x+=Fc.BigInt(ae.duration)):(ae.pts=x+ae.compositionTimeOffset,x+=ae.duration)}),F=F.concat(z)}),F},pk=function(p,v){var g=Bt(p,["moof","traf"]),x=Bt(p,["mdat"]),_={},S=[];return x.forEach(function(N,F){var V=g[F];S.push({mdat:N,traf:V})}),S.forEach(function(N){var F=N.mdat,V=N.traf,j=Bt(V,["tfhd"]),z=rx(j[0]),ae=z.trackId,Te=Bt(V,["tfdt"]),ke=Te.length>0?Z5(Te[0]).baseMediaDecodeTime:0,ve=Bt(V,["trun"]),We,Sr;v===ae&&ve.length>0&&(We=hk(ve,ke,z),Sr=dk(F,We,ae),_[ae]||(_[ae]={seiNals:[],logs:[]}),_[ae].seiNals=_[ae].seiNals.concat(Sr.seiNals),_[ae].logs=_[ae].logs.concat(Sr.logs))}),_},mk=function(p,v,g){var x;if(v===null)return null;x=pk(p,v);var _=x[v]||{};return{seiNals:_.seiNals,logs:_.logs,timescale:g}},gk=function(){var p=!1,v,g,x,_,S,N;this.isInitialized=function(){return p},this.init=function(F){v=new ck,p=!0,N=F?F.isPartial:!1,v.on("data",function(V){V.startTime=V.startPts/_,V.endTime=V.endPts/_,S.captions.push(V),S.captionStreams[V.stream]=!0}),v.on("log",function(V){S.logs.push(V)})},this.isNewInit=function(F,V){return F&&F.length===0||V&&typeof V=="object"&&Object.keys(V).length===0?!1:x!==F[0]||_!==V[x]},this.parse=function(F,V,j){var z;if(this.isInitialized()){if(!V||!j)return null;if(this.isNewInit(V,j))x=V[0],_=j[x];else if(x===null||!_)return g.push(F),null}else return null;for(;g.length>0;){var ae=g.shift();this.parse(ae,V,j)}return z=mk(F,x,_),z&&z.logs&&(S.logs=S.logs.concat(z.logs)),z===null||!z.seiNals?S.logs.length?{logs:S.logs,captions:[],captionStreams:[]}:null:(this.pushNals(z.seiNals),this.flushStream(),S)},this.pushNals=function(F){if(!this.isInitialized()||!F||F.length===0)return null;F.forEach(function(V){v.push(V)})},this.flushStream=function(){if(!this.isInitialized())return null;N?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={},S.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){g=[],x=null,_=null,S?this.clearParsedCaptions():S={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},vk=gk,Ah=Sh.toUnsigned,Mc=Sh.toHexString,yk=n.getUint64,ix,ax,sx,ox,lx,C1;ix=function(p){var v={},g=Bt(p,["moov","trak"]);return g.reduce(function(x,_){var S,N,F,V,j;return S=Bt(_,["tkhd"])[0],!S||(N=S[0],F=N===0?12:20,V=Ah(S[F]<<24|S[F+1]<<16|S[F+2]<<8|S[F+3]),j=Bt(_,["mdia","mdhd"])[0],!j)?null:(N=j[0],F=N===0?12:20,x[V]=Ah(j[F]<<24|j[F+1]<<16|j[F+2]<<8|j[F+3]),x)},v)},ax=function(p,v){var g;g=Bt(v,["moof","traf"]);var x=g.reduce(function(_,S){var N=Bt(S,["tfhd"])[0],F=Ah(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),V=p[F]||9e4,j=Bt(S,["tfdt"])[0],z=new DataView(j.buffer,j.byteOffset,j.byteLength),ae;j[0]===1?ae=yk(j.subarray(4,12)):ae=z.getUint32(4);var Te;return typeof ae=="bigint"?Te=ae/Fc.BigInt(V):typeof ae=="number"&&!isNaN(ae)&&(Te=ae/V),Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te<_&&(_=Te),_},1/0);return typeof x=="bigint"||isFinite(x)?x:0},sx=function(p,v){var g=Bt(v,["moof","traf"]),x=0,_=0,S;if(g&&g.length){var N=Bt(g[0],["tfhd"])[0],F=Bt(g[0],["trun"])[0],V=Bt(g[0],["tfdt"])[0];if(N){var j=rx(N);S=j.trackId}if(V){var z=Z5(V);x=z.baseMediaDecodeTime}if(F){var ae=tx(F);ae.samples&&ae.samples.length&&(_=ae.samples[0].compositionTimeOffset||0)}}var Te=p[S]||9e4;typeof x=="bigint"&&(_=Fc.BigInt(_),Te=Fc.BigInt(Te));var ke=(x+_)/Te;return typeof ke=="bigint"&&ke<Number.MAX_SAFE_INTEGER&&(ke=Number(ke)),ke},ox=function(p){var v=Bt(p,["moov","trak"]),g=[];return v.forEach(function(x){var _=Bt(x,["mdia","hdlr"]),S=Bt(x,["tkhd"]);_.forEach(function(N,F){var V=jo(N.subarray(8,12)),j=S[F],z,ae,Te;V==="vide"&&(z=new DataView(j.buffer,j.byteOffset,j.byteLength),ae=z.getUint8(0),Te=ae===0?z.getUint32(12):z.getUint32(20),g.push(Te))})}),g},C1=function(p){var v=p[0],g=v===0?12:20;return Ah(p[g]<<24|p[g+1]<<16|p[g+2]<<8|p[g+3])},lx=function(p){var v=Bt(p,["moov","trak"]),g=[];return v.forEach(function(x){var _={},S=Bt(x,["tkhd"])[0],N,F;S&&(N=new DataView(S.buffer,S.byteOffset,S.byteLength),F=N.getUint8(0),_.id=F===0?N.getUint32(12):N.getUint32(20));var V=Bt(x,["mdia","hdlr"])[0];if(V){var j=jo(V.subarray(8,12));j==="vide"?_.type="video":j==="soun"?_.type="audio":_.type=j}var z=Bt(x,["mdia","minf","stbl","stsd"])[0];if(z){var ae=z.subarray(8);_.codec=jo(ae.subarray(4,8));var Te=Bt(ae,[_.codec])[0],ke,ve;Te&&(/^[asm]vc[1-9]$/i.test(_.codec)?(ke=Te.subarray(78),ve=jo(ke.subarray(4,8)),ve==="avcC"&&ke.length>11?(_.codec+=".",_.codec+=Mc(ke[9]),_.codec+=Mc(ke[10]),_.codec+=Mc(ke[11])):_.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(_.codec)?(ke=Te.subarray(28),ve=jo(ke.subarray(4,8)),ve==="esds"&&ke.length>20&&ke[19]!==0?(_.codec+="."+Mc(ke[19]),_.codec+="."+Mc(ke[20]>>>2&63).replace(/^0/,"")):_.codec="mp4a.40.2"):_.codec=_.codec.toLowerCase())}var We=Bt(x,["mdia","mdhd"])[0];We&&(_.timescale=C1(We)),g.push(_)}),g};var ux={findBox:Bt,parseType:jo,timescale:ix,startTime:ax,compositionStartTime:sx,videoTrackIds:ox,tracks:lx,getTimescaleFromMediaHeader:C1},cx=function(p){var v=p[1]&31;return v<<=8,v|=p[2],v},Ch=function(p){return!!(p[1]&64)},Ph=function(p){var v=0;return(p[3]&48)>>>4>1&&(v+=p[4]+1),v},bk=function(p,v){var g=cx(p);return g===0?"pat":g===v?"pmt":v?"pes":null},xk=function(p){var v=Ch(p),g=4+Ph(p);return v&&(g+=p[g]+1),(p[g+10]&31)<<8|p[g+11]},Tk=function(p){var v={},g=Ch(p),x=4+Ph(p);if(g&&(x+=p[x]+1),!!(p[x+5]&1)){var _,S,N;_=(p[x+1]&15)<<8|p[x+2],S=3+_-4,N=(p[x+10]&15)<<8|p[x+11];for(var F=12+N;F<S;){var V=x+F;v[(p[V+1]&31)<<8|p[V+2]]=p[V],F+=((p[V+3]&15)<<8|p[V+4])+5}return v}},wk=function(p,v){var g=cx(p),x=v[g];switch(x){case bt.H264_STREAM_TYPE:return"video";case bt.ADTS_STREAM_TYPE:return"audio";case bt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},_k=function(p){var v=Ch(p);if(!v)return null;var g=4+Ph(p);if(g>=p.byteLength)return null;var x=null,_;return _=p[g+7],_&192&&(x={},x.pts=(p[g+9]&14)<<27|(p[g+10]&255)<<20|(p[g+11]&254)<<12|(p[g+12]&255)<<5|(p[g+13]&254)>>>3,x.pts*=4,x.pts+=(p[g+13]&6)>>>1,x.dts=x.pts,_&64&&(x.dts=(p[g+14]&14)<<27|(p[g+15]&255)<<20|(p[g+16]&254)<<12|(p[g+17]&255)<<5|(p[g+18]&254)>>>3,x.dts*=4,x.dts+=(p[g+18]&6)>>>1)),x},P1=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ek=function(p){for(var v=4+Ph(p),g=p.subarray(v),x=0,_=0,S=!1,N;_<g.byteLength-3;_++)if(g[_+2]===1){x=_+5;break}for(;x<g.byteLength;)switch(g[x]){case 0:if(g[x-1]!==0){x+=2;break}else if(g[x-2]!==0){x++;break}_+3!==x-2&&(N=P1(g[_+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0));do x++;while(g[x]!==1&&x<g.length);_=x-2,x+=3;break;case 1:if(g[x-1]!==0||g[x-2]!==0){x+=3;break}N=P1(g[_+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0),_=x-2,x+=3;break;default:x+=3;break}return g=g.subarray(_),x-=_,_=0,g&&g.byteLength>3&&(N=P1(g[_+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0)),S},Sk={parseType:bk,parsePat:xk,parsePmt:Tk,parsePayloadUnitStartIndicator:Ch,parsePesType:wk,parsePesTime:_k,videoPacketContainsKeyFrame:Ek},uu=ta.handleRollover,_t={};_t.ts=Sk,_t.aac=wh;var Ho=$e.ONE_SECOND_IN_TS,ln=188,ia=71,Ak=function(p,v){for(var g=0,x=ln,_,S;x<p.byteLength;){if(p[g]===ia&&p[x]===ia){switch(_=p.subarray(g,x),S=_t.ts.parseType(_,v.pid),S){case"pat":v.pid=_t.ts.parsePat(_);break;case"pmt":var N=_t.ts.parsePmt(_);v.table=v.table||{},Object.keys(N).forEach(function(F){v.table[F]=N[F]});break}g+=ln,x+=ln;continue}g++,x++}},fx=function(p,v,g){for(var x=0,_=ln,S,N,F,V,j,z=!1;_<=p.byteLength;){if(p[x]===ia&&(p[_]===ia||_===p.byteLength)){switch(S=p.subarray(x,_),N=_t.ts.parseType(S,v.pid),N){case"pes":F=_t.ts.parsePesType(S,v.table),V=_t.ts.parsePayloadUnitStartIndicator(S),F==="audio"&&V&&(j=_t.ts.parsePesTime(S),j&&(j.type="audio",g.audio.push(j),z=!0));break}if(z)break;x+=ln,_+=ln;continue}x++,_++}for(_=p.byteLength,x=_-ln,z=!1;x>=0;){if(p[x]===ia&&(p[_]===ia||_===p.byteLength)){switch(S=p.subarray(x,_),N=_t.ts.parseType(S,v.pid),N){case"pes":F=_t.ts.parsePesType(S,v.table),V=_t.ts.parsePayloadUnitStartIndicator(S),F==="audio"&&V&&(j=_t.ts.parsePesTime(S),j&&(j.type="audio",g.audio.push(j),z=!0));break}if(z)break;x-=ln,_-=ln;continue}x--,_--}},Ck=function(p,v,g){for(var x=0,_=ln,S,N,F,V,j,z,ae,Te,ke=!1,ve={data:[],size:0};_<p.byteLength;){if(p[x]===ia&&p[_]===ia){switch(S=p.subarray(x,_),N=_t.ts.parseType(S,v.pid),N){case"pes":if(F=_t.ts.parsePesType(S,v.table),V=_t.ts.parsePayloadUnitStartIndicator(S),F==="video"&&(V&&!ke&&(j=_t.ts.parsePesTime(S),j&&(j.type="video",g.video.push(j),ke=!0)),!g.firstKeyFrame)){if(V&&ve.size!==0){for(z=new Uint8Array(ve.size),ae=0;ve.data.length;)Te=ve.data.shift(),z.set(Te,ae),ae+=Te.byteLength;if(_t.ts.videoPacketContainsKeyFrame(z)){var We=_t.ts.parsePesTime(z);We?(g.firstKeyFrame=We,g.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ve.size=0}ve.data.push(S),ve.size+=S.byteLength}break}if(ke&&g.firstKeyFrame)break;x+=ln,_+=ln;continue}x++,_++}for(_=p.byteLength,x=_-ln,ke=!1;x>=0;){if(p[x]===ia&&p[_]===ia){switch(S=p.subarray(x,_),N=_t.ts.parseType(S,v.pid),N){case"pes":F=_t.ts.parsePesType(S,v.table),V=_t.ts.parsePayloadUnitStartIndicator(S),F==="video"&&V&&(j=_t.ts.parsePesTime(S),j&&(j.type="video",g.video.push(j),ke=!0));break}if(ke)break;x-=ln,_-=ln;continue}x--,_--}},Pk=function(p,v){if(p.audio&&p.audio.length){var g=v;(typeof g>"u"||isNaN(g))&&(g=p.audio[0].dts),p.audio.forEach(function(S){S.dts=uu(S.dts,g),S.pts=uu(S.pts,g),S.dtsTime=S.dts/Ho,S.ptsTime=S.pts/Ho})}if(p.video&&p.video.length){var x=v;if((typeof x>"u"||isNaN(x))&&(x=p.video[0].dts),p.video.forEach(function(S){S.dts=uu(S.dts,x),S.pts=uu(S.pts,x),S.dtsTime=S.dts/Ho,S.ptsTime=S.pts/Ho}),p.firstKeyFrame){var _=p.firstKeyFrame;_.dts=uu(_.dts,x),_.pts=uu(_.pts,x),_.dtsTime=_.dts/Ho,_.ptsTime=_.pts/Ho}}},kk=function(p){for(var v=!1,g=0,x=null,_=null,S=0,N=0,F;p.length-N>=3;){var V=_t.aac.parseType(p,N);switch(V){case"timed-metadata":if(p.length-N<10){v=!0;break}if(S=_t.aac.parseId3TagSize(p,N),S>p.length){v=!0;break}_===null&&(F=p.subarray(N,N+S),_=_t.aac.parseAacTimestamp(F)),N+=S;break;case"audio":if(p.length-N<7){v=!0;break}if(S=_t.aac.parseAdtsSize(p,N),S>p.length){v=!0;break}x===null&&(F=p.subarray(N,N+S),x=_t.aac.parseSampleRate(F)),g++,N+=S;break;default:N++;break}if(v)return null}if(x===null||_===null)return null;var j=Ho/x,z={audio:[{type:"audio",dts:_,pts:_},{type:"audio",dts:_+g*1024*j,pts:_+g*1024*j}]};return z},Dk=function(p){var v={pid:null,table:null},g={};Ak(p,v);for(var x in v.table)if(v.table.hasOwnProperty(x)){var _=v.table[x];switch(_){case bt.H264_STREAM_TYPE:g.video=[],Ck(p,v,g),g.video.length===0&&delete g.video;break;case bt.ADTS_STREAM_TYPE:g.audio=[],fx(p,v,g),g.audio.length===0&&delete g.audio;break}}return g},Ik=function(p,v){var g=_t.aac.isLikelyAacData(p),x;return g?x=kk(p):x=Dk(p),!x||!x.audio&&!x.video?null:(Pk(x,v),x)},Nk={inspect:Ik,parseAudioPes_:fx},Ok=function(p,v){v.on("data",function(g){var x=g.initSegment;g.initSegment={data:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength};var _=g.data;g.data=_.buffer,p.postMessage({action:"data",segment:g,byteOffset:_.byteOffset,byteLength:_.byteLength},[g.data])}),v.on("done",function(g){p.postMessage({action:"done"})}),v.on("gopInfo",function(g){p.postMessage({action:"gopInfo",gopInfo:g})}),v.on("videoSegmentTimingInfo",function(g){var x={start:{decode:$e.videoTsToSeconds(g.start.dts),presentation:$e.videoTsToSeconds(g.start.pts)},end:{decode:$e.videoTsToSeconds(g.end.dts),presentation:$e.videoTsToSeconds(g.end.pts)},baseMediaDecodeTime:$e.videoTsToSeconds(g.baseMediaDecodeTime)};g.prependedContentDuration&&(x.prependedContentDuration=$e.videoTsToSeconds(g.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:x})}),v.on("audioSegmentTimingInfo",function(g){var x={start:{decode:$e.videoTsToSeconds(g.start.dts),presentation:$e.videoTsToSeconds(g.start.pts)},end:{decode:$e.videoTsToSeconds(g.end.dts),presentation:$e.videoTsToSeconds(g.end.pts)},baseMediaDecodeTime:$e.videoTsToSeconds(g.baseMediaDecodeTime)};g.prependedContentDuration&&(x.prependedContentDuration=$e.videoTsToSeconds(g.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:x})}),v.on("id3Frame",function(g){p.postMessage({action:"id3Frame",id3Frame:g})}),v.on("caption",function(g){p.postMessage({action:"caption",caption:g})}),v.on("trackinfo",function(g){p.postMessage({action:"trackinfo",trackInfo:g})}),v.on("audioTimingInfo",function(g){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:$e.videoTsToSeconds(g.start),end:$e.videoTsToSeconds(g.end)}})}),v.on("videoTimingInfo",function(g){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:$e.videoTsToSeconds(g.start),end:$e.videoTsToSeconds(g.end)}})}),v.on("log",function(g){p.postMessage({action:"log",log:g})})},dx=function(){function P(v,g){this.options=g||{},this.self=v,this.init()}var p=P.prototype;return p.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new YP.Transmuxer(this.options),Ok(this.self,this.transmuxer)},p.pushMp4Captions=function(g){this.captionParser||(this.captionParser=new vk,this.captionParser.init());var x=new Uint8Array(g.data,g.byteOffset,g.byteLength),_=this.captionParser.parse(x,g.trackIds,g.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:x.buffer},[x.buffer])},p.probeMp4StartTime=function(g){var x=g.timescales,_=g.data,S=ux.startTime(x,_);this.self.postMessage({action:"probeMp4StartTime",startTime:S,data:_},[_.buffer])},p.probeMp4Tracks=function(g){var x=g.data,_=ux.tracks(x);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:x},[x.buffer])},p.probeTs=function(g){var x=g.data,_=g.baseStartTime,S=typeof _=="number"&&!isNaN(_)?_*$e.ONE_SECOND_IN_TS:void 0,N=Nk.inspect(x,S),F=null;N&&(F={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},F.hasVideo&&(F.videoStart=N.video[0].ptsTime),F.hasAudio&&(F.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:F,data:x},[x.buffer])},p.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},p.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},p.push=function(g){var x=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.transmuxer.push(x)},p.reset=function(){this.transmuxer.reset()},p.setTimestampOffset=function(g){var x=g.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round($e.secondsToVideoTs(x)))},p.setAudioAppendStart=function(g){this.transmuxer.setAudioAppendStart(Math.ceil($e.secondsToVideoTs(g.appendStart)))},p.setRemux=function(g){this.transmuxer.setRemux(g.remux)},p.flush=function(g){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},p.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},p.alignGopsWith=function(g){this.transmuxer.alignGopsWith(g.gopsToAlignWith.slice())},P}();self.onmessage=function(P){if(P.data.action==="init"&&P.data.options){this.messageHandlers=new dx(self,P.data.options);return}this.messageHandlers||(this.messageHandlers=new dx(self)),P.data&&P.data.action&&P.data.action!=="init"&&this.messageHandlers[P.data.action]&&this.messageHandlers[P.data.action](P.data)}})),HV=H9(jV),VV=function(e,r,i){var n=e.data.segment,a=n.type,s=n.initSegment,o=n.captions,l=n.captionStreams,u=n.metadata,c=n.videoFrameDtsTime,f=n.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var d=e.data.segment.boxes||{data:e.data.segment.data},h={type:a,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c<"u"&&(h.videoFrameDtsTime=c),typeof f<"u"&&(h.videoFramePtsTime=f),i(h)},zV=function(e){var r=e.transmuxedData,i=e.callback;r.buffer=[],i(r)},GV=function(e,r){r.gopInfo=e.data.gopInfo},G9=function(e){var r=e.transmuxer,i=e.bytes,n=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,f=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,h=e.onId3,y=e.onCaptions,m=e.onDone,T=e.onEndedTimeline,b=e.onTransmuxerLog,E=e.isEndOfTimeline,A={buffer:[]},C=E,I=function(W){r.currentTransmux===e&&(W.data.action==="data"&&VV(W,A,o),W.data.action==="trackinfo"&&l(W.data.trackInfo),W.data.action==="gopInfo"&&GV(W,A),W.data.action==="audioTimingInfo"&&u(W.data.audioTimingInfo),W.data.action==="videoTimingInfo"&&c(W.data.videoTimingInfo),W.data.action==="videoSegmentTimingInfo"&&f(W.data.videoSegmentTimingInfo),W.data.action==="audioSegmentTimingInfo"&&d(W.data.audioSegmentTimingInfo),W.data.action==="id3Frame"&&h([W.data.id3Frame],W.data.id3Frame.dispatchType),W.data.action==="caption"&&y(W.data.caption),W.data.action==="endedtimeline"&&(C=!1,T()),W.data.action==="log"&&b(W.data.log),W.data.type==="transmuxed"&&(C||(r.onmessage=null,zV({transmuxedData:A,callback:m}),q9(r))))};if(r.onmessage=I,n&&r.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(a)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var R=i instanceof ArrayBuffer?i:i.buffer,L=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:R,byteOffset:L,byteLength:i.byteLength},[R])}E&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},q9=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():G9(e.currentTransmux))},yE=function(e,r){e.postMessage({action:r}),q9(e)},W9=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,yE(r,e);return}r.transmuxQueue.push(yE.bind(null,r,e))},qV=function(e){W9("reset",e)},WV=function(e){W9("endTimeline",e)},$9=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,G9(e);return}e.transmuxer.transmuxQueue.push(e)},$V=function(e){var r=new HV;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:e}),r},Wv={reset:qV,endTimeline:WV,transmux:$9,createTransmuxer:$V},Jm=function(e){var r=e.transmuxer,i=e.endAction||e.action,n=e.callback,a=Pi({},e,{endAction:null,transmuxer:null,callback:null}),s=function u(c){c.data.action===i&&(r.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),n(c.data))};if(r.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];r.postMessage(a,l)}else r.postMessage(a)},Ea={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Y2=function(e){e.forEach(function(r){r.abort()})},QV=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},KV=function(e){var r=e.target,i=Date.now()-r.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},I5=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:Ea.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:Ea.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:Ea.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:Ea.FAILURE,xhr:r}:null},bE=function(e,r,i){return function(n,a){var s=a.response,o=I5(n,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:Ea.FAILURE,xhr:a},e);for(var l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<r.length;c++)r[c].bytes=u;return i(null,e)}},Q9=function(e,r){var i=W6(e.map.bytes);if(i!=="mp4"){var n=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+n,code:Ea.FAILURE})}Jm({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,l=s.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),r(null)}})},XV=function(e){var r=e.segment,i=e.finishProcessingFn;return function(n,a){var s=I5(n,a);if(s)return i(s,r);var o=new Uint8Array(a.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,Q9(r,function(l){if(l)return l.xhr=a,l.status=a.status,i(l,r);i(null,r)})}},YV=function(e){var r=e.segment,i=e.finishProcessingFn,n=e.responseType;return function(a,s){var o=I5(a,s);if(o)return i(o,r);var l=n==="arraybuffer"||!s.responseText?s.response:BV(s.responseText.substring(r.lastReachedChar||0));return r.stats=QV(s),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),i(null,r)}},JV=function(e){var r=e.segment,i=e.bytes,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,y=e.onTransmuxerLog,m=r.map&&r.map.tracks||{},T=!!(m.audio&&m.video),b=a.bind(null,r,"audio","start"),E=a.bind(null,r,"audio","end"),A=a.bind(null,r,"video","start"),C=a.bind(null,r,"video","end"),I=function(){return $9({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:T,onData:function(O){O.type=O.type==="combined"?"video":O.type,d(r,O)},onTrackInfo:function(O){n&&(T&&(O.isMuxed=!0),n(r,O))},onAudioTimingInfo:function(O){b&&typeof O.start<"u"&&(b(O.start),b=null),E&&typeof O.end<"u"&&E(O.end)},onVideoTimingInfo:function(O){A&&typeof O.start<"u"&&(A(O.start),A=null),C&&typeof O.end<"u"&&C(O.end)},onVideoSegmentTimingInfo:function(O){s(O)},onAudioSegmentTimingInfo:function(O){o(O)},onId3:function(O,W){l(r,O,W)},onCaptions:function(O){u(r,[O])},isEndOfTimeline:c,onEndedTimeline:function(){f()},onTransmuxerLog:y,onDone:function(O){h&&(O.type=O.type==="combined"?"video":O.type,h(null,r,O))}})};Jm({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(L){r.bytes=i=L.data;var O=L.result;O&&(n(r,{hasAudio:O.hasAudio,hasVideo:O.hasVideo,isMuxed:T}),n=null,O.hasAudio&&!T&&b(O.audioStart),O.hasVideo&&A(O.videoStart),b=null,A=null),I()}})},K9=function(e){var r=e.segment,i=e.bytes,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,y=e.onTransmuxerLog,m=new Uint8Array(i);if(vj(m)){r.isFmp4=!0;var T=r.map.tracks,b={isFmp4:!0,hasVideo:!!T.video,hasAudio:!!T.audio};T.audio&&T.audio.codec&&T.audio.codec!=="enca"&&(b.audioCodec=T.audio.codec),T.video&&T.video.codec&&T.video.codec!=="encv"&&(b.videoCodec=T.video.codec),T.video&&T.audio&&(b.isMuxed=!0),n(r,b);var E=function(C){d(r,{data:m,type:b.hasAudio&&!b.isMuxed?"audio":"video"}),C&&C.length&&u(r,C),h(null,r,{})};Jm({action:"probeMp4StartTime",timescales:r.map.timescales,data:m,transmuxer:r.transmuxer,callback:function(C){var I=C.data,R=C.startTime;if(i=I.buffer,r.bytes=m=I,b.hasAudio&&!b.isMuxed&&a(r,"audio","start",R),b.hasVideo&&a(r,"video","start",R),!T.video||!I.byteLength||!r.transmuxer){E();return}Jm({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:m,timescales:r.map.timescales,trackIds:[T.video.id],callback:function(O){i=O.data.buffer,r.bytes=m=O.data,O.logs.forEach(function(W){y(G.mergeOptions(W,{stream:"mp4CaptionParser"}))}),E(O.captions)}})}});return}if(!r.transmuxer){h(null,r,{});return}if(typeof r.container>"u"&&(r.container=W6(m)),r.container!=="ts"&&r.container!=="aac"){n(r,{hasAudio:!1,hasVideo:!1}),h(null,r,{});return}JV({segment:r,bytes:i,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:h,onTransmuxerLog:y})},X9=function(e,r){var i=e.id,n=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function u(c){if(c.data.source===i){s.removeEventListener("message",u);var f=c.data.decrypted;r(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};s.addEventListener("message",o);var l;n.bytes.slice?l=n.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(n.bytes)),s.postMessage(L9({source:i,encrypted:a,key:l,iv:n.iv}),[a.buffer,l.buffer])},ZV=function(e){var r=e.decryptionWorker,i=e.segment,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,y=e.onTransmuxerLog;X9({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(m){i.bytes=m,K9({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:h,onTransmuxerLog:y})})},ez=function(e){var r=e.activeXhrs,i=e.decryptionWorker,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,y=e.onTransmuxerLog,m=0,T=!1;return function(b,E){if(!T){if(b)return T=!0,Y2(r),h(b,E);if(m+=1,m===r.length){var A=function(){if(E.encryptedBytes)return ZV({decryptionWorker:i,segment:E,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:h,onTransmuxerLog:y});K9({segment:E,bytes:E.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:h,onTransmuxerLog:y})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return X9({decryptionWorker:i,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key},function(C){E.map.bytes=C,Q9(E,function(I){if(I)return Y2(r),h(I,E);A()})});A()}}}},tz=function(e){var r=e.loadendState,i=e.abortFn;return function(n){var a=n.target;a.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},rz=function(e){var r=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(n){var a=n.target;if(!a.aborted)return r.stats=G.mergeOptions(r.stats,KV(n)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(n,r)}},nz=function(e){var r=e.xhr,i=e.xhrOptions,n=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,f=e.audioSegmentTimingInfoFn,d=e.id3Fn,h=e.captionsFn,y=e.isEndOfTimeline,m=e.endedTimelineFn,T=e.dataFn,b=e.doneFn,E=e.onTransmuxerLog,A=[],C=ez({activeXhrs:A,decryptionWorker:n,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:h,isEndOfTimeline:y,endedTimelineFn:m,dataFn:T,doneFn:b,onTransmuxerLog:E});if(a.key&&!a.key.bytes){var I=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&I.push(a.map.key);var R=G.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),L=bE(a,I,C),O=r(R,L);A.push(O)}if(a.map&&!a.map.bytes){var W=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(W){var H=G.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),re=bE(a,[a.map.key],C),ne=r(H,re);A.push(ne)}var oe=G.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:K2(a.map)}),_e=XV({segment:a,finishProcessingFn:C}),ie=r(oe,_e);A.push(ie)}var J=G.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:K2(a)}),le=YV({segment:a,finishProcessingFn:C,responseType:J.responseType}),ee=r(J,le);ee.addEventListener("progress",rz({segment:a,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:h,isEndOfTimeline:y,endedTimelineFn:m,dataFn:T})),A.push(ee);var ce={};return A.forEach(function(de){de.addEventListener("loadend",tz({loadendState:ce,abortFn:s}))}),function(){return Y2(A)}},iz=ea("CodecUtils"),az=function(e){var r=e.attributes||{};if(r.CODECS)return la(r.CODECS)},Y9=function(e,r){var i=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},sz=function(e,r){if(!Y9(e,r))return!0;var i=r.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(var a in n)if(!n[a].uri&&!n[a].playlists)return!0;return!1},Zm=function(e){var r={};return e.forEach(function(i){var n=i.mediaType,a=i.type,s=i.details;r[n]=r[n]||[],r[n].push(v4(""+a+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){iz("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},xE=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},Bf=function(e,r){var i=r.attributes||{},n=Zm(az(r)||[]);if(Y9(e,r)&&!n.audio&&!sz(e,r)){var a=Zm(TB(e,i.AUDIO)||[]);a.audio&&(n.audio=a.audio)}return n},hp=ea("PlaylistSelector"),TE=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},eg=function(e,r){if(!e)return"";var i=B.getComputedStyle(e);return i?i[r]:""},n0=function(e,r){var i=e.slice();e.sort(function(n,a){var s=r(n,a);return s===0?i.indexOf(n)-i.indexOf(a):s})},N5=function(e,r){var i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||B.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(n=r.attributes.BANDWIDTH),n=n||B.Number.MAX_VALUE,i-n},oz=function(e,r){var i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||B.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(n=r.attributes.RESOLUTION.width),n=n||B.Number.MAX_VALUE,i===n&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-n},J9=function(e,r,i,n,a,s){if(e){var o={bandwidth:r,width:i,height:n,limitRenditionByPlayerDimensions:a},l=e.playlists;Fn.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(H){var re,ne=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.width,oe=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.height;return re=H.attributes&&H.attributes.BANDWIDTH,re=re||B.Number.MAX_VALUE,{bandwidth:re,width:ne,height:oe,playlist:H}});n0(u,function(H,re){return H.bandwidth-re.bandwidth}),u=u.filter(function(H){return!Fn.isIncompatible(H.playlist)});var c=u.filter(function(H){return Fn.isEnabled(H.playlist)});c.length||(c=u.filter(function(H){return!Fn.isDisabled(H.playlist)}));var f=c.filter(function(H){return H.bandwidth*Nr.BANDWIDTH_VARIANCE<r}),d=f[f.length-1],h=f.filter(function(H){return H.bandwidth===d.bandwidth})[0];if(a===!1){var y=h||c[0]||u[0];if(y&&y.playlist){var m="sortedPlaylistReps";return h&&(m="bandwidthBestRep"),c[0]&&(m="enabledPlaylistReps"),hp("choosing "+TE(y)+" using "+m+" with options",o),y.playlist}return hp("could not choose a playlist with options",o),null}var T=f.filter(function(H){return H.width&&H.height});n0(T,function(H,re){return H.width-re.width});var b=T.filter(function(H){return H.width===i&&H.height===n});d=b[b.length-1];var E=b.filter(function(H){return H.bandwidth===d.bandwidth})[0],A,C,I;E||(A=T.filter(function(H){return H.width>i||H.height>n}),C=A.filter(function(H){return H.width===A[0].width&&H.height===A[0].height}),d=C[C.length-1],I=C.filter(function(H){return H.bandwidth===d.bandwidth})[0]);var R;if(s.experimentalLeastPixelDiffSelector){var L=T.map(function(H){return H.pixelDiff=Math.abs(H.width-i)+Math.abs(H.height-n),H});n0(L,function(H,re){return H.pixelDiff===re.pixelDiff?re.bandwidth-H.bandwidth:H.pixelDiff-re.pixelDiff}),R=L[0]}var O=R||I||E||h||c[0]||u[0];if(O&&O.playlist){var W="sortedPlaylistReps";return R?W="leastPixelDiffRep":I?W="resolutionPlusOneRep":E?W="resolutionBestRep":h?W="bandwidthBestRep":c[0]&&(W="enabledPlaylistReps"),hp("choosing "+TE(O)+" using "+W+" with options",o),O.playlist}return hp("could not choose a playlist with options",o),null}},wE=function(){var e=this.useDevicePixelRatio&&B.devicePixelRatio||1;return J9(this.playlists.master,this.systemBandwidth,parseInt(eg(this.tech_.el(),"width"),10)*e,parseInt(eg(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},lz=function(e){var r=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&B.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=e*this.systemBandwidth+(1-e)*r,i=this.systemBandwidth),J9(this.playlists.master,r,parseInt(eg(this.tech_.el(),"width"),10)*n,parseInt(eg(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},uz=function(e){var r=e.master,i=e.currentTime,n=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,c=r.playlists.filter(function(m){return!Fn.isIncompatible(m)}),f=c.filter(Fn.isEnabled);f.length||(f=c.filter(function(m){return!Fn.isDisabled(m)}));var d=f.filter(Fn.hasAttribute.bind(null,"BANDWIDTH")),h=d.map(function(m){var T=u.getSyncPoint(m,a,l,i),b=T?1:2,E=Fn.estimateSegmentRequestTime(s,n,m),A=E*b-o;return{playlist:m,rebufferingImpact:A}}),y=h.filter(function(m){return m.rebufferingImpact<=0});return n0(y,function(m,T){return N5(T.playlist,m.playlist)}),y.length?y[0]:(n0(h,function(m,T){return m.rebufferingImpact-T.rebufferingImpact}),h[0]||null)},cz=function(){var e=this,r=this.playlists.master.playlists.filter(Fn.isEnabled);n0(r,function(n,a){return N5(n,a)});var i=r.filter(function(n){return!!Bf(e.playlists.master,n).video});return i[0]||null},fz=function(e){var r=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(n){i.set(n,r),r+=n.byteLength})),i},dz=function(e,r,i){if(!e[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);var a=r.textTracks().getTrackById(n);if(a)e[i]=a;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,l=i,u=!1,c=s[n];c&&(o=c.label,l=c.language,u=c.default),e[i]=r.addRemoteTextTrack({kind:"captions",id:n,default:u,label:o,language:l},!1).track}}},hz=function(e){var r=e.inbandTextTracks,i=e.captionArray,n=e.timestampOffset;if(i){var a=B.WebKitDataCue||B.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new a(s.startTime+n,s.endTime+n,s.text))})}},pz=function(e){Object.defineProperties(e.frame,{id:{get:function(){return G.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return G.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return G.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},mz=function(e){var r=e.inbandTextTracks,i=e.metadataArray,n=e.timestampOffset,a=e.videoDuration;if(i){var s=B.WebKitDataCue||B.VTTCue,o=r.metadataTrack_;if(o&&(i.forEach(function(h){var y=h.cueTime+n;typeof y!="number"||B.isNaN(y)||y<0||!(y<1/0)||h.frames.forEach(function(m){var T=new s(y,y,m.value||m.url||m.data||"");T.frame=m,T.value=m,pz(T),o.addCue(T)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var f=u.reduce(function(h,y){var m=h[y.startTime]||[];return m.push(y),h[y.startTime]=m,h},{}),d=Object.keys(f).sort(function(h,y){return Number(h)-Number(y)});d.forEach(function(h,y){var m=f[h],T=Number(d[y+1])||a;m.forEach(function(b){b.endTime=T})})}}},gz=function(e,r,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},xf=function(e,r,i){var n,a;if(i&&i.cues)for(n=i.cues.length;n--;)a=i.cues[n],a.startTime>=e&&a.endTime<=r&&i.removeCue(a)},vz=function(e){var r=e.cues;if(r)for(var i=0;i<r.length;i++){for(var n=[],a=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(a++,a>1&&n.push(r[s]));n.length&&n.forEach(function(o){return e.removeCue(o)})}},yz=function(e,r,i){if(typeof r>"u"||r===null||!e.length)return[];var n=Math.ceil((r-i+3)*Um.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>n);a++);return e.slice(a)},bz=function(e,r,i){if(!r.length)return e;if(i)return r.slice();var n=r[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=n);a++);return e.slice(0,a).concat(r)},xz=function(e,r,i,n){for(var a=Math.ceil((r-n)*Um.ONE_SECOND_IN_TS),s=Math.ceil((i-n)*Um.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=a););return u=Math.max(u,0),o.splice(u,l-u+1),o},Tz=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var i=Object.keys(e).sort(),n=Object.keys(r).sort();if(i.length!==n.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==n[a]||e[s]!==r[s])return!1}return!0},Z9=22,wz=function(e,r,i){r=r||[];for(var n=[],a=0,s=0;s<r.length;s++){var o=r[s];if(e===o.timeline&&(n.push(s),a+=o.duration,a>i))return s}return n.length===0?0:n[n.length-1]},tf=1,_z=500,_E=function(e){return typeof e=="number"&&isFinite(e)},pp=1/60,Ez=function(e,r,i){return e!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Sz=function(e,r,i){var n=r-Nr.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var a=r-i;return Math.min(a,n)},Tu=function(e){var r=e.startOfSegment,i=e.duration,n=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,l=s.id,u=s.segments,c=u===void 0?[]:u,f=e.mediaIndex,d=e.partIndex,h=e.timeline,y=c.length-1,m="mediaIndex/partIndex increment";e.getMediaInfoForTime?m="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(m="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(m+=" with independent "+e.independent);var T=typeof d=="number",b=e.segment.uri?"segment":"pre-segment",E=T?T9({preloadSegment:n})-1:0;return b+" ["+(o+f)+"/"+(o+y)+"]"+(T?" part ["+d+"/"+E+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(T?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+h+"]")+(" selected by ["+m+"]")+(" playlist ["+l+"]")},EE=function(e){return e+"TimingInfo"},Az=function(e){var r=e.segmentTimeline,i=e.currentTimeline,n=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&r===i?null:r<i?n:a.length?a.end(a.length-1):n},SE=function(e){var r=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===n)return!1;if(a==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==n}if(a==="main"&&s){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===n)}return!1},Cz=function(e){var r=0;return["video","audio"].forEach(function(i){var n=e[i+"TimingInfo"];if(n){var a=n.start,s=n.end,o;typeof a=="bigint"||typeof s=="bigint"?o=B.BigInt(s)-B.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o<"u"&&o>r&&(r=o)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},AE=function(e){var r=e.segmentDuration,i=e.maxDuration;return r?Math.round(r)>i+Po:!1},Pz=function(e,r){if(r!=="hls")return null;var i=Cz({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var n=e.playlist.targetDuration,a=AE({segmentDuration:i,maxDuration:n*2}),s=AE({segmentDuration:i,maxDuration:n}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},J2=function(t){xe(e,t);function e(i,n){var a;if(a=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=G.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=ea("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(Ye(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var r=e.prototype;return r.createTransmuxer_=function(){return Wv.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&B.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,B.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(n){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==n},r.error=function(n){return typeof n<"u"&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Wv.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return G.createTimeRanges();if(this.loaderType_==="main"){var a=n.hasAudio,s=n.hasVideo,o=n.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=Ym(n),o=this.initSegments_[s];return a&&!o&&n.bytes&&(this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),o||n},r.segmentKey=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=F9(n),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&n.bytes&&(this.keyCache_[s]=o={resolvedUri:n.resolvedUri,bytes:n.bytes});var l={resolvedUri:(o||n).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(n,a){if(a===void 0&&(a={}),!!n){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=a,this.state==="INIT"&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(n));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==n.uri){this.mediaIndex!==null&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=n.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=n.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,n)}},r.pause=function(){this.checkBufferTimeout_&&(B.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(n){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&Wv.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(n,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=n){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(n,a,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=xz(this.gopBuffer_,n,a,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(n,a,u));for(var c in this.inbandTextTracks_)xf(n,a,this.inbandTextTracks_[c]);xf(n,a,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&B.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=B.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&B.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=B.setTimeout(this.monitorBufferTick_.bind(this),_z)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();n&&(typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},r.isEndOfStream_=function(n,a,s){if(n===void 0&&(n=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof n=="number"&&a.segments[n],l=n+1===a.segments.length,u=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var n=this.buffered_(),a=hE(n)||0,s=A5(n,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(c.isSyncRequest)c.mediaIndex=wz(this.currentTimeline_,u,a);else if(this.mediaIndex!==null){var f=u[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=f.end?f.end:a,f.parts&&f.parts[d+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=d+1):c.mediaIndex=this.mediaIndex+1}else{var h=Fn.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),y=h.segmentIndex,m=h.startTime,T=h.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),c.mediaIndex=y,c.startOfSegment=m,c.partIndex=T}var b=u[c.mediaIndex],E=b&&typeof c.partIndex=="number"&&b.parts&&b.parts[c.partIndex];if(!b||typeof c.partIndex=="number"&&!E)return null;if(typeof c.partIndex!="number"&&b.parts&&(c.partIndex=0,E=b.parts[0]),!s&&E&&!E.independent)if(c.partIndex===0){var A=u[c.mediaIndex-1],C=A.parts&&A.parts.length&&A.parts[A.parts.length-1];C&&C.independent&&(c.mediaIndex-=1,c.partIndex=A.parts.length-1,c.independent="previous segment")}else b.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var I=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&I&&!this.seeking_()?null:this.generateSegmentInfo_(c)},r.generateSegmentInfo_=function(n){var a=n.independent,s=n.playlist,o=n.mediaIndex,l=n.startOfSegment,u=n.isSyncRequest,c=n.partIndex,f=n.forceTimestampOffset,d=n.getMediaInfoForTime,h=s.segments[o],y=typeof c=="number"&&h.parts[c],m={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||h.resolvedUri,mediaIndex:o,partIndex:y?c:null,isSyncRequest:u,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:y&&y.duration||h.duration,segment:h,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:a},T=typeof f<"u"?f:this.isPendingTimestampOffset_;m.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:T});var b=hE(this.sourceUpdater_.audioBuffered());return typeof b=="number"&&(m.audioAppendStart=b-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(m.gopsToAlignWith=yz(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),m},r.timestampOffsetForSegment_=function(n){return Az(n)},r.earlyAbortWhenNeeded_=function(n){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=n.bandwidth,o=this.pendingSegment_.duration,l=Fn.estimateSegmentRequestTime(o,s,this.playlist_,n.bytesReceived),u=KH(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=uz({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(c){var f=l-u,d=f-c.rebufferingImpact,h=.5;u<=Po&&(h=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||d<h)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*Nr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(n){this.logger_("Aborting "+Tu(n)),this.mediaRequestsAborted+=1},r.handleProgress_=function(n,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(n,a){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},Tz(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(n,a,s,o){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var l=this.pendingSegment_,u=EE(a);l[u]=l[u]||{},l[u][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(n,a){var s=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};a.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var f=u[c.stream];f.startTime=Math.min(f.startTime,c.startTime+l),f.endTime=Math.max(f.endTime,c.endTime+l),f.captions.push(c)}),Object.keys(u).forEach(function(c){var f=u[c],d=f.startTime,h=f.endTime,y=f.captions,m=s.inbandTextTracks_;s.logger_("adding cues from "+d+" -> "+h+" for "+c),dz(m,s.vhs_.tech_,c),xf(d,h,m[c]),hz({captionArray:y,inbandTextTracks:m,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(n,a,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,a,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();gz(this.inbandTextTracks_,s,this.vhs_.tech_),mz({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(a){return a()})},r.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(a){return a()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var n=this.pendingSegment_;return n?this.getCurrentMediaInfo_()?!SE({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},r.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!n||!a)return!1;var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed;return!(o&&!n.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!n.audioTimingInfo||SE({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(n,a){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,n,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),s.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),s.isFmp4=n.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[EE(a.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},r.updateAppendInitSegmentStatus=function(n,a){this.loaderType_==="main"&&typeof n.timestampOffset=="number"&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==n.playlist&&(this.appendInitSegment_[a]=!0)},r.getInitSegmentAndUpdateState_=function(n){var a=n.type,s=n.initSegment,o=n.map,l=n.playlist;if(o){var u=Ym(o);if(this.activeInitSegmentId_===u)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=l,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes,c=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+al(c).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+al(f).join(", "));var d=c.length?c.start(0):0,h=c.length?c.end(c.length-1):0,y=f.length?f.start(0):0,m=f.length?f.end(f.length-1):0;if(h-d<=tf&&m-y<=tf){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+al(c).join(", ")+", ")+("video buffer: "+al(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var T=this.currentTime_(),b=T-tf;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+b),this.remove(0,b,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+tf+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=B.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},tf*1e3)},!0)},r.handleAppendError_=function(n,a){var s=n.segmentInfo,o=n.type,l=n.bytes;if(a){if(a.code===Z9){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+l.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(n){var a=n.segmentInfo,s=n.type,o=n.initSegment,l=n.data,u=n.bytes;if(!u){var c=[l],f=l.byteLength;o&&(c.unshift(o),f+=o.byteLength),u=fz({bytes:f,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:u}))},r.handleSegmentTimingInfo_=function(n,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=n+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(n,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:s,initSegment:l,data:o})}},r.loadSegment_=function(n){var a=this;if(this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),typeof n.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=Pi({},n,{forceTimestampOffset:!0});Pi(n,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(n)});return}this.updateTransmuxerAndRequestSegment_(n)},r.updateTransmuxerAndRequestSegment_=function(n){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var s=this.createSimplifiedSegmentObj_(n),o=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),l=this.mediaIndex!==null,u=n.timeline!==this.currentTimeline_&&n.timeline>0,c=o||l&&u;this.logger_("Requesting "+Tu(n)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=nz({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(d){var h=d.message,y=d.level,m=d.stream;a.logger_(Tu(n)+" logged from transmuxer stream "+m+" as a "+y+": "+h)}})},r.trimBackBuffer_=function(n){var a=Sz(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},r.createSimplifiedSegmentObj_=function(n){var a=n.segment,s=n.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},l=n.playlist.segments[n.mediaIndex-1];if(l&&l.timeline===a.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),a.key){var u=a.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=u}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},r.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},r.saveBandwidthRelatedStats_=function(n,a){if(this.pendingSegment_.byteLength=a.bytesReceived,n<pp){this.logger_("Ignoring segment's bandwidth because its duration of "+n+(" is less than the min to record "+pp));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},r.segmentRequestFinished_=function(n,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===Ea.ABORTED)return;if(this.pause(),n.code===Ea.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(n),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=bz(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(n){var a=this.syncController_.mappingForTimeline(n);a!==null&&(this.timeMapping_=a)},r.updateMediaSecondsLoaded_=function(n){typeof n.start=="number"&&typeof n.end=="number"?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(n){return n===null?!1:this.loaderType_==="main"&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(n){var a=n.currentStart,s=n.playlist,o=n.mediaIndex,l=n.firstVideoFrameTimeForData,u=n.currentVideoTimestampOffset,c=n.useVideoTimingInfo,f=n.videoTimingInfo,d=n.audioTimingInfo;if(typeof a<"u")return a;if(!c)return d.start;var h=s.segments[o-1];return o===0||!h||typeof h.start>"u"||h.end!==l+u?l:f.start},r.waitForAppendsToComplete_=function(n){var a=this.getCurrentMediaInfo_(n);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!l;if(n.waitingOnAppends=0,!n.hasAppendedData_){!n.timingInfo&&typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),this.checkAppendsDone_(n);return}u&&n.waitingOnAppends++,c&&n.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},r.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,n.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(n){var a=Ez(this.loaderType_,this.getCurrentMediaInfo_(),n);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(n){if(!(n.timestampOffset===null||typeof n.timingInfo.start!="number"||n.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;n.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:n.segment.videoTimingInfo,audioTimingInfo:n.segment.audioTimingInfo,timingInfo:n.timingInfo}),n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),a=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},r.getSegmentStartTimeForTimestampOffsetCalculation_=function(n){var a=n.videoTimingInfo,s=n.audioTimingInfo,o=n.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},r.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;o&&(n.timingInfo.end=typeof o.end=="number"?o.end:o.start+n.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=Pz(n,this.sourceType_);if(a&&(a.severity==="warn"?G.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",n.isSyncRequest&&(this.trigger("syncinfoupdate"),!n.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Tu(n));return}this.logger_("Appended "+Tu(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var s=n.segment,o=n.part,l=s.end&&this.currentTime_()-s.end>n.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>n.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+Tu(n)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(n){if(n.duration<pp){this.logger_("Ignoring segment's throughput because its duration of "+n.duration+(" is less than the min to record "+pp));return}var a=this.throughput.rate,s=Date.now()-n.endOfAllRequests+1,o=Math.floor(n.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},r.addSegmentMetadataCue_=function(n){if(this.segmentMetadataTrack_){var a=n.segment,s=a.start,o=a.end;if(!(!_E(s)||!_E(o))){xf(s,o,this.segmentMetadataTrack_);var l=B.WebKitDataCue||B.VTTCue,u={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:s,end:o},c=JSON.stringify(u),f=new l(s,o,c);f.value=u,this.segmentMetadataTrack_.addCue(f)}}},e}(G.EventTarget);function ns(){}var eP=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},kz=["video","audio"],Z2=function(e,r){var i=r[e+"Buffer"];return i&&i.updating||r.queuePending[e]},Dz=function(e,r){for(var i=0;i<r.length;i++){var n=r[i];if(n.type==="mediaSource")return null;if(n.type===e)return i}return null},O5=function t(e,r){if(r.queue.length!==0){var i=0,n=r.queue[i];if(n.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),n.action(r),n.doneFn&&n.doneFn(),t("audio",r),t("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Z2(e,r))){if(n.type!==e){if(i=Dz(e,r.queue),i===null)return;n=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[e]=n,n.action(e,r),!n.doneFn){r.queuePending[e]=null,t(e,r);return}}}},tP=function(e,r){var i=r[e+"Buffer"],n=eP(e);i&&(i.removeEventListener("updateend",r["on"+n+"UpdateEnd_"]),i.removeEventListener("error",r["on"+n+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},va=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},Wn={appendBuffer:function(e,r,i){return function(n,a){var s=a[n+"Buffer"];if(va(a.mediaSource,s)){a.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===Z9?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+n+"Buffer")),a.queuePending[n]=null,i(o)}}}},remove:function(e,r){return function(i,n){var a=n[i+"Buffer"];if(va(n.mediaSource,a)){n.logger_("Removing "+e+" to "+r+" from "+i+"Buffer");try{a.remove(e,r)}catch{n.logger_("Remove "+e+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(r,i){var n=i[r+"Buffer"];va(i.mediaSource,n)&&(i.logger_("Setting "+r+"timestampOffset to "+e),n.timestampOffset=e)}},callback:function(e){return function(r,i){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(i){G.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(i){G.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var i=r[e+"Buffer"];if(va(r.mediaSource,i)){r.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(n){G.log.warn("Failed to abort on "+e+"Buffer",n)}}}}},addSourceBuffer:function(e,r){return function(i){var n=eP(e),a=vd(r);i.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),s.addEventListener("error",i["on"+n+"Error_"]),i.codecs[e]=r,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(r){var i=r[e+"Buffer"];if(tP(e,r),!!va(r.mediaSource,i)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(n){G.log.warn("Failed to removeSourceBuffer "+e+"Buffer",n)}}}},changeType:function(e){return function(r,i){var n=i[r+"Buffer"],a=vd(e);va(i.mediaSource,n)&&i.codecs[r]!==e&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+e),n.changeType(a),i.codecs[r]=e)}}},$n=function(e){var r=e.type,i=e.sourceUpdater,n=e.action,a=e.doneFn,s=e.name;i.queue.push({type:r,action:n,doneFn:a,name:s}),O5(r,i)},CE=function(e,r){return function(i){if(r.queuePending[e]){var n=r.queuePending[e].doneFn;r.queuePending[e]=null,n&&n(r[e+"Error_"])}O5(e,r)}},rP=function(t){xe(e,t);function e(i){var n;return n=t.call(this)||this,n.mediaSource=i,n.sourceopenListener_=function(){return O5("mediaSource",Ye(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=ea("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=CE("video",Ye(n)),n.onAudioUpdateEnd_=CE("audio",Ye(n)),n.onVideoError_=function(a){n.videoError_=a},n.onAudioError_=function(a){n.audioError_=a},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(n,a){$n({type:"mediaSource",sourceUpdater:this,action:Wn.addSourceBuffer(n,a),name:"addSourceBuffer"})},r.abort=function(n){$n({type:n,sourceUpdater:this,action:Wn.abort(n),name:"abort"})},r.removeSourceBuffer=function(n){if(!this.canRemoveSourceBuffer()){G.log.error("removeSourceBuffer is not supported!");return}$n({type:"mediaSource",sourceUpdater:this,action:Wn.removeSourceBuffer(n),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!G.browser.IE_VERSION&&!G.browser.IS_FIREFOX&&B.MediaSource&&B.MediaSource.prototype&&typeof B.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return B.SourceBuffer&&B.SourceBuffer.prototype&&typeof B.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(n,a){if(!this.canChangeType()){G.log.error("changeType is not supported!");return}$n({type:n,sourceUpdater:this,action:Wn.changeType(a),name:"changeType"})},r.addOrChangeSourceBuffers=function(n){var a=this;if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(s){var o=n[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},r.appendBuffer=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([n,a]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=a;if($n({type:l,sourceUpdater:this,action:Wn.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:a,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(d){s.appendBuffer.apply(s,d)})}},r.audioBuffered=function(){return va(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:G.createTimeRange()},r.videoBuffered=function(){return va(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:G.createTimeRange()},r.buffered=function(){var n=va(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=va(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!n?this.audioBuffered():n&&!a?this.videoBuffered():QH(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(n,a){a===void 0&&(a=ns),$n({type:"mediaSource",sourceUpdater:this,action:Wn.duration(n),name:"duration",doneFn:a})},r.endOfStream=function(n,a){n===void 0&&(n=null),a===void 0&&(a=ns),typeof n!="string"&&(n=void 0),$n({type:"mediaSource",sourceUpdater:this,action:Wn.endOfStream(n),name:"endOfStream",doneFn:a})},r.removeAudio=function(n,a,s){if(s===void 0&&(s=ns),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}$n({type:"audio",sourceUpdater:this,action:Wn.remove(n,a),doneFn:s,name:"remove"})},r.removeVideo=function(n,a,s){if(s===void 0&&(s=ns),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}$n({type:"video",sourceUpdater:this,action:Wn.remove(n,a),doneFn:s,name:"remove"})},r.updating=function(){return!!(Z2("audio",this)||Z2("video",this))},r.audioTimestampOffset=function(n){return typeof n<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==n&&($n({type:"audio",sourceUpdater:this,action:Wn.timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},r.videoTimestampOffset=function(n){return typeof n<"u"&&this.videoBuffer&&this.videoTimestampOffset!==n&&($n({type:"video",sourceUpdater:this,action:Wn.timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},r.audioQueueCallback=function(n){this.audioBuffer&&$n({type:"audio",sourceUpdater:this,action:Wn.callback(n),name:"callback"})},r.videoQueueCallback=function(n){this.videoBuffer&&$n({type:"video",sourceUpdater:this,action:Wn.callback(n),name:"callback"})},r.dispose=function(){var n=this;this.trigger("dispose"),kz.forEach(function(a){n.abort(a),n.canRemoveSourceBuffer()?n.removeSourceBuffer(a):n[a+"QueueCallback"](function(){return tP(a,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(G.EventTarget),PE=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},kE=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),Iz=function(t){xe(e,t);function e(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(R2(Error)),Nz=function(t){xe(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return G.createTimeRanges();var n=this.subtitlesTrack_.cues,a=n[0].startTime,s=n[n.length-1].startTime;return G.createTimeRanges([[a,s]])},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=Ym(n),o=this.initSegments_[s];if(a&&!o&&n.bytes){var l=kE.byteLength+n.bytes.byteLength,u=new Uint8Array(l);u.set(n.bytes),u.set(kE,n.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:u}}return o||n},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(n){return typeof n>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(n,a){xf(n,a,this.subtitlesTrack_)},r.fillBuffer_=function(){var n=this,a=this.chooseNextRequest_();if(a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){n.state="READY",n.paused()||n.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},r.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(n,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(n){n.code===Ea.TIMEOUT&&this.handleTimeout_(),n.code===Ea.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(n);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=a.map.bytes),l.bytes=a.bytes,typeof B.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(n,a,s)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}u.requested=!0;try{this.parseVTTCues_(l)}catch(c){this.stopForError({message:c.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(c){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new B.VTTCue(c.startTime,c.endTime,c.text):c)}),vz(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(n){var a,s=!1;if(typeof B.WebVTT!="function")throw new Iz;typeof B.TextDecoder=="function"?a=new B.TextDecoder("utf8"):(a=B.WebVTT.StringDecoder(),s=!0);var o=new B.WebVTT.Parser(B,B.vttjs,a);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=n.cues.push.bind(n.cues),o.ontimestampmap=function(c){n.timestampmap=c},o.onparsingerror=function(c){G.log.warn("Error encountered when parsing cues: "+c.message)},n.segment.map){var l=n.segment.map.bytes;s&&(l=PE(l)),o.parse(l)}var u=n.bytes;s&&(u=PE(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(n,a,s){var o=n.segment;if(a){if(!n.cues.length){o.empty=!0;return}var l=n.timestampmap,u=l.MPEGTS/Um.ONE_SECOND_IN_TS-l.LOCAL+a.mapping;if(n.cues.forEach(function(d){d.startTime+=u,d.endTime+=u}),!s.syncInfo){var c=n.cues[0].startTime,f=n.cues[n.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+n.mediaIndex,time:Math.min(c,f-o.duration)}}}},e}(J2),Oz=function(e,r){for(var i=e.cues,n=0;n<i.length;n++){var a=i[n];if(r>=a.adStartTime&&r<=a.adEndTime)return a}return null},Rz=function(e,r,i){if(i===void 0&&(i=0),!!e.segments)for(var n=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=Oz(r,n+o.duration/2)),a){if("cueIn"in o){a.endTime=n,a.adEndTime=n,n+=o.duration,a=null;continue}if(n<a.endTime){n+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new B.VTTCue(n,n+o.duration,o.cueOut),a.adStartTime=n,a.adEndTime=n+parseFloat(o.cueOut),r.addCue(a)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];a=new B.VTTCue(n,n+o.duration,""),a.adStartTime=n-u,a.adEndTime=a.adStartTime+c,r.addCue(a)}n+=o.duration}},Lz=86400,DE=[{name:"VOD",run:function(e,r,i,n,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,r,i,n,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,l=G2(r);a=a||0;for(var u=0;u<l.length;u++){var c=r.endList||a===0?u:l.length-(u+1),f=l[c],d=f.segment,h=e.timelineToDatetimeMappings[d.timeline];if(!(!h||!d.dateTimeObject)){var y=d.dateTimeObject.getTime()/1e3,m=y+h;if(d.parts&&typeof f.partIndex=="number")for(var T=0;T<f.partIndex;T++)m+=d.parts[T].duration;var b=Math.abs(a-m);if(o!==null&&(b===0||o<b))break;o=b,s={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return s}},{name:"Segment",run:function(e,r,i,n,a){var s=null,o=null;a=a||0;for(var l=G2(r),u=0;u<l.length;u++){var c=r.endList||a===0?u:l.length-(u+1),f=l[c],d=f.segment,h=f.part&&f.part.start||d&&d.start;if(d.timeline===n&&typeof h<"u"){var y=Math.abs(a-h);if(o!==null&&o<y)break;(!s||o===null||o>=y)&&(o=y,s={time:h,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:function(e,r,i,n,a){var s=null;if(a=a||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],c=r.discontinuitySequence+l+1,f=e.discontinuities[c];if(f){var d=Math.abs(a-f.time);if(o!==null&&o<d)break;(!s||o===null||o>=d)&&(o=d,s={time:f.time,segmentIndex:u,partIndex:null})}}return s}},{name:"Playlist",run:function(e,r,i,n,a){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],Fz=function(t){xe(e,t);function e(i){var n;return n=t.call(this)||this,n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=ea("SyncController"),n}var r=e.prototype;return r.getSyncPoint=function(n,a,s,o){var l=this.runStrategies_(n,a,s,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(n,a){if(!n||!n.segments)return null;var s=this.runStrategies_(n,a,n.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Mf({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(n,a,s,o){for(var l=[],u=0;u<DE.length;u++){var c=DE[u],f=c.run(this,n,a,s,o);f&&(f.strategy=c.name,l.push({strategy:c.name,syncPoint:f}))}return l},r.selectSyncPoint_=function(n,a){for(var s=n[0].syncPoint,o=Math.abs(n[0].syncPoint[a.key]-a.value),l=n[0].strategy,u=1;u<n.length;u++){var c=Math.abs(n[u].syncPoint[a.key]-a.value);c<o&&(o=c,s=n[u].syncPoint,l=n[u].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+l+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(n,a){var s=a.mediaSequence-n.mediaSequence;if(s>Lz){G.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var l=n.segments[o];if(l&&typeof l.start<"u"){a.syncInfo={mediaSequence:n.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var a=n.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},r.saveSegmentTimingInfo=function(n){var a=n.segmentInfo,s=n.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),l=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&s&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].time},r.mappingForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].mapping},r.calculateSegmentTimeMapping_=function(n,a,s){var o=n.segment,l=n.part,u=this.timelines[n.timeline],c,f;if(typeof n.timestampOffset=="number")u={time:n.startOfSegment,mapping:n.startOfSegment-a.start},s&&(this.timelines[n.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=n.startOfSegment,f=a.end+u.mapping;else if(u)c=a.start+u.mapping,f=a.end+u.mapping;else return!1;return l&&(l.start=c,l.end=f),(!o.start||c<o.start)&&(o.start=c),o.end=f,!0},r.saveDiscontinuitySyncInfo_=function(n){var a=n.playlist,s=n.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var l=a.discontinuityStarts[o],u=a.discontinuitySequence+o+1,c=l-n.mediaIndex,f=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>f){var d=void 0;c<0?d=s.start-Mf({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex,endIndex:l}):d=s.end+Mf({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:d,accuracy:f}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(G.EventTarget),Mz=function(t){xe(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=e.prototype;return r.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},r.lastTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(G.EventTarget),Bz=V9(z9(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(C,I,R){return R={path:I,exports:{},require:function(O,W){return r(O,W??R.path)}},C(R,R.exports),R.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(C){function I(L,O){for(var W=0;W<O.length;W++){var H=O[W];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(L,H.key,H)}}function R(L,O,W){return O&&I(L.prototype,O),W&&I(L,W),L}C.exports=R,C.exports.default=C.exports,C.exports.__esModule=!0}),n=e(function(C){function I(R,L){return C.exports=I=Object.setPrototypeOf||function(W,H){return W.__proto__=H,W},C.exports.default=C.exports,C.exports.__esModule=!0,I(R,L)}C.exports=I,C.exports.default=C.exports,C.exports.__esModule=!0}),a=e(function(C){function I(R,L){R.prototype=Object.create(L.prototype),R.prototype.constructor=R,n(R,L)}C.exports=I,C.exports.default=C.exports,C.exports.__esModule=!0}),s=function(){function C(){this.listeners={}}var I=C.prototype;return I.on=function(L,O){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push(O)},I.off=function(L,O){if(!this.listeners[L])return!1;var W=this.listeners[L].indexOf(O);return this.listeners[L]=this.listeners[L].slice(0),this.listeners[L].splice(W,1),W>-1},I.trigger=function(L){var O=this.listeners[L];if(O)if(arguments.length===2)for(var W=O.length,H=0;H<W;++H)O[H].call(this,arguments[1]);else for(var re=Array.prototype.slice.call(arguments,1),ne=O.length,oe=0;oe<ne;++oe)O[oe].apply(this,re)},I.dispose=function(){this.listeners={}},I.pipe=function(L){this.on("data",function(O){L.push(O)})},C}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(C){return C.subarray(0,C.byteLength-C[C.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var I=[[[],[],[],[],[]],[[],[],[],[],[]]],R=I[0],L=I[1],O=R[4],W=L[4],H,re,ne,oe=[],_e=[],ie,J,le,ee,ce,de;for(H=0;H<256;H++)_e[(oe[H]=H<<1^(H>>7)*283)^H]=H;for(re=ne=0;!O[re];re^=ie||1,ne=_e[ne]||1)for(ee=ne^ne<<1^ne<<2^ne<<3^ne<<4,ee=ee>>8^ee&255^99,O[re]=ee,W[ee]=re,le=oe[J=oe[ie=oe[re]]],de=le*16843009^J*65537^ie*257^re*16843008,ce=oe[ee]*257^ee*16843008,H=0;H<4;H++)R[H][re]=ce=ce<<24^ce>>>8,L[H][ee]=de=de<<24^de>>>8;for(H=0;H<5;H++)R[H]=R[H].slice(0),L[H]=L[H].slice(0);return I},u=null,c=function(){function C(R){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var L,O,W,H=this._tables[0][4],re=this._tables[1],ne=R.length,oe=1;if(ne!==4&&ne!==6&&ne!==8)throw new Error("Invalid aes key size");var _e=R.slice(0),ie=[];for(this._key=[_e,ie],L=ne;L<4*ne+28;L++)W=_e[L-1],(L%ne===0||ne===8&&L%ne===4)&&(W=H[W>>>24]<<24^H[W>>16&255]<<16^H[W>>8&255]<<8^H[W&255],L%ne===0&&(W=W<<8^W>>>24^oe<<24,oe=oe<<1^(oe>>7)*283)),_e[L]=_e[L-ne]^W;for(O=0;L;O++,L--)W=_e[O&3?L:L-4],L<=4||O<4?ie[O]=W:ie[O]=re[0][H[W>>>24]]^re[1][H[W>>16&255]]^re[2][H[W>>8&255]]^re[3][H[W&255]]}var I=C.prototype;return I.decrypt=function(L,O,W,H,re,ne){var oe=this._key[1],_e=L^oe[0],ie=H^oe[1],J=W^oe[2],le=O^oe[3],ee,ce,de,Ge=oe.length/4-2,Ee,Ze=4,Ue=this._tables[1],dt=Ue[0],he=Ue[1],gt=Ue[2],Ne=Ue[3],Tt=Ue[4];for(Ee=0;Ee<Ge;Ee++)ee=dt[_e>>>24]^he[ie>>16&255]^gt[J>>8&255]^Ne[le&255]^oe[Ze],ce=dt[ie>>>24]^he[J>>16&255]^gt[le>>8&255]^Ne[_e&255]^oe[Ze+1],de=dt[J>>>24]^he[le>>16&255]^gt[_e>>8&255]^Ne[ie&255]^oe[Ze+2],le=dt[le>>>24]^he[_e>>16&255]^gt[ie>>8&255]^Ne[J&255]^oe[Ze+3],Ze+=4,_e=ee,ie=ce,J=de;for(Ee=0;Ee<4;Ee++)re[(3&-Ee)+ne]=Tt[_e>>>24]<<24^Tt[ie>>16&255]<<16^Tt[J>>8&255]<<8^Tt[le&255]^oe[Ze++],ee=_e,_e=ie,ie=J,J=le,le=ee},C}(),f=function(C){a(I,C);function I(){var L;return L=C.call(this,s)||this,L.jobs=[],L.delay=1,L.timeout_=null,L}var R=I.prototype;return R.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},R.push=function(O){this.jobs.push(O),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},I}(s),d=function(I){return I<<24|(I&65280)<<8|(I&16711680)>>8|I>>>24},h=function(I,R,L){var O=new Int32Array(I.buffer,I.byteOffset,I.byteLength>>2),W=new c(Array.prototype.slice.call(R)),H=new Uint8Array(I.byteLength),re=new Int32Array(H.buffer),ne,oe,_e,ie,J,le,ee,ce,de;for(ne=L[0],oe=L[1],_e=L[2],ie=L[3],de=0;de<O.length;de+=4)J=d(O[de]),le=d(O[de+1]),ee=d(O[de+2]),ce=d(O[de+3]),W.decrypt(J,le,ee,ce,re,de),re[de]=d(re[de]^ne),re[de+1]=d(re[de+1]^oe),re[de+2]=d(re[de+2]^_e),re[de+3]=d(re[de+3]^ie),ne=J,oe=le,_e=ee,ie=ce;return H},y=function(){function C(R,L,O,W){var H=C.STEP,re=new Int32Array(R.buffer),ne=new Uint8Array(R.byteLength),oe=0;for(this.asyncStream_=new f,this.asyncStream_.push(this.decryptChunk_(re.subarray(oe,oe+H),L,O,ne)),oe=H;oe<re.length;oe+=H)O=new Uint32Array([d(re[oe-4]),d(re[oe-3]),d(re[oe-2]),d(re[oe-1])]),this.asyncStream_.push(this.decryptChunk_(re.subarray(oe,oe+H),L,O,ne));this.asyncStream_.push(function(){W(null,o(ne))})}var I=C.prototype;return I.decryptChunk_=function(L,O,W,H){return function(){var re=h(L,O,W);H.set(re,L.byteOffset)}},i(C,null,[{key:"STEP",get:function(){return 32e3}}]),C}(),m;typeof window<"u"?m=window:typeof t<"u"?m=t:typeof self<"u"?m=self:m={};var T=m,b=function(I){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(I):I&&I.buffer instanceof ArrayBuffer},E=T.BigInt||Number;E("0x1"),E("0x100"),E("0x10000"),E("0x1000000"),E("0x100000000"),E("0x10000000000"),E("0x1000000000000"),E("0x100000000000000"),E("0x10000000000000000");var A=function(I){var R={};return Object.keys(I).forEach(function(L){var O=I[L];b(O)?R[L]={bytes:O.buffer,byteOffset:O.byteOffset,byteLength:O.byteLength}:R[L]=O}),R};self.onmessage=function(C){var I=C.data,R=new Uint8Array(I.encrypted.bytes,I.encrypted.byteOffset,I.encrypted.byteLength),L=new Uint32Array(I.key.bytes,I.key.byteOffset,I.key.byteLength/4),O=new Uint32Array(I.iv.bytes,I.iv.byteOffset,I.iv.byteLength/4);new y(R,L,O,function(W,H){self.postMessage(A({source:I.source,decrypted:H}),[H.buffer])})}})),Uz=H9(Bz),jz=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},tg=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},eb=function(e,r){r.activePlaylistLoader=e,e.load()},Hz=function(e,r){return function(){var i=r.segmentLoaders,n=i[e],a=i.main,s=r.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastGroup_;if(!(l&&c&&l.id===c.id)&&(s.lastGroup_=l,s.lastTrack_=o,tg(n,s),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&a.resetEverything();return}n.resyncLoader(),eb(l.playlistLoader,s)}}},Vz=function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e];n.lastGroup_=null,i.abort(),i.pause()}},zz=function(e,r){return function(){var i=r.masterPlaylistLoader,n=r.segmentLoaders,a=n[e],s=n.main,o=r.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,f=o.lastTrack_;if(!(f&&l&&f.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,tg(a,o),!!u)){if(u.isMasterPlaylist){if(!l||!f||l.id===f.id)return;var d=r.vhs.masterPlaylistController_,h=d.selectPlaylist();if(d.media()===h)return;o.logger_("track change. Switching master audio from "+f.id+" to "+l.id),i.pause(),s.resetEverything(),d.fastQualityChange_(h);return}if(e==="AUDIO"){if(!u.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(c===u.playlistLoader){eb(u.playlistLoader,o);return}a.track&&a.track(l),a.resetEverything(),eb(u.playlistLoader,o)}}},rg={AUDIO:function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e],a=r.blacklistCurrentPlaylist;tg(i,n);var s=n.activeTrack(),o=n.activeGroup(),l=(o.filter(function(f){return f.default})[0]||o[0]).id,u=n.tracks[l];if(s===u){a({message:"Problem encountered loading the default audio track."});return}G.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in n.tracks)n.tracks[c].enabled=n.tracks[c]===u;n.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e];G.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),tg(i,n);var a=n.activeTrack();a&&(a.mode="disabled"),n.onTrackChanged()}}},IE={AUDIO:function(e,r,i){if(r){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,a),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",rg[e](e,i))}},SUBTITLES:function(e,r,i){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];r.on("loadedmetadata",function(){var l=r.media();s.playlist(l,a),s.track(o.activeTrack()),(!n.paused()||l.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",rg[e](e,i))}},Gz={AUDIO:function(e,r){var i=r.vhs,n=r.sourceType,a=r.segmentLoaders[e],s=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[e],u=l.groups,c=l.tracks,f=l.logger_,d=r.masterPlaylistLoader,h=gh(d.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},h&&(o[e].main.default.playlists=d.master.playlists));for(var y in o[e]){u[y]||(u[y]=[]);for(var m in o[e][y]){var T=o[e][y][m],b=void 0;if(h?(f("AUDIO group '"+y+"' label '"+m+"' is a master playlist"),T.isMasterPlaylist=!0,b=null):n==="vhs-json"&&T.playlists?b=new zu(T.playlists[0],i,s):T.resolvedUri?b=new zu(T.resolvedUri,i,s):T.playlists&&n==="dash"?b=new X2(T.playlists[0],i,s,d):b=null,T=G.mergeOptions({id:m,playlistLoader:b},T),IE[e](e,T.playlistLoader,r),u[y].push(T),typeof c[m]>"u"){var E=new G.AudioTrack({id:m,kind:jz(T),enabled:!1,language:T.language,default:T.default,label:m});c[m]=E}}}a.on("error",rg[e](e,r))},SUBTITLES:function(e,r){var i=r.tech,n=r.vhs,a=r.sourceType,s=r.segmentLoaders[e],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[e],c=u.groups,f=u.tracks,d=r.masterPlaylistLoader;for(var h in l[e]){c[h]||(c[h]=[]);for(var y in l[e][h])if(!l[e][h][y].forced){var m=l[e][h][y],T=void 0;if(a==="hls")T=new zu(m.resolvedUri,n,o);else if(a==="dash"){var b=m.playlists.filter(function(A){return A.excludeUntil!==1/0});if(!b.length)return;T=new X2(m.playlists[0],n,o,d)}else a==="vhs-json"&&(T=new zu(m.playlists?m.playlists[0]:m.resolvedUri,n,o));if(m=G.mergeOptions({id:y,playlistLoader:T},m),IE[e](e,m.playlistLoader,r),c[h].push(m),typeof f[y]>"u"){var E=i.addRemoteTextTrack({id:y,kind:"subtitles",default:m.default&&m.autoselect,language:m.language,label:y},!1).track;f[y]=E}}}s.on("error",rg[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var i=r.tech,n=r.master.mediaGroups,a=r.mediaTypes[e],s=a.groups,o=a.tracks;for(var l in n[e]){s[l]||(s[l]=[]);for(var u in n[e][l]){var c=n[e][l][u];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var f=i.options_.vhs&&i.options_.vhs.captionServices||{},d={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(f[d.instreamId]&&(d=G.mergeOptions(d,f[d.instreamId])),d.default===void 0&&delete d.default,s[l].push(G.mergeOptions({id:u},c)),typeof o[u]>"u"){var h=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[u]=h}}}}}},qz=function t(e,r){for(var i=0;i<e.length;i++)if(k5(r,e[i])||e[i].playlists&&t(e[i].playlists,r))return!0;return!1},Wz=function(e,r){return function(i){var n=r.masterPlaylistLoader,a=r.mediaTypes[e].groups,s=n.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var l=Object.keys(a);if(!o)if(e==="AUDIO"&&l.length>1&&gh(r.master))for(var u=0;u<l.length;u++){var c=a[l[u]];if(qz(c,s)){o=c;break}}else a.main?o=a.main:l.length===1&&(o=a[l[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(function(f){return f.id===i.id})[0]||null}},$z={AUDIO:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}}},Qz=function(e,r){var i=r.mediaTypes;return function(){var n=i[e].activeTrack();return n?i[e].activeGroup(n):null}},Kz=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(y){Gz[y](y,e)});var r=e.mediaTypes,i=e.masterPlaylistLoader,n=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,l=s.main;["AUDIO","SUBTITLES"].forEach(function(y){r[y].activeGroup=Wz(y,e),r[y].activeTrack=$z[y](y,e),r[y].onGroupChanged=Hz(y,e),r[y].onGroupChanging=Vz(y,e),r[y].onTrackChanged=zz(y,e),r[y].getActiveGroup=Qz(y,e)});var u=r.AUDIO.activeGroup();if(u){var c=(u.filter(function(y){return y.default})[0]||u[0]).id;r.AUDIO.tracks[c].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var f=r.AUDIO.getActiveGroup();f.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanging()})});var d=function(){r.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",d),n.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),a.on("dispose",function(){n.audioTracks().removeEventListener("change",d),n.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var h in r.AUDIO.tracks)n.audioTracks().addTrack(r.AUDIO.tracks[h])},Xz=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ns,activeTrack:ns,getActiveGroup:ns,onGroupChanged:ns,onTrackChanged:ns,lastTrack_:null,logger_:ea("MediaGroups["+r+"]")}}),e},Yz=60*2,La,Jz=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Zz=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},eG=function(e){var r=e.currentPlaylist,i=e.buffered,n=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!a)return G.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(r&&r.id||"null")+" -> "+a.id;if(!r)return c(f+" as current playlist is not set"),!0;if(a.id===r.id)return!1;var d=!!Vu(i,n).length;if(!r.endList)return!d&&typeof r.partTargetDuration=="number"?(c("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(f+" as current playlist is live"),!0);var h=A5(i,n),y=u?Nr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Nr.MAX_BUFFER_LOW_WATER_LINE;if(l<y)return c(f+" as duration < max low water line ("+l+" < "+y+")"),!0;var m=a.attributes.BANDWIDTH,T=r.attributes.BANDWIDTH;if(m<T&&(!u||h<o)){var b=f+" as next bandwidth < current bandwidth ("+m+" < "+T+")";return u&&(b+=" and forwardBuffer < bufferHighWaterLine ("+h+" < "+o+")"),c(b),!0}if((!u||m>T)&&h>=s){var E=f+" as forwardBuffer >= bufferLowWaterLine ("+h+" >= "+s+")";return u&&(E+=" and next bandwidth > current bandwidth ("+m+" > "+T+")"),c(E),!0}return c("not "+f+" as no switching criteria met"),!1},tG=function(t){xe(e,t);function e(i){var n;n=t.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,l=i.tech,u=i.bandwidth,c=i.externVhs,f=i.useCueTags,d=i.blacklistDuration,h=i.enableLowInitialPlaylist,y=i.sourceType,m=i.cacheEncryptionKeys,T=i.experimentalBufferBasedABR,b=i.experimentalLeastPixelDiffSelector,E=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var A=i.maxPlaylistRetries;(A===null||typeof A>"u")&&(A=1/0),La=c,n.experimentalBufferBasedABR=!!T,n.experimentalLeastPixelDiffSelector=!!b,n.withCredentials=o,n.tech_=l,n.vhs_=l.vhs,n.sourceType_=y,n.useCueTags_=f,n.blacklistDuration=d,n.maxPlaylistRetries=A,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:A,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=Xz(),n.mediaSource=new B.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(Ye(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(Ye(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(Ye(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=G.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Fz(i),n.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Uz,n.sourceUpdater_=new rP(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Mz;var C={vhs:n.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:E,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:m,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};n.masterPlaylistLoader_=n.sourceType_==="dash"?new X2(a,n.vhs_,n.requestOptions_):new zu(a,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new J2(G.mergeOptions(C,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),i),n.audioSegmentLoader_=new J2(G.mergeOptions(C,{loaderType:"audio"}),i),n.subtitleSegmentLoader_=new Nz(G.mergeOptions(C,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(L,O){function W(){l.off("vttjserror",H),L()}function H(){l.off("vttjsloaded",W),O()}l.one("vttjsloaded",W),l.one("vttjserror",H),l.addWebVttScript_()})}}),i),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),Jz.forEach(function(R){n[R+"_"]=Zz.bind(Ye(n),R)}),n.logger_=ea("MPC"),n.triggeredFmp4Usage=!1,n.tech_.preload()==="none"?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var I=n.tech_.preload()==="none"?"play":"loadstart";return n.tech_.one(I,function(){var R=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-R,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return n===-1||a===-1?-1:n+a},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(n){n===void 0&&(n="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,n)},r.switchMedia_=function(n,a,s){var o=this.media(),l=o&&(o.id||o.uri),u=n.id||n.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(n,s)},r.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=B.setInterval(function(){return n.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(B.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var n=this.master(),a=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return a;var s=n.mediaGroups.AUDIO,o=Object.keys(s),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=s.main||o.length&&s[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return a;var f=[];for(var d in s)if(s[d][l.label]){var h=s[d][l.label];if(h.playlists&&h.playlists.length)f.push.apply(f,h.playlists);else if(h.uri)f.push(h);else if(n.playlists.length)for(var y=0;y<n.playlists.length;y++){var m=n.playlists[y];m.attributes&&m.attributes.AUDIO&&m.attributes.AUDIO===d&&f.push(m)}}return f.length?f:a},r.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;q2(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,a.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load()),Kz({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),a),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var a=n.masterPlaylistLoader_.media();if(!a){n.excludeUnsupportedVariants_();var s;if(n.enableLowInitialPlaylist&&(s=n.selectInitialPlaylist()),s||(s=n.selectPlaylist()),!s||!n.shouldSwitchToMedia_(s))return;n.initialMedia_=s,n.switchMedia_(n.initialMedia_,"initial");var o=n.sourceType_==="vhs-json"&&n.initialMedia_.segments;if(!o)return;a=n.initialMedia_}n.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;q2(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,n.masterPlaylistLoader_.load(),n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=n.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=n.stuckAtPlaylistEnd_(a);s&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(n,a){var s=n.mediaGroups||{},o=!0,l=Object.keys(s.AUDIO);for(var u in s.AUDIO)for(var c in s.AUDIO[u]){var f=s.AUDIO[u][c];f.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),La.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(n){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return eG({buffered:u,currentTime:s,currentPlaylist:a,nextPlaylist:n,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var n=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){n.checkABR_("bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){n.experimentalBufferBasedABR&&n.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Yz))});var a=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var o=n.getCodecsOrExclude_();o&&n.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(n){n===void 0&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},r.fastQualityChange_=function(n){var a=this;if(n===void 0&&(n=this.selectPlaylist()),n===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){G.browser.IE_VERSION||G.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},r.setupFirstPlay=function(){var n=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(G.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(s.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();typeof n<"u"&&typeof n.then=="function"&&n.then(null,function(a){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(!(!n||!n.length)){var a=this.duration();n[n.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?n=n&&this.audioSegmentLoader_.ended_:n=this.audioSegmentLoader_.ended_}n&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(n){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(n,this.duration());if(s===null)return!1;var o=La.Playlist.playlistEnd(n,s),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=_a;var c=u.end(u.length-1);return c-l<=_a&&o-c<=_a},r.blacklistCurrentPlaylist=function(n,a){n===void 0&&(n={});var s=n.playlist||this.masterPlaylistLoader_.media();if(a=a||n.blacklistDuration||this.blacklistDuration,!s){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(h1),u=l.length===1&&l[0]===s;if(o.length===1&&a!==1/0)return G.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(b){if(b!==s){var E=b.excludeUntil;typeof E<"u"&&E!==1/0&&(c=!0,delete b.excludeUntil)}}),c&&(G.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;s.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+a*1e3,s.excludeUntil=f,n.reason&&(s.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var d=this.selectPlaylist();if(!d){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var h=n.internal?this.logger_:G.log.warn,y=n.message?" "+n.message:"";h((n.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(y+" Switching to playlist "+d.id+".")),d.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),d.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var m=d.targetDuration/2*1e3||5*1e3,T=typeof d.lastRequest=="number"&&Date.now()-d.lastRequest<=m;return this.switchMedia_(d,"exclude",u||T)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(n,a){var s=this,o=[],l=n==="all";(l||n==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||n==="audio")&&u.push("AUDIO"),(l||n==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var f=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;f&&o.push(f)}),["main","audio","subtitle"].forEach(function(c){var f=s[c+"SegmentLoader_"];f&&(n===c||n==="all")&&o.push(f)}),o.forEach(function(c){return a.forEach(function(f){typeof c[f]=="function"&&c[f]()})})},r.setCurrentTime=function(n){var a=Vu(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return n;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:La.Playlist.duration(n):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var n;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,l=La.Playlist.seekable(a,s,La.Playlist.liveEdgeDelay(o,a));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(n=La.Playlist.seekable(a,s,La.Playlist.liveEdgeDelay(o,a)),n.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),n?n.start(0)>l.end(0)||l.start(0)>n.end(0)?this.seekable_=l:this.seekable_=G.createTimeRanges([[n.start(0)>l.start(0)?n.start(0):l.start(0),n.end(0)<l.end(0)?n.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+b9(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,n),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(n){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=La.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=n.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=n?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},r.getCodecsOrExclude_=function(){var n=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var o=Bf(this.master(),s),l={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(l.video=o.video||a.main.videoCodec||_B),a.main.isMuxed&&(l.video+=","+(o.audio||a.main.audioCodec||p_)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||u)&&(l.audio=o.audio||a.main.audioCodec||a.audio.audioCodec||p_,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!l.audio&&!l.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(b,E){return b?Mp(E):Pv(E)},f={},d;if(["video","audio"].forEach(function(T){if(l.hasOwnProperty(T)&&!c(a[T].isFmp4,l[T])){var b=a[T].isFmp4?"browser":"muxer";f[b]=f[b]||[],f[b].push(l[T]),T==="audio"&&(d=b)}}),u&&d&&s.attributes.AUDIO){var h=s.attributes.AUDIO;this.master().playlists.forEach(function(T){var b=T.attributes&&T.attributes.AUDIO;b===h&&T!==s&&(T.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+d+' does not support codec(s): "'+l.audio+'"')}if(Object.keys(f).length){var y=Object.keys(f).reduce(function(T,b){return T&&(T+=", "),T+=b+' does not support codec(s): "'+f[b].join(",")+'"',T},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:y,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var m=[];if(["video","audio"].forEach(function(T){var b=(la(n.sourceUpdater_.codecs[T]||"")[0]||{}).type,E=(la(l[T]||"")[0]||{}).type;b&&E&&b.toLowerCase()!==E.toLowerCase()&&m.push('"'+n.sourceUpdater_.codecs[T]+'" -> "'+l[T]+'"')}),m.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+m.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return l},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(n){this.sourceUpdater_.createSourceBuffers(n);var a=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},r.excludeUnsupportedVariants_=function(){var n=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var l=a[o];if(s.indexOf(l.id)===-1){s.push(l.id);var u=Bf(n.master,l),c=[];u.audio&&!Pv(u.audio)&&!Mp(u.audio)&&c.push("audio codec "+u.audio),u.video&&!Pv(u.video)&&!Mp(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,n.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},r.excludeIncompatibleVariants_=function(n){var a=this,s=[],o=this.master().playlists,l=Zm(la(n)),u=xE(l),c=l.video&&la(l.video)[0]||null,f=l.audio&&la(l.audio)[0]||null;Object.keys(o).forEach(function(d){var h=o[d];if(!(s.indexOf(h.id)!==-1||h.excludeUntil===1/0)){s.push(h.id);var y=[],m=Bf(a.masterPlaylistLoader_.master,h),T=xE(m);if(!(!m.audio&&!m.video)){if(T!==u&&y.push('codec count "'+T+'" !== "'+u+'"'),!a.sourceUpdater_.canChangeType()){var b=m.video&&la(m.video)[0]||null,E=m.audio&&la(m.audio)[0]||null;b&&c&&b.type.toLowerCase()!==c.type.toLowerCase()&&y.push('video codec "'+b.type+'" !== "'+c.type+'"'),E&&f&&E.type.toLowerCase()!==f.type.toLowerCase()&&y.push('audio codec "'+E.type+'" !== "'+f.type+'"')}y.length&&(h.excludeUntil=1/0,a.logger_("blacklisting "+h.id+": "+y.join(" && ")))}}})},r.updateAdCues_=function(n){var a=0,s=this.seekable();s.length&&(a=s.start(0)),Rz(n,this.cueTagsTrack_,a)},r.goalBufferLength=function(){var n=this.tech_.currentTime(),a=Nr.GOAL_BUFFER_LENGTH,s=Nr.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,Nr.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+n*s,o)},r.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),a=Nr.BUFFER_LOW_WATER_LINE,s=Nr.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,Nr.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(a,Nr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+n*s,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return Nr.BUFFER_HIGH_WATER_LINE},e}(G.EventTarget),rG=function(e,r,i){return function(n){var a=e.master.playlists[r],s=P5(a),o=h1(a);return typeof n>"u"?o:(n?delete a.disabled:a.disabled=!0,n!==o&&!s&&(i(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},nG=function(e,r,i){var n=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=n[s+"QualityChange_"].bind(n);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=Bf(n.master(),r),this.playlist=r,this.id=i,this.enabled=rG(e.playlists,r.id,o)},iG=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),i=gh(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(n){return!P5(n)}).map(function(n,a){return new nG(e,n,n.id)}):[]}},NE=["seeking","seeked","pause","playing","error"],aG=function(){function t(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ea("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(d){c[d]={reset:function(){return i.resetSegmentDownloads_(d)},updateend:function(){return i.checkSegmentDownloads_(d)}},l[d+"SegmentLoader_"].on("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].on("playlistupdate",c[d].reset),i.tech_.on(["seeked","seeking"],c[d].reset)});var f=function(h){["main","audio"].forEach(function(y){l[y+"SegmentLoader_"][h]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(NE,o),this.tech_.on("canplay",a),this.tech_.one("play",n),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(NE,o),i.tech_.off("canplay",a),i.tech_.off("play",n),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),u.forEach(function(d){l[d+"SegmentLoader_"].off("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].off("playlistupdate",c[d].reset),i.tech_.off(["seeked","seeking"],c[d].reset)}),i.checkCurrentTimeTimeout_&&B.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&B.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=B.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var n=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=n.buffered_()},e.checkSegmentDownloads_=function(i){var n=this.masterPlaylistController_,a=n[i+"SegmentLoader_"],s=a.buffered_(),o=XH(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:al(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&n.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===i&&(!n.length||i+_a>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var n=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(n,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var l=n.end(n.length-1);o=l}if(this.beforeSeekableWindow_(n,a)){var u=n.start(0);o=u+(u===n.end(0)?0:_a)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+b9(n)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),d=c.audioBuffer?c.audioBuffered():null,h=c.videoBuffer?c.videoBuffered():null,y=this.media(),m=y.partTargetDuration?y.partTargetDuration:(y.targetDuration-Po)*2,T=[d,h],b=0;b<T.length;b++)if(T[b]){var E=A5(T[b],a);if(E<m)return!1}var A=dp(f,a);return A.length===0?!1:(o=A.start(0)+_a,this.logger_("Buffered region starts ("+A.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),n=this.tech_.buffered(),a=Vu(n,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,n)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:n});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=dp(o,n);if(u.length>0){var c=u.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,n),!0}return!1},e.afterSeekableWindow_=function(i,n,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+_a,l=!a.endList;return l&&s&&(o=i.end(i.length-1)+a.targetDuration*3),n>o},e.beforeSeekableWindow_=function(i,n){return!!(i.length&&i.start(0)>0&&n<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var n=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(n){var o;if(n.length&&a.length){var l=Vu(n,s-3),u=Vu(n,s),c=Vu(a,s);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var f=dp(n,s);f.length||(o=this.gapFromVideoUnderflow_(n,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var n=this.tech_.buffered(),a=this.tech_.currentTime(),s=dp(n,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Po),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,n){for(var a=$H(i),s=0;s<a.length;s++){var o=a.start(s),l=a.end(s);if(n-o<4&&n-o>2)return{start:o,end:l}}return null},t}(),sG={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return e(i)}},oG=function t(e,r){var i=0,n=0,a=G.mergeOptions(sG,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){n&&e.currentTime(n)},o=function(d){d!=null&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(d),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){G.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},u=function f(){e.off("loadedmetadata",s),e.off("error",l),e.off("dispose",f)},c=function(d){u(),t(e,d)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},lG=function(e){oG(this,e)},nP="2.16.2",uG="6.0.1",cG="0.22.1",fG="4.8.0",dG="3.1.3",zr={PlaylistLoader:zu,Playlist:Fn,utils:TV,STANDARD_PLAYLIST_SELECTOR:wE,INITIAL_PLAYLIST_SELECTOR:cz,lastBandwidthSelector:wE,movingAverageBandwidthSelector:lz,comparePlaylistBandwidth:N5,comparePlaylistResolution:oz,xhr:R9()};Object.keys(Nr).forEach(function(t){Object.defineProperty(zr,t,{get:function(){return G.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Nr[t]},set:function(r){if(G.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){G.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Nr[t]=r}})});var iP="videojs-vhs",aP=function(e,r){for(var i=r.media(),n=-1,a=0;a<e.length;a++)if(e[a].id===i.id){n=a;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})},hG=function(e,r){r.representations().forEach(function(i){e.addQualityLevel(i)}),aP(e,r.playlists)};zr.canPlaySource=function(){return G.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var pG=function(e,r,i){if(!e)return e;var n={};r&&r.attributes&&r.attributes.CODECS&&(n=Zm(la(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var a=vd(n.video),s=vd(n.audio),o={};for(var l in e)o[l]={},s&&(o[l].audioContentType=s),a&&(o[l].videoContentType=a),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return G.mergeOptions(e,o)},mG=function(e,r){return e.reduce(function(i,n){if(!n.contentProtection)return i;var a=r.reduce(function(s,o){var l=n.contentProtection[o];return l&&l.pssh&&(s[o]={pssh:l.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},gG=function(e){var r=e.player,i=e.sourceKeySystems,n=e.audioMedia,a=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=n?a.concat([n]):a,o=mG(s,Object.keys(i)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(f,d){r.tech_.one("keysessioncreated",f)})),l.push(new Promise(function(f,d){r.eme.initializeMediaKeys({keySystems:c},function(h){if(h){d(h);return}f()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},vG=function(e){var r=e.player,i=e.sourceKeySystems,n=e.media,a=e.audioMedia,s=pG(i,n,a);return s?(r.currentSource().keySystems=s,s&&!r.eme?(G.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},sP=function(){if(!B.localStorage)return null;var e=B.localStorage.getItem(iP);if(!e)return null;try{return JSON.parse(e)}catch{return null}},yG=function(e){if(!B.localStorage)return!1;var r=sP();r=r?G.mergeOptions(r,e):e;try{B.localStorage.setItem(iP,JSON.stringify(r))}catch{return!1}return r},bG=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};zr.supportsNativeHls=function(){if(!ye||!ye.createElement)return!1;var t=ye.createElement("video");if(!G.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(t.canPlayType(r))})}();zr.supportsNativeDash=function(){return!ye||!ye.createElement||!G.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(ye.createElement("video").canPlayType("application/dash+xml"))}();zr.supportsTypeNatively=function(t){return t==="hls"?zr.supportsNativeHls:t==="dash"?zr.supportsNativeDash:!1};zr.isSupported=function(){return G.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var xG=G.getComponent("Component"),R5=function(t){xe(e,t);function e(i,n,a){var s;if(s=t.call(this,n,G.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&G.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=ea("VhsHandler"),n.options_&&n.options_.playerId){var o=G(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return G.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),Ye(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return G.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),Ye(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return G.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ye(s)},configurable:!0}),s.player_=o}if(s.tech_=n,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(ye,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=ye.fullscreenElement||ye.webkitFullscreenElement||ye.mozFullScreenElement||ye.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=e.prototype;return r.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=sP();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Nr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Nr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof n.source_[s]<"u"&&(n.options_[s]=n.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(n,a){var s=this;if(n){this.setOptions_(),this.options_.src=bG(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=zr,this.options_.sourceType=b4(a),this.options_.seekTo=function(u){s.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&G.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new tG(this.options_);var o=G.mergeOptions({liveRangeSafeTimeDelta:_a},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new aG(o),this.masterPlaylistController_.on("error",function(){var u=G.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?zr.movingAverageBandwidthSelector(.55):zr.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=zr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=B.navigator.connection||B.navigator.mozConnection||B.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&f){var h=f.downlink*1e3*1e3;h>=d&&c>=d?c=Math.max(c,h):c=h}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var d=Math.floor(1/(c+f));return d},set:function(){G.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return al(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return al(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&yG({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){iG(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=B.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var n=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),gG({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){n.logger_("error while creating EME key session",s),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var n=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=vG({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var l=n.masterPlaylistController_.master();if(!(!l||!l.playlists)){var u=[];if(l.playlists.forEach(function(f){f&&f.attributes&&f.attributes.RESOLUTION&&f.attributes.RESOLUTION.height>=720&&(!f.excludeUntil||f.excludeUntil<1/0)&&(f.excludeUntil=1/0,u.push(f))}),u.length){var c;(c=G.log).warn.apply(c,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(u)),n.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),G.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var n=this,a=G.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){hG(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){aP(n.qualityLevels_,n.playlists)}))},e.version=function(){return{"@videojs/http-streaming":nP,"mux.js":uG,"mpd-parser":cG,"m3u8-parser":fG,"aes-decrypter":dG}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return rP.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&B.URL.revokeObjectURL&&(B.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},r.convertToProgramTime=function(n,a){return PV({playlist:this.masterPlaylistController_.media(),time:n,callback:a})},r.seekToProgramTime=function(n,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),kV({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(xG),Ad={name:"videojs-http-streaming",VERSION:nP,canHandleSource:function(e,r){r===void 0&&(r={});var i=G.mergeOptions(G.options,r);return Ad.canPlayType(e.type,i)},handleSource:function(e,r,i){i===void 0&&(i={});var n=G.mergeOptions(G.options,i);return r.vhs=new R5(e,r,n),G.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return G.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=R9(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){var i=b4(e);if(!i)return"";var n=Ad.getOverrideNative(r),a=zr.supportsTypeNatively(i),s=!a||n;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var r=e,i=r.vhs,n=i===void 0?{}:i,a=r.hls,s=a===void 0?{}:a,o=!(G.browser.IS_ANY_SAFARI||G.browser.IS_IOS),l=n.overrideNative,u=l===void 0?o:l,c=s.overrideNative,f=c===void 0?!1:c;return f||u}},TG=function(){return Mp("avc1.4d400d,mp4a.40.2")};TG()&&G.getTech("Html5").registerSourceHandler(Ad,0);G.VhsHandler=R5;Object.defineProperty(G,"HlsHandler",{get:function(){return G.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),R5},configurable:!0});G.VhsSourceHandler=Ad;Object.defineProperty(G,"HlsSourceHandler",{get:function(){return G.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Ad},configurable:!0});G.Vhs=zr;Object.defineProperty(G,"Hls",{get:function(){return G.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),zr},configurable:!0});G.use||(G.registerComponent("Hls",zr),G.registerComponent("Vhs",zr));G.options.vhs=G.options.vhs||{};G.options.hls=G.options.hls||{};if(!G.getPlugin||!G.getPlugin("reloadSourceOnError")){var wG=G.registerPlugin||G.plugin;wG("reloadSourceOnError",lG)}(function(t,e,r){e.registerPlugin("pannellum",function(i){var n=this,a=n.el(),s=a.getElementsByTagName("video")[0],o=t.createElement("div");i=i||{},i.type="equirectangular",i.dynamic=!0,i.showZoomCtrl=!1,i.showFullscreenCtrl=!1,i.autoLoad=!0,i.panorama=s,o.style.visibility="hidden",n.pnlmViewer=r.viewer(o,i),a.insertBefore(o,a.firstChild),s.style.display="none",n.on("play",function(){s.readyState>1&&n.pnlmViewer.setUpdate(!0)}),n.on("canplay",function(){n.paused()||n.pnlmViewer.setUpdate(!0)}),n.on("pause",function(){n.pnlmViewer.setUpdate(!1)}),n.on("loadeddata",function(){o.style.visibility="visible"}),n.on("seeking",function(){n.paused()&&n.pnlmViewer.setUpdate(!0)}),n.on("seeked",function(){n.paused()&&n.pnlmViewer.setUpdate(!1)})})})(document,G,pannellum);var OE,RE;function _G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function SG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var AG=(RE=OE=function(t){SG(e,t);function e(r){_G(this,e);var i=EG(this,t.call(this,r));return i.renderVideo=function(n){var a=i.props.children,s=[].concat(a),o=[];if(Array.isArray(s)&&s.map(function(u){switch(u.props.type){case"info":return o.push({id:Math.random().toString(36).substr(2,9),type:u.props.type,pitch:u.props.pitch?u.props.pitch:10,yaw:u.props.yaw?u.props.yaw:10,text:u.props.text?u.props.text:"",URL:u.props.URL?u.props.URL:""});case"custom":return o.push({id:Math.random().toString(36).substr(2,9),pitch:u.props.pitch?u.props.pitch:10,yaw:u.props.yaw?u.props.yaw:10,cssClass:u.props.cssClass?u.props.cssClass:"tooltipcss",createTooltipFunc:u.props.tooltip?u.props.tooltip:i.hotspotTooltip,createTooltipArgs:u.props.tooltipArg?u.props.tooltipArg:{},clickHandlerFunc:u.props.handleClick?u.props.handleClick:i.handleClickHotspot,clickHandlerArgs:u.props.handleClickArg?u.props.handleClickArg:{name:"test"}});default:return[]}}),n==="update"){i.video=G(i.videoNode);var l=[].concat(i.video.pnlmViewer.getConfig().hotSpots);return i.video.pnlmViewer.setYaw(i.props.yaw),i.video.pnlmViewer.setPitch(i.props.pitch),i.video.pnlmViewer.setHfov(i.props.hfov),i.video.pnlmViewer.setHfovBounds([i.props.minHfov,i.props.maxHfov]),l.map(function(u){return i.video.pnlmViewer.removeHotSpot(u.id)}),o.map(function(u){return i.video.pnlmViewer.addHotSpot(u)}),i.video.src({type:"video/mp4",src:i.props.video}),i.video.play()}else i.video=G(i.videoNode,{loop:i.props.loop,autoplay:i.props.autoplay,controls:i.props.controls,muted:i.props.muted,plugins:{pannellum:{yaw:i.props.yaw,pitch:i.props.pitch,hfov:i.props.hfov,minHfov:i.props.minHfov,maxHfov:i.props.maxHfov,minPitch:i.props.minPitch,maxPitch:i.props.maxPitch,minYaw:i.props.minYaw,maxYaw:i.props.maxYaw,hotSpotDebug:i.props.hotspotDebug,autoRotate:i.props.autoRotate,mouseZoom:i.props.mouseZoom,hotSpots:o}}}),i.video.src({type:"video/mp4",src:i.props.video}),i.video.play()},i.componentDidMount=function(){i.renderVideo("mount")},i.handleClickHotspot=function(n,a){console.log("hotspot clicked",a.name)},i.hotspotTooltip=function(n,a){n.setAttribute("id","textInfo");var s=document.createElement("div");s.classList.add("hotspot");var o=document.createElement("div");o.classList.add("out");var l=document.createElement("div");l.classList.add("in");var u=document.createElement("div");u.classList.add("image"),n.appendChild(s),s.appendChild(l),s.appendChild(o)},i.getViewer=function(){return i.video.pnlmViewer},i.state={id:Math.random().toString(36).substr(2,9)},i}return e.prototype.componentDidUpdate=function(i){this.renderVideo("update")},e.prototype.componentWillUnmount=function(){G(this.videoNode).dispose()},e.prototype.render=function(){var i=this,n=this.props,a=n.width,s=n.height;n.video;var o={width:a,height:s};return it.createElement("div",{"data-vjs-player":!0},it.createElement("video",{id:this.props.id?this.props.id:this.state.id,className:"video-js vjs-default-skin vjs-big-play-centered",ref:function(u){return i.videoNode=u},preload:"none",crossOrigin:"anonymous",style:o}))},e}(Q.Component),OE.defaultProps={children:[],width:"100%",height:"400px",video:"",yaw:0,pitch:0,hfov:100,minHfov:50,maxHfov:150,minPitch:-90,maxPitch:90,minYaw:-180,maxYaw:180,hotspotDebug:!1,autoRotate:0,mouseZoom:!0,loop:!1,autoplay:!0,controls:!1,muted:!0},RE);AG.propTypes={};const CG="hh-sol-artifact-1",PG="PropertyListing",kG="contracts/PropertyListing.sol",DG=[{inputs:[{internalType:"address",name:"_registrationContract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint16",name:"propertyId",type:"uint16"},{indexed:!1,internalType:"string",name:"propertyAddress",type:"string"},{indexed:!1,internalType:"string",name:"cityArea",type:"string"},{indexed:!1,internalType:"uint8",name:"floor",type:"uint8"},{indexed:!1,internalType:"address",name:"ownerWallet",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"address",name:"stateAgent",type:"address"},{indexed:!1,internalType:"string[]",name:"imageLinks",type:"string[]"},{indexed:!1,internalType:"string",name:"propertyType",type:"string"},{indexed:!1,internalType:"uint32",name:"listingDate",type:"uint32"}],name:"PropertyListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint16",name:"propertyId",type:"uint16"},{indexed:!1,internalType:"enum PropertyListing.PropertyStatus",name:"newStatus",type:"uint8"}],name:"PropertyStatusChanged",type:"event"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"}],name:"approveDelisting",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"}],name:"approveStatusToListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"}],name:"delistProperty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllProperties",outputs:[{components:[{internalType:"uint16",name:"propertyId",type:"uint16"},{internalType:"string",name:"propertyAddress",type:"string"},{internalType:"string",name:"cityArea",type:"string"},{internalType:"uint8",name:"floor",type:"uint8"},{internalType:"address",name:"ownerWallet",type:"address"},{internalType:"address",name:"stateAgent",type:"address"},{internalType:"enum PropertyListing.PropertyStatus",name:"status",type:"uint8"},{internalType:"bool",name:"delistApproved",type:"bool"},{internalType:"string[]",name:"imageLinks",type:"string[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"propertyType",type:"string"},{internalType:"uint32",name:"listingDate",type:"uint32"}],internalType:"struct PropertyListing.Property[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"}],name:"getPropertyDetails",outputs:[{internalType:"string",name:"propertyAddress",type:"string"},{internalType:"string",name:"cityArea",type:"string"},{internalType:"uint8",name:"floor",type:"uint8"},{internalType:"address",name:"ownerWallet",type:"address"},{internalType:"address",name:"stateAgent",type:"address"},{internalType:"enum PropertyListing.PropertyStatus",name:"status",type:"uint8"},{internalType:"bool",name:"delistApproved",type:"bool"},{internalType:"string[]",name:"imageLinks",type:"string[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"propertyType",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"}],name:"getStateAgentForProperty",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_propertyAddress",type:"string"},{internalType:"string",name:"_cityArea",type:"string"},{internalType:"uint8",name:"_floor",type:"uint8"},{internalType:"address",name:"_ownerWallet",type:"address"},{internalType:"string",name:"_description",type:"string"},{internalType:"string[]",name:"_imageLinks",type:"string[]"},{internalType:"string",name:"_propertyType",type:"string"}],name:"listProperty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_propertyId",type:"uint16"},{internalType:"address",name:"_stateAgent",type:"address"}],name:"markPropertyAsRented",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"properties",outputs:[{internalType:"uint16",name:"propertyId",type:"uint16"},{internalType:"string",name:"propertyAddress",type:"string"},{internalType:"string",name:"cityArea",type:"string"},{internalType:"uint8",name:"floor",type:"uint8"},{internalType:"address",name:"ownerWallet",type:"address"},{internalType:"address",name:"stateAgent",type:"address"},{internalType:"enum PropertyListing.PropertyStatus",name:"status",type:"uint8"},{internalType:"bool",name:"delistApproved",type:"bool"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"propertyType",type:"string"},{internalType:"uint32",name:"listingDate",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"propertyCount",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"registrationContract",outputs:[{internalType:"contract RegistrationContract",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"uniquePropertyAddresses",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IG="0x60806040523480156200001157600080fd5b506040516200242638038062002426833981810160405281019062000037919062000095565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506200010f565b6000815190506200008f81620000f5565b92915050565b600060208284031215620000a857600080fd5b6000620000b8848285016200007e565b91505092915050565b6000620000ce82620000d5565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6200010081620000c1565b81146200010c57600080fd5b50565b612307806200011f6000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80638ec71aea116100665780638ec71aea14610145578063a9600b4c14610175578063ac64ae8e14610191578063c361a335146101ad578063f7b10808146101cb5761009e565b8063026e03ec146100a35780630f071d39146100d35780631cc2ea7a146100ef5780631e522c3e1461010b57806378f7ed7414610129575b600080fd5b6100bd60048036038101906100b891906115b7565b610202565b6040516100ca9190611ce3565b60405180910390f35b6100ed60048036038101906100e89190611762565b610238565b005b61010960048036038101906101049190611762565b6103ae565b005b61011361062d565b6040516101209190611cfe565b60405180910390f35b610143600480360381019061013e91906116a3565b610651565b005b61015f600480360381019061015a9190611762565b610c62565b60405161016c9190611cc8565b60405180910390f35b61018f600480360381019061018a9190611762565b610ca2565b005b6101ab60048036038101906101a69190611762565b610eeb565b005b6101b56111a3565b6040516101c29190611f9d565b60405180910390f35b6101e560048036038101906101e09190611762565b6111a9565b6040516101f9989796959493929190611daa565b60405180910390f35b6001818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900460ff1681565b60016003811115610272577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156102ce577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461030e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030590611efd565b60405180910390fd5b600280600083815260200190815260200160002060040160146101000a81548160ff0219169083600381111561036d577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360026040516103a39190611d19565b60405180910390a250565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610452576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161044990611e5d565b60405180910390fd5b6002600381111561048c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156104e8577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1415610529576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161052090611edd565b60405180910390fd5b6002600082815260200190815260200160002060040160159054906101000a900460ff1661058c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161058390611f3d565b60405180910390fd5b60036002600083815260200190815260200160002060040160146101000a81548160ff021916908360038111156105ec577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360036040516106229190611d19565b60405180910390a250565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a87430ba336040518263ffffffff1660e01b81526004016106ad9190611cc8565b60006040518083038186803b1580156106c557600080fd5b505afa1580156106d9573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061070291906115f8565b509250505060006002811115610741577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81600281111561077a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b146107ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b190611ebd565b60405180910390fd5b6001866040516107ca9190611cb1565b908152602001604051809103902060009054906101000a900460ff1615610826576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161081d90611f5d565b60405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a87430ba846040518263ffffffff1660e01b81526004016108829190611cc8565b60006040518083038186803b15801561089a57600080fd5b505afa1580156108ae573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906108d791906115f8565b5092505050600280811115610915577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81600281111561094e577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461098e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098590611e9d565b60405180910390fd5b6000600360008154809291906109a390612152565b9190505590506040518061010001604052808981526020018881526020018781526020018660ff1681526020018573ffffffffffffffffffffffffffffffffffffffff1681526020013373ffffffffffffffffffffffffffffffffffffffff16815260200160006003811115610a42577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b815260200160001515815250600260008381526020019081526020016000206000820151816000019080519060200190610a7d9291906113f0565b506020820151816001019080519060200190610a9a9291906113f0565b506040820151816002019080519060200190610ab79291906113f0565b5060608201518160030160006101000a81548160ff021916908360ff16021790555060808201518160030160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a08201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060c08201518160040160146101000a81548160ff02191690836003811115610bb8577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b021790555060e08201518160040160156101000a81548160ff02191690831515021790555090505060018089604051610bf19190611cb1565b908152602001604051809103902060006101000a81548160ff021916908315150217905550807f677cf40c7634568d88e379fdaeabd842523fe77b586721bc97afc9cc37ba3e5e898989898933604051610c5096959493929190611d34565b60405180910390a25050505050505050565b60006002600083815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610d46576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3d90611f1d565b60405180910390fd5b60006003811115610d80577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115610ddc577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1480610e7a5750600380811115610e1c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115610e78577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b145b610eb9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610eb090611e3d565b60405180910390fd5b60016002600083815260200190815260200160002060040160156101000a81548160ff02191690831515021790555050565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610f8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f8690611e7d565b60405180910390fd5b60006003811115610fc9577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115611025577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b14806110c35750600380811115611065577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156110c1577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b145b611102576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110f990611f7d565b60405180910390fd5b60016002600083815260200190815260200160002060040160146101000a81548160ff02191690836003811115611162577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360016040516111989190611d19565b60405180910390a250565b60035481565b60026020528060005260406000206000915090508060000180546111cc90612120565b80601f01602080910402602001604051908101604052809291908181526020018280546111f890612120565b80156112455780601f1061121a57610100808354040283529160200191611245565b820191906000526020600020905b81548152906001019060200180831161122857829003601f168201915b50505050509080600101805461125a90612120565b80601f016020809104026020016040519081016040528092919081815260200182805461128690612120565b80156112d35780601f106112a8576101008083540402835291602001916112d3565b820191906000526020600020905b8154815290600101906020018083116112b657829003601f168201915b5050505050908060020180546112e890612120565b80601f016020809104026020016040519081016040528092919081815260200182805461131490612120565b80156113615780601f1061133657610100808354040283529160200191611361565b820191906000526020600020905b81548152906001019060200180831161134457829003601f168201915b5050505050908060030160009054906101000a900460ff16908060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160149054906101000a900460ff16908060040160159054906101000a900460ff16905088565b8280546113fc90612120565b90600052602060002090601f01602090048101928261141e5760008555611465565b82601f1061143757805160ff1916838001178555611465565b82800160010185558215611465579182015b82811115611464578251825591602001919060010190611449565b5b5090506114729190611476565b5090565b5b8082111561148f576000816000905550600101611477565b5090565b60006114a66114a184611fe9565b611fb8565b9050828152602081018484840111156114be57600080fd5b6114c98482856120de565b509392505050565b60006114e46114df84611fe9565b611fb8565b9050828152602081018484840111156114fc57600080fd5b6115078482856120ed565b509392505050565b60008135905061151e8161227c565b92915050565b60008151905061153381612293565b92915050565b600082601f83011261154a57600080fd5b813561155a848260208601611493565b91505092915050565b600082601f83011261157457600080fd5b81516115848482602086016114d1565b91505092915050565b60008135905061159c816122a3565b92915050565b6000813590506115b1816122ba565b92915050565b6000602082840312156115c957600080fd5b600082013567ffffffffffffffff8111156115e357600080fd5b6115ef84828501611539565b91505092915050565b6000806000806080858703121561160e57600080fd5b600085015167ffffffffffffffff81111561162857600080fd5b61163487828801611563565b945050602085015167ffffffffffffffff81111561165157600080fd5b61165d87828801611563565b935050604061166e87828801611524565b925050606085015167ffffffffffffffff81111561168b57600080fd5b61169787828801611563565b91505092959194509250565b600080600080600060a086880312156116bb57600080fd5b600086013567ffffffffffffffff8111156116d557600080fd5b6116e188828901611539565b955050602086013567ffffffffffffffff8111156116fe57600080fd5b61170a88828901611539565b945050604086013567ffffffffffffffff81111561172757600080fd5b61173388828901611539565b9350506060611744888289016115a2565b92505060806117558882890161150f565b9150509295509295909350565b60006020828403121561177457600080fd5b60006117828482850161158d565b91505092915050565b61179481612040565b82525050565b6117a381612052565b82525050565b6117b2816120a8565b82525050565b6117c1816120cc565b82525050565b60006117d282612019565b6117dc8185612024565b93506117ec8185602086016120ed565b6117f581612257565b840191505092915050565b600061180b82612019565b6118158185612035565b93506118258185602086016120ed565b80840191505092915050565b600061183e604b83612024565b91507f50726f7065727479206d75737420626520696e2050656e64696e67206f72204460008301527f656c69737465642073746174757320746f20626520617070726f76656420666f60208301527f722064656c697374696e670000000000000000000000000000000000000000006040830152606082019050919050565b60006118ca602b83612024565b91507f4f6e6c79207468652053746174654167656e742063616e2064656c697374207460008301527f68652070726f70657274790000000000000000000000000000000000000000006020830152604082019050919050565b6000611930603883612024565b91507f4f6e6c79207468652070726f7065727479206f776e65722063616e206170707260008301527f6f7665207468652070726f7065727479206c697374696e6700000000000000006020830152604082019050919050565b6000611996602383612024565b91507f4f776e6572206d75737420626520612072656769737465726564204c616e646c60008301527f6f726400000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006119fc602383612024565b91507f4f6e6c792053746174654167656e742063616e206c6973742070726f7065727460008301527f69657300000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611a62601f83612024565b91507f43616e6e6f742064656c69737420612072656e7465642070726f7065727479006000830152602082019050919050565b6000611aa2603083612024565b91507f50726f7065727479206d757374206265206c6973746564206265666f7265206d60008301527f61726b696e672061732072656e746564000000000000000000000000000000006020830152604082019050919050565b6000611b08602d83612024565b91507f4f6e6c79207468652070726f7065727479206f776e65722063616e206170707260008301527f6f76652064656c697374696e67000000000000000000000000000000000000006020830152604082019050919050565b6000611b6e602783612024565b91507f44656c697374696e67206d75737420626520617070726f76656420627920746860008301527f65206f776e6572000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611bd4602c83612024565b91507f50726f706572747920776974682074686973206164647265737320697320616c60008301527f7265616479206c697374656400000000000000000000000000000000000000006020830152604082019050919050565b6000611c3a603d83612024565b91507f50726f7065727479206d75737420626520696e2050656e64696e67206f72204460008301527f656c69737465642073746174757320746f20626520617070726f7665640000006020830152604082019050919050565b611c9c81612091565b82525050565b611cab8161209b565b82525050565b6000611cbd8284611800565b915081905092915050565b6000602082019050611cdd600083018461178b565b92915050565b6000602082019050611cf8600083018461179a565b92915050565b6000602082019050611d1360008301846117a9565b92915050565b6000602082019050611d2e60008301846117b8565b92915050565b600060c0820190508181036000830152611d4e81896117c7565b90508181036020830152611d6281886117c7565b90508181036040830152611d7681876117c7565b9050611d856060830186611ca2565b611d92608083018561178b565b611d9f60a083018461178b565b979650505050505050565b6000610100820190508181036000830152611dc5818b6117c7565b90508181036020830152611dd9818a6117c7565b90508181036040830152611ded81896117c7565b9050611dfc6060830188611ca2565b611e09608083018761178b565b611e1660a083018661178b565b611e2360c08301856117b8565b611e3060e083018461179a565b9998505050505050505050565b60006020820190508181036000830152611e5681611831565b9050919050565b60006020820190508181036000830152611e76816118bd565b9050919050565b60006020820190508181036000830152611e9681611923565b9050919050565b60006020820190508181036000830152611eb681611989565b9050919050565b60006020820190508181036000830152611ed6816119ef565b9050919050565b60006020820190508181036000830152611ef681611a55565b9050919050565b60006020820190508181036000830152611f1681611a95565b9050919050565b60006020820190508181036000830152611f3681611afb565b9050919050565b60006020820190508181036000830152611f5681611b61565b9050919050565b60006020820190508181036000830152611f7681611bc7565b9050919050565b60006020820190508181036000830152611f9681611c2d565b9050919050565b6000602082019050611fb26000830184611c93565b92915050565b6000604051905081810181811067ffffffffffffffff82111715611fdf57611fde612228565b5b8060405250919050565b600067ffffffffffffffff82111561200457612003612228565b5b601f19601f8301169050602081019050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600061204b82612071565b9050919050565b60008115159050919050565b600081905061206c82612268565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b60006120b3826120ba565b9050919050565b60006120c582612071565b9050919050565b60006120d78261205e565b9050919050565b82818337600083830152505050565b60005b8381101561210b5780820151818401526020810190506120f0565b8381111561211a576000848401525b50505050565b6000600282049050600182168061213857607f821691505b6020821081141561214c5761214b6121f9565b5b50919050565b600061215d82612091565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156121905761218f61219b565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b60048110612279576122786121ca565b5b50565b61228581612040565b811461229057600080fd5b50565b600381106122a057600080fd5b50565b6122ac81612091565b81146122b757600080fd5b50565b6122c38161209b565b81146122ce57600080fd5b5056fea2646970667358221220dd393912b313d127c7c5178b07c87006f12c698fe09c46c3c1f24012cb7d806364736f6c63430008000033",NG="0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80638ec71aea116100665780638ec71aea14610145578063a9600b4c14610175578063ac64ae8e14610191578063c361a335146101ad578063f7b10808146101cb5761009e565b8063026e03ec146100a35780630f071d39146100d35780631cc2ea7a146100ef5780631e522c3e1461010b57806378f7ed7414610129575b600080fd5b6100bd60048036038101906100b891906115b7565b610202565b6040516100ca9190611ce3565b60405180910390f35b6100ed60048036038101906100e89190611762565b610238565b005b61010960048036038101906101049190611762565b6103ae565b005b61011361062d565b6040516101209190611cfe565b60405180910390f35b610143600480360381019061013e91906116a3565b610651565b005b61015f600480360381019061015a9190611762565b610c62565b60405161016c9190611cc8565b60405180910390f35b61018f600480360381019061018a9190611762565b610ca2565b005b6101ab60048036038101906101a69190611762565b610eeb565b005b6101b56111a3565b6040516101c29190611f9d565b60405180910390f35b6101e560048036038101906101e09190611762565b6111a9565b6040516101f9989796959493929190611daa565b60405180910390f35b6001818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900460ff1681565b60016003811115610272577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156102ce577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461030e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030590611efd565b60405180910390fd5b600280600083815260200190815260200160002060040160146101000a81548160ff0219169083600381111561036d577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360026040516103a39190611d19565b60405180910390a250565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610452576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161044990611e5d565b60405180910390fd5b6002600381111561048c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156104e8577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1415610529576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161052090611edd565b60405180910390fd5b6002600082815260200190815260200160002060040160159054906101000a900460ff1661058c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161058390611f3d565b60405180910390fd5b60036002600083815260200190815260200160002060040160146101000a81548160ff021916908360038111156105ec577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360036040516106229190611d19565b60405180910390a250565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a87430ba336040518263ffffffff1660e01b81526004016106ad9190611cc8565b60006040518083038186803b1580156106c557600080fd5b505afa1580156106d9573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061070291906115f8565b509250505060006002811115610741577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81600281111561077a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b146107ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b190611ebd565b60405180910390fd5b6001866040516107ca9190611cb1565b908152602001604051809103902060009054906101000a900460ff1615610826576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161081d90611f5d565b60405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a87430ba846040518263ffffffff1660e01b81526004016108829190611cc8565b60006040518083038186803b15801561089a57600080fd5b505afa1580156108ae573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906108d791906115f8565b5092505050600280811115610915577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81600281111561094e577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1461098e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098590611e9d565b60405180910390fd5b6000600360008154809291906109a390612152565b9190505590506040518061010001604052808981526020018881526020018781526020018660ff1681526020018573ffffffffffffffffffffffffffffffffffffffff1681526020013373ffffffffffffffffffffffffffffffffffffffff16815260200160006003811115610a42577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b815260200160001515815250600260008381526020019081526020016000206000820151816000019080519060200190610a7d9291906113f0565b506020820151816001019080519060200190610a9a9291906113f0565b506040820151816002019080519060200190610ab79291906113f0565b5060608201518160030160006101000a81548160ff021916908360ff16021790555060808201518160030160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a08201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060c08201518160040160146101000a81548160ff02191690836003811115610bb8577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b021790555060e08201518160040160156101000a81548160ff02191690831515021790555090505060018089604051610bf19190611cb1565b908152602001604051809103902060006101000a81548160ff021916908315150217905550807f677cf40c7634568d88e379fdaeabd842523fe77b586721bc97afc9cc37ba3e5e898989898933604051610c5096959493929190611d34565b60405180910390a25050505050505050565b60006002600083815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610d46576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3d90611f1d565b60405180910390fd5b60006003811115610d80577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115610ddc577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1480610e7a5750600380811115610e1c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115610e78577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b145b610eb9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610eb090611e3d565b60405180910390fd5b60016002600083815260200190815260200160002060040160156101000a81548160ff02191690831515021790555050565b3373ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610f8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f8690611e7d565b60405180910390fd5b60006003811115610fc9577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff166003811115611025577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b14806110c35750600380811115611065577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6002600083815260200190815260200160002060040160149054906101000a900460ff1660038111156110c1577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b145b611102576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110f990611f7d565b60405180910390fd5b60016002600083815260200190815260200160002060040160146101000a81548160ff02191690836003811115611162577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550807fc9ad6f316a0c29919c9b20c406f1baca1b93c196df6515c9e236a803e8a50c1360016040516111989190611d19565b60405180910390a250565b60035481565b60026020528060005260406000206000915090508060000180546111cc90612120565b80601f01602080910402602001604051908101604052809291908181526020018280546111f890612120565b80156112455780601f1061121a57610100808354040283529160200191611245565b820191906000526020600020905b81548152906001019060200180831161122857829003601f168201915b50505050509080600101805461125a90612120565b80601f016020809104026020016040519081016040528092919081815260200182805461128690612120565b80156112d35780601f106112a8576101008083540402835291602001916112d3565b820191906000526020600020905b8154815290600101906020018083116112b657829003601f168201915b5050505050908060020180546112e890612120565b80601f016020809104026020016040519081016040528092919081815260200182805461131490612120565b80156113615780601f1061133657610100808354040283529160200191611361565b820191906000526020600020905b81548152906001019060200180831161134457829003601f168201915b5050505050908060030160009054906101000a900460ff16908060030160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160149054906101000a900460ff16908060040160159054906101000a900460ff16905088565b8280546113fc90612120565b90600052602060002090601f01602090048101928261141e5760008555611465565b82601f1061143757805160ff1916838001178555611465565b82800160010185558215611465579182015b82811115611464578251825591602001919060010190611449565b5b5090506114729190611476565b5090565b5b8082111561148f576000816000905550600101611477565b5090565b60006114a66114a184611fe9565b611fb8565b9050828152602081018484840111156114be57600080fd5b6114c98482856120de565b509392505050565b60006114e46114df84611fe9565b611fb8565b9050828152602081018484840111156114fc57600080fd5b6115078482856120ed565b509392505050565b60008135905061151e8161227c565b92915050565b60008151905061153381612293565b92915050565b600082601f83011261154a57600080fd5b813561155a848260208601611493565b91505092915050565b600082601f83011261157457600080fd5b81516115848482602086016114d1565b91505092915050565b60008135905061159c816122a3565b92915050565b6000813590506115b1816122ba565b92915050565b6000602082840312156115c957600080fd5b600082013567ffffffffffffffff8111156115e357600080fd5b6115ef84828501611539565b91505092915050565b6000806000806080858703121561160e57600080fd5b600085015167ffffffffffffffff81111561162857600080fd5b61163487828801611563565b945050602085015167ffffffffffffffff81111561165157600080fd5b61165d87828801611563565b935050604061166e87828801611524565b925050606085015167ffffffffffffffff81111561168b57600080fd5b61169787828801611563565b91505092959194509250565b600080600080600060a086880312156116bb57600080fd5b600086013567ffffffffffffffff8111156116d557600080fd5b6116e188828901611539565b955050602086013567ffffffffffffffff8111156116fe57600080fd5b61170a88828901611539565b945050604086013567ffffffffffffffff81111561172757600080fd5b61173388828901611539565b9350506060611744888289016115a2565b92505060806117558882890161150f565b9150509295509295909350565b60006020828403121561177457600080fd5b60006117828482850161158d565b91505092915050565b61179481612040565b82525050565b6117a381612052565b82525050565b6117b2816120a8565b82525050565b6117c1816120cc565b82525050565b60006117d282612019565b6117dc8185612024565b93506117ec8185602086016120ed565b6117f581612257565b840191505092915050565b600061180b82612019565b6118158185612035565b93506118258185602086016120ed565b80840191505092915050565b600061183e604b83612024565b91507f50726f7065727479206d75737420626520696e2050656e64696e67206f72204460008301527f656c69737465642073746174757320746f20626520617070726f76656420666f60208301527f722064656c697374696e670000000000000000000000000000000000000000006040830152606082019050919050565b60006118ca602b83612024565b91507f4f6e6c79207468652053746174654167656e742063616e2064656c697374207460008301527f68652070726f70657274790000000000000000000000000000000000000000006020830152604082019050919050565b6000611930603883612024565b91507f4f6e6c79207468652070726f7065727479206f776e65722063616e206170707260008301527f6f7665207468652070726f7065727479206c697374696e6700000000000000006020830152604082019050919050565b6000611996602383612024565b91507f4f776e6572206d75737420626520612072656769737465726564204c616e646c60008301527f6f726400000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006119fc602383612024565b91507f4f6e6c792053746174654167656e742063616e206c6973742070726f7065727460008301527f69657300000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611a62601f83612024565b91507f43616e6e6f742064656c69737420612072656e7465642070726f7065727479006000830152602082019050919050565b6000611aa2603083612024565b91507f50726f7065727479206d757374206265206c6973746564206265666f7265206d60008301527f61726b696e672061732072656e746564000000000000000000000000000000006020830152604082019050919050565b6000611b08602d83612024565b91507f4f6e6c79207468652070726f7065727479206f776e65722063616e206170707260008301527f6f76652064656c697374696e67000000000000000000000000000000000000006020830152604082019050919050565b6000611b6e602783612024565b91507f44656c697374696e67206d75737420626520617070726f76656420627920746860008301527f65206f776e6572000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611bd4602c83612024565b91507f50726f706572747920776974682074686973206164647265737320697320616c60008301527f7265616479206c697374656400000000000000000000000000000000000000006020830152604082019050919050565b6000611c3a603d83612024565b91507f50726f7065727479206d75737420626520696e2050656e64696e67206f72204460008301527f656c69737465642073746174757320746f20626520617070726f7665640000006020830152604082019050919050565b611c9c81612091565b82525050565b611cab8161209b565b82525050565b6000611cbd8284611800565b915081905092915050565b6000602082019050611cdd600083018461178b565b92915050565b6000602082019050611cf8600083018461179a565b92915050565b6000602082019050611d1360008301846117a9565b92915050565b6000602082019050611d2e60008301846117b8565b92915050565b600060c0820190508181036000830152611d4e81896117c7565b90508181036020830152611d6281886117c7565b90508181036040830152611d7681876117c7565b9050611d856060830186611ca2565b611d92608083018561178b565b611d9f60a083018461178b565b979650505050505050565b6000610100820190508181036000830152611dc5818b6117c7565b90508181036020830152611dd9818a6117c7565b90508181036040830152611ded81896117c7565b9050611dfc6060830188611ca2565b611e09608083018761178b565b611e1660a083018661178b565b611e2360c08301856117b8565b611e3060e083018461179a565b9998505050505050505050565b60006020820190508181036000830152611e5681611831565b9050919050565b60006020820190508181036000830152611e76816118bd565b9050919050565b60006020820190508181036000830152611e9681611923565b9050919050565b60006020820190508181036000830152611eb681611989565b9050919050565b60006020820190508181036000830152611ed6816119ef565b9050919050565b60006020820190508181036000830152611ef681611a55565b9050919050565b60006020820190508181036000830152611f1681611a95565b9050919050565b60006020820190508181036000830152611f3681611afb565b9050919050565b60006020820190508181036000830152611f5681611b61565b9050919050565b60006020820190508181036000830152611f7681611bc7565b9050919050565b60006020820190508181036000830152611f9681611c2d565b9050919050565b6000602082019050611fb26000830184611c93565b92915050565b6000604051905081810181811067ffffffffffffffff82111715611fdf57611fde612228565b5b8060405250919050565b600067ffffffffffffffff82111561200457612003612228565b5b601f19601f8301169050602081019050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600061204b82612071565b9050919050565b60008115159050919050565b600081905061206c82612268565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b60006120b3826120ba565b9050919050565b60006120c582612071565b9050919050565b60006120d78261205e565b9050919050565b82818337600083830152505050565b60005b8381101561210b5780820151818401526020810190506120f0565b8381111561211a576000848401525b50505050565b6000600282049050600182168061213857607f821691505b6020821081141561214c5761214b6121f9565b5b50919050565b600061215d82612091565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156121905761218f61219b565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b60048110612279576122786121ca565b5b50565b61228581612040565b811461229057600080fd5b50565b600381106122a057600080fd5b50565b6122ac81612091565b81146122b757600080fd5b50565b6122c38161209b565b81146122ce57600080fd5b5056fea2646970667358221220dd393912b313d127c7c5178b07c87006f12c698fe09c46c3c1f24012cb7d806364736f6c63430008000033",OG={},RG={},Uf={_format:CG,contractName:PG,sourceName:kG,abi:DG,bytecode:IG,deployedBytecode:NG,linkReferences:OG,deployedLinkReferences:RG};function LG(){const t="0x10f0490Ec05887AfFab6f60839f47315C69F71f9",{propertyId:e,listingDate:r}=n6(),[i,n]=Q.useState(null),a=localStorage.getItem("Isstateagent")==="true",s=localStorage.getItem("Islandlord")==="true",[o,l]=Q.useState(0),u=()=>{l(y=>(y+1)%i.imageLinks.length)},c=async y=>{try{const T=await new ethers.BrowserProvider(window.ethereum).getSigner(),A=await(await new ethers.Contract(t,Uf.abi,T).approveStatusToListing(y)).wait();console.log(" Delisted Successfully",A),toast.success(" Delisted Successfully")}catch(m){console.error("Error delisting property:",m),toast.error("Error delisting property.",{position:toast.POSITION.TOP_CENTER,autoClose:1e4})}},f=async y=>{try{const T=await new ethers.BrowserProvider(window.ethereum).getSigner(),A=await(await new ethers.Contract(t,Uf.abi,T).delistProperty(y)).wait();console.log(" Delisted Successfully",A),toast.success(" Delisted Successfully")}catch(m){console.error("Error delisting property:",m),toast.error("Error delisting property.",{position:toast.POSITION.TOP_CENTER,autoClose:1e4})}},d=async y=>{try{const T=await new ethers.BrowserProvider(window.ethereum).getSigner(),A=await(await new ethers.Contract(t,Uf.abi,T).approveDelisting(y)).wait();console.log(" Delisted Successfully",A),toast.success(" Delisted Successfully")}catch(m){console.error("Error delisting property:",m),toast.error("Error delisting property.",{position:toast.POSITION.TOP_CENTER,autoClose:1e4})}},h=async()=>{try{const m=await(await fetch(`http://localhost:8000/property/getProperty/${e}`)).json();n(m)}catch(y){console.log(y)}};return Q.useEffect(()=>{h()},[e]),!i||!Object.keys(i).length?w.jsx("div",{className:"flex w-full py-10 justify-center text-slate-500",children:w.jsx("img",{alt:"loader",src:eh})}):w.jsxs("div",{className:"flex flex-col max-w-screen-sm md:max-w-none lg:max-w-none items-center justify-center mx-3 relative",children:[w.jsxs(cM,{children:[w.jsxs("div",{className:"flex w-full items-center justify-start flex-col md:flex-row relative",children:[w.jsx("div",{className:"flex w-full items-center justify-center md:items-start md:justify-start px-5 md:w-auto ",children:w.jsx("img",{alt:"property",src:i==null?void 0:i.thumbnail,className:"aspect-video  mb-2 w-full  md:h-44 max  object-cover rounded-lg"})}),w.jsxs("div",{className:"flex flex-col w-full md:w-auto justify-start items-start  md:ml-0",children:[w.jsxs(pr,{className:"text-accent px-6 my-2 text-base font-medium underline truncate",children:["Posted by"," ",i==null?void 0:i.stateAgent]}),w.jsxs("p",{className:"text-sm px-6 text-slate-600",children:["Posted on"," ",r]}),w.jsxs("div",{className:"flex px-6 flex-col my-5 gap-2",children:[w.jsxs("p",{className:"text-base flex items-center gap-2 text-slate-800",children:[w.jsx(t_,{className:"text-accent"})," ",i==null?void 0:i.propertyAddress]}),w.jsxs("p",{className:"text-base flex items-center gap-2 text-slate-800",children:[w.jsx(t_,{className:"text-accent"})," ",i==null?void 0:i.cityArea]})]})]})]}),w.jsx("div",{className:"flex w-full border-t py-3",children:w.jsx("h1",{className:"description px-6",children:i==null?void 0:i.description})}),w.jsxs("div",{className:"flex justify-start gap-8 w-full border-t pt-3 pb-6",children:[w.jsxs("div",{className:"flex text-base px-6 text-start font-normal gap-3 items-start",children:[w.jsx(uM,{className:"text-accent mt-2"}),w.jsxs("p",{className:"text-base font-medium",children:["Rs."," ","???"," ",w.jsx("br",{})," ",w.jsx("span",{className:"text-sm font-light text-slate-600",children:"Rent Amount"})]})]}),w.jsx("div",{className:"flex text-base px-6 text-start font-normal gap-3 items-start",children:w.jsxs("p",{className:"text-base font-medium",children:[r," ",w.jsx("br",{})," ",w.jsx("span",{className:"text-sm font-light text-slate-600",children:"Listed Date"})]})}),w.jsx("div",{className:"flex text-base px-6 text-start font-normal gap-3 items-start",children:w.jsxs("p",{className:"text-base font-medium",children:[i==null?void 0:i.floor," ",w.jsx("br",{})," ",w.jsx("span",{className:"text-sm font-light text-slate-600",children:"Floor"})]})}),w.jsx("div",{className:"flex text-base px-6 text-start font-normal gap-3 items-start",children:w.jsxs("p",{className:"text-base font-medium",children:[i==null?void 0:i.propertyType," ",w.jsx("br",{})," ",w.jsx("span",{className:"text-sm font-light text-slate-600",children:"Floor"})]})})]}),w.jsx("div",{className:"flex w-full border-t py-3",children:w.jsxs("p",{className:"text-base capitalize px-6 text-start font-normal text-slate-800",children:[w.jsx("span",{className:" font-medium",children:"Property Status:"})," ",(i==null?void 0:i.status)===0?"Pending":(i==null?void 0:i.status)===1?"Listed":(i==null?void 0:i.status)===2?"Rented":"Delisted"," "]})}),w.jsx("div",{className:"flex justify-center items-center w-full my-5",children:w.jsxs("div",{className:"bg-white shadow-lg border border-gray-300 rounded-lg overflow-hidden max-w-4xl w-full mx-auto h-500px",children:[w.jsx(Wg,{width:"100%",height:"500px",image:`https://gateway.pinata.cloud/ipfs/${i.imageLinks[o]}`,pitch:10,yaw:180,hfov:110,autoLoad:!0,showZoomCtrl:!0}),w.jsx("button",{onClick:u,className:"mt-4 bg-blue-500 text-white font-bold py-2 px-4 rounded",children:"Next"}),w.jsxs("p",{children:["Current image index: ",o+1," / ",i.imageLinks.length]})]})}),w.jsxs("div",{className:"flex flex-col md:flex-row md:gap-10 gap-6 w-full border-t py-3 px-6",children:[w.jsxs("div",{className:"flex flex-col items-start justify-start gap-3",children:[w.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Property Owner"}),w.jsx(r_,{image:"/public/stateagent/stateagent1.jpg",walletAddress:`${i==null?void 0:i.ownerWallet}`,className:"font-medium",imageclass:"w-[10vw] md:w-14"})]}),w.jsxs("div",{className:"flex flex-col items-start justify-start gap-3",children:[w.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"State Agent"}),w.jsx(r_,{image:"/public/stateagent/stateagent1.jpg",walletAddress:`${i==null?void 0:i.stateAgent}`,className:"font-medium truncate ",imageclass:"w-[10vw] md:w-14 "})]})]})]}),s&&w.jsx("div",{className:"flex  2xl:flex-col md:relative 2xl:absolute 2xl:w-96 md:w-4/5 2xl:bg-transparent 2xl:-top-[59%] 2xl:right-[21%] fixed bottom-0 bg-white gap-5 w-full border-t md:border-0 md:bottom-4 border-slate-300 py-2 items-center justify-center z-10 px-3",children:w.jsx("div",{className:"flex justify-between  items-center cursor-pointer ",children:w.jsx("button",{type:"button",onClick:()=>c(e),className:"text-green-600 border border-solid border-green-500 text-l w-[11.7rem] lg:text-xl bg-green-50 hover:bg-green-500 hover:text-white p-3 rounded-[7px]",children:"Approve Listing"})})}),a&&w.jsxs("div",{className:"flex  2xl:flex-col md:relative 2xl:absolute 2xl:w-96 md:w-4/5 2xl:bg-transparent 2xl:-top-[59%] 2xl:right-[21%] fixed bottom-0 bg-white gap-5 w-full border-t md:border-0 md:bottom-4 border-slate-300 py-2 items-center justify-center z-10 px-3",children:[w.jsx("div",{className:"flex justify-between  items-center cursor-pointer ",children:w.jsx("button",{onClick:()=>f(e),type:"button",className:"text-red-500 border border-solid border-red-300 text-l w-[11.7rem] lg:text-xl bg-red-50 hover:bg-red-500 hover:text-white p-3 rounded-[7px]",children:"Delist Property"})}),w.jsx("div",{className:"flex justify-between  items-center cursor-pointer bg-accent hover:bg-accent/50 rounded-lg text-white font-semibold text-center",children:w.jsxs("a",{href:`/agreements/create/${e}`,className:"flex p-3 md:p-4 items-center justify-center",children:["Create Agreement",w.jsx(AA,{className:"ml-2 text-md"})]})})]}),s&&w.jsx("div",{className:"flex  2xl:flex-col md:relative 2xl:absolute 2xl:w-96 md:w-4/5 2xl:bg-transparent 2xl:-top-[59%] 2xl:right-[21%] fixed bottom-0 bg-white gap-5 w-full border-t md:border-0 md:bottom-4 border-slate-300 py-2 items-center justify-center z-10 px-3",children:w.jsx("div",{className:"flex justify-between  items-center cursor-pointer ",children:w.jsx("button",{onClick:()=>d(e),type:"button",className:"text-red-500 border border-solid border-red-300 text-l w-[11.7rem] lg:text-xl bg-red-50 hover:bg-red-500 hover:text-white p-3 rounded-[7px]",children:"Allow Delisting"})})})]})}function FG(){return w.jsx("div",{className:"mb-10",children:w.jsx(LG,{})})}function p1({children:t,image:e}){return w.jsx("div",{className:"bg-white relative h-full",children:w.jsx("div",{className:"flex flex-col items-center justify-between pt-0 px-5 md:px-5 pb-0 mt-0 mr-auto mb-0 ml-auto max-w-7xl xl:px-5 lg:flex-row overflow-x-clip",children:w.jsxs("div",{className:"flex flex-col items-center w-full pt-5 md:px-10 lg:pt-1 lg:flex-row",children:[w.jsx("div",{className:"hidden md:flex w-full h-full bg-cover relative max-w-md lg:max-w-2xl lg:w-1/2",children:w.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full relative lg:pr-10",children:w.jsx("img",{alt:"form",src:e,className:"flex w-full object-cover h-auto p-0"})})}),w.jsx("div",{className:"w-full flex items-center mx-0 relative z-10 max-w-2xl lg:mt-0 lg:w-1/2",children:w.jsxs("div",{className:"flex w-full flex-col items-start h-[80vh] md:h-[80vh] justify-start p-5 lg:p-10 bg-white shadow-2xl rounded-xl relative z-10",children:[w.jsx("p",{className:"w-full text-4xl xl:text-4xl font-bold text-center leading-snug relative mb-10 text-blue-600 underline",children:"Sign In"}),t]})})]})})})}const oP="/assets/Run_Skate-a1eddbd1.png";function MG(){const t="flex h-full text-white font-bold text-4xl transition items-center justify-center hover:bg-full hover:font-bold rounded-lg w-[60%] max-w-full relative p-2";return w.jsx(p1,{image:oP,className:"relative h-full w-full",children:w.jsxs("div",{className:"flex flex-col w-full relative h-full py-3 items-center gap-5 justify-center text-center mt-5 ",children:[w.jsxs(pr,{className:`${t} bg-green-500`,to:"/login/stateAgent",children:[w.jsx("h1",{children:"Estate Agent"}),w.jsx("div",{className:"cloud-shape"})]}),w.jsx("div",{className:"border-b border-slate-300 w-full"}),w.jsxs(pr,{className:`${t} bg-pink-500`,to:"/login/Landlord",children:[w.jsx("h1",{children:"Landlord"}),w.jsx("div",{className:"cloud-shape"})]}),w.jsx("div",{className:"border-b border-slate-300 w-full"}),w.jsxs(pr,{className:`${t} bg-red-600`,to:"/login/tenant",children:[w.jsx("h1",{children:"Tenant"}),w.jsx("div",{className:"cloud-shape"})]})]})})}function L5({children:t,image:e}){return w.jsx("div",{className:"bg-white relative h-full",children:w.jsx("div",{className:`flex flex-col items-center justify-between pt-0 px-5 md:px-5 pb-0  mt-0 mr-auto mb-0 ml-auto max-w-7xl\r
      xl:px-5 lg:flex-row overflow-x-clip`,children:w.jsxs("div",{className:"flex flex-col items-center w-full pt-5 md:px-10  lg:pt-1 lg:flex-row",children:[w.jsx("div",{className:"hidden md:flex w-full h-full bg-cover relative max-w-md lg:max-w-2xl lg:w-1/2",children:w.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full relative lg:pr-10",children:w.jsx("img",{alt:"form",src:e,className:"flex w-full object-cover h-auto p-0"})})}),w.jsx("div",{className:"w-full flex items-center mx-0  relative z-10 max-w-2xl lg:mt-0 lg:w-1/2 mt-20",children:w.jsxs("div",{className:`flex w-full flex-col items-start h-[80vh] md:h-[80vh] justify-start p-5 lg:p-10 bg-white shadow-2xl rounded-xl\r
            relative z-10`,children:[w.jsx("p",{className:"w-full text-4xl xl:text-4xl font-bold text-center leading-snug relative mb-3 text-blue-600 underline",children:"Sign Up"}),t]})})]})})})}function BG(){const t="flex h-full text-white font-bold text-4xl transition items-center justify-center hover:bg-full hover:font-bold rounded-lg w-[60%] max-w-full relative p-2";return w.jsx(L5,{image:oP,className:"relative h-full w-full",children:w.jsxs("div",{className:"flex flex-col w-full relative h-full py-3 items-center gap-5 justify-center text-center mt-10",children:[w.jsxs(pr,{className:`${t} bg-green-500`,to:"/register/stateAgent",children:[w.jsx("h1",{children:"Estate Agent"}),w.jsx("div",{className:"cloud-shape"})]}),w.jsx("div",{className:"border-b border-slate-300 w-full"}),w.jsxs(pr,{className:`${t} bg-pink-500`,to:"/register/landlord",children:[w.jsx("h1",{children:"Landlord"}),w.jsx("div",{className:"cloud-shape"})]}),w.jsx("div",{className:"border-b border-slate-300 w-full"}),w.jsxs(pr,{className:`${t} bg-red-600`,to:"/register/tenant",children:[w.jsx("h1",{children:"Tenant"}),w.jsx("div",{className:"cloud-shape"})]})]})})}function lP({steps:t,currentStep:e}){const[r,i]=Q.useState([]),n=Q.useRef(),a=(o,l)=>{const u=[...l];let c=0;for(;c<u.length;)c===o?(u[c]={...u[c],highlighted:!0,selected:!0,completed:!1},c+=1):c<o?(u[c]={...u[c],highlighted:!1,selected:!0,completed:!0},c+=1):(u[c]={...u[c],highlighted:!1,selected:!1,completed:!1},c+=1);return u};Q.useEffect(()=>{const o=t.map((u,c)=>({description:u,completed:!1,highlighted:c===0,selected:c===0}));n.current=o;const l=a(e-1,n.current);i(l)},[t,e]);const s=r.map((o,l)=>w.jsxs("div",{className:`${l!==r.length-1?"w-full flex items-center":"flex items-center"}`,children:[w.jsxs("div",{className:"relative flex flex-col mb-8  items-center text-accent font-bold",children:[w.jsx("div",{className:` transition duration-500 ease-in-out h-12 w-12 flex items-center justify-center py-3  ${o.selected?" text-accent font-bold ":""}`,children:o.completed?w.jsx("span",{className:"text-accent font-bold text-xl",children:"✓"}):l+1}),w.jsx("div",{className:`absolute top-0  text-center mt-16  w-32 text-xs font-normal uppercase ${o.highlighted?"text-accent":"text-gray-400"}`,children:o.description})]}),w.jsx("div",{className:`flex-auto border-t-2 transition duration-500 ease-in-out  ${o.completed?"border-accent":"border-gray-300 "}  `})]},l));return w.jsx("div",{className:"mx-4 p-4 flex justify-between items-center",children:s})}function uP({handleClick:t,currentStep:e,steps:r,isSubmitting:i}){return w.jsxs("div",{className:"container mt-4 mb-0 flex justify-between",children:[w.jsx("button",{type:"button",onClick:()=>t("back"),className:`cursor-pointer inline-block  pt-4 pr-5 pb-4 pl-5 text-xl font-medium text-center text-white bg-indigo-500 rounded-lg transition duration-200 hover:bg-indigo-600 ease w-32  ${e===1?" hidden ":""}`,children:"Back"}),w.jsx("button",{type:"button",onClick:()=>t("next"),className:`cursor-pointer inline-block pt-4 pr-5 pb-4 pl-5 text-xl font-medium text-center text-white bg-indigo-500 rounded-lg transition duration-200 hover:bg-indigo-600 ease ${e===1?"w-full":"w-32"}  ${i?"bg-gray-300 hover:bg-gray-300 cursor-not-allowed":""}`,children:"Confirm"})]})}const UG=Q.createContext({userData:"",setUserData:null});function cP({children:t}){const[e,r]=Q.useState(""),i=Q.useMemo(()=>({userData:e,setUserData:r}),[e]);return w.jsx(UG.Provider,{value:i,children:t})}function jG({formData:t,validationErrors:e,updateFormValue:r}){const i=a=>{let s=a.target.value.replace(/\D/g,"");s.length>13&&(s=s.slice(0,13)),s=s.replace(/(\d{5})(\d{7})(\d{1})?/,"$1-$2-$3").trim(),r("cnic",s)},n=a=>{let s=a.target.value.replace(/\D/g,"");s.length>11&&(s=s.slice(0,11)),s=s.replace(/(\d{3})(\d{7,8})/,"$1-$2").trim(),r("phone",s)};return w.jsxs("form",{className:"w-full mt-6 mr-0 mb-0 ml-0 relative space-y-8 h-[40vh] overflow-y-scroll scroll-smooth z-100 scrollbar p-3",children:[w.jsxs("div",{className:"flex flex-auto gap-5 w-full items-center justify-between",children:[w.jsxs("div",{className:"relative w-full mb-1",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Name"}),w.jsx("input",{name:"fname",placeholder:"Name",type:"text",required:!0,value:t.fname,onChange:a=>r("fname",a.target.value),className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.fname?"focus:border-red-500 border-red-300":""}`}),e.fname&&w.jsx("p",{className:"text-red-500",children:e.fname})]}),w.jsxs("div",{className:"relative w-full",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Estate Name"}),w.jsx("input",{placeholder:"Estate Name",type:"text",required:!0,value:t.estateName,onChange:a=>r("estateName",a.target.value),className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.estateName?"focus:border-red-500 border-red-300":""}`}),e.estateName&&w.jsx("p",{className:"text-red-500",children:e.estateName})]})]}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"CNIC (13 digit XXXXX-XXXXXXX-X)"}),w.jsx("input",{placeholder:"CNIC",type:"text",required:!0,value:t.cnic,onChange:i,className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.cnic?"focus:border-red-500 border-red-300":""}`}),e.cnic&&w.jsx("p",{className:"text-red-500",children:e.cnic})]}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Phone Number"}),w.jsx("input",{name:"phone",placeholder:"Phone Number",type:"text",required:!0,value:t.phone,onChange:n,className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.phone?"focus:border-red-500 border-red-300":""}`}),e.phone&&w.jsx("p",{className:"text-red-500",children:e.phone})]}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Email Address"}),w.jsx("input",{name:"email",placeholder:"Email Address",type:"email",required:!0,value:t.email,onChange:a=>r("email",a.target.value),className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.email?"focus:border-red-500 border-red-300":""}`}),e.email&&w.jsx("p",{className:"text-red-500",children:e.email})]}),w.jsxs("div",{className:"relative",children:[w.jsx("label",{className:"block text-gray-600 mb-2",children:"Profile Picture"}),w.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("profilePic",a.target.files[0]),className:"border border-gray-300 rounded-md p-2"}),e.profilePic&&w.jsx("p",{className:"text-red-500",children:e.profilePic})]}),w.jsxs("div",{className:"relative",children:[w.jsx("label",{className:"block text-gray-600 mb-2",children:"CNIC Front Picture"}),w.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("cnicPic",a.target.files[0]),className:"border border-gray-300 rounded-md p-2"}),e.cnicPic&&w.jsx("p",{className:"text-red-500",children:e.cnicPic})]})]})}const HG="/assets/developer-15f9671e.svg",VG="hh-sol-artifact-1",zG="RegistrationContract",GG="contracts/RegistrationContract.sol",qG=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"cnic",type:"string"},{indexed:!1,internalType:"string",name:"phoneNumber",type:"string"},{indexed:!1,internalType:"string",name:"email",type:"string"},{indexed:!1,internalType:"enum RegistrationContract.UserRole",name:"role",type:"uint8"},{indexed:!1,internalType:"string",name:"estateName",type:"string"},{indexed:!1,internalType:"string",name:"cnicImage",type:"string"},{indexed:!1,internalType:"string",name:"displayPicture",type:"string"}],name:"UserRegistered",type:"event"},{inputs:[],name:"addressCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"addresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"cnicToAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"emailToAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllStateAgents",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"cnic",type:"string"},{internalType:"string",name:"phoneNumber",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"enum RegistrationContract.UserRole",name:"role",type:"uint8"},{internalType:"string",name:"estateName",type:"string"},{internalType:"string",name:"cnicImage",type:"string"},{internalType:"string",name:"displayPicture",type:"string"}],internalType:"struct RegistrationContract.User[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_cnic",type:"string"}],name:"getUserDetailsByCNIC",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"enum RegistrationContract.UserRole",name:"",type:"uint8"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"phoneNumberToAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_cnic",type:"string"},{internalType:"string",name:"_phoneNumber",type:"string"},{internalType:"string",name:"_email",type:"string"},{internalType:"enum RegistrationContract.UserRole",name:"_role",type:"uint8"},{internalType:"string",name:"_estateName",type:"string"},{internalType:"string",name:"cnicImage",type:"string"},{internalType:"string",name:"displayPicture",type:"string"}],name:"registerUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"cnic",type:"string"},{internalType:"string",name:"phoneNumber",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"enum RegistrationContract.UserRole",name:"role",type:"uint8"},{internalType:"string",name:"estateName",type:"string"},{internalType:"string",name:"cnicImage",type:"string"},{internalType:"string",name:"displayPicture",type:"string"}],stateMutability:"view",type:"function"}],WG="0x608060405234801561001057600080fd5b50611395806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80633e4ee9531461005157806363d915f0146100835780637fc144131461009f578063a87430ba146100cf575b600080fd5b61006b60048036038101906100669190610c62565b610102565b60405161007a93929190610fd4565b60405180910390f35b61009d60048036038101906100989190610ca3565b610463565b005b6100b960048036038101906100b49190610c62565b6108e6565b6040516100c69190610fb9565b60405180910390f35b6100e960048036038101906100e49190610c39565b61092f565b6040516100f99493929190611019565b60405180910390f35b606060006060600080856040516101199190610fa2565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156101ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101b1906110f3565b60405180910390fd5b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060405180608001604052908160008201805461021690611254565b80601f016020809104026020016040519081016040528092919081815260200182805461024290611254565b801561028f5780601f106102645761010080835404028352916020019161028f565b820191906000526020600020905b81548152906001019060200180831161027257829003601f168201915b505050505081526020016001820180546102a890611254565b80601f01602080910402602001604051908101604052809291908181526020018280546102d490611254565b80156103215780601f106102f657610100808354040283529160200191610321565b820191906000526020600020905b81548152906001019060200180831161030457829003601f168201915b505050505081526020016002820160009054906101000a900460ff166002811115610375577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60028111156103ad577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81526020016003820180546103c190611254565b80601f01602080910402602001604051908101604052809291908181526020018280546103ed90611254565b801561043a5780601f1061040f5761010080835404028352916020019161043a565b820191906000526020600020905b81548152906001019060200180831161041d57829003601f168201915b505050505081525050905080600001518160400151826060015194509450945050509193909250565b60008451116104a7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161049e90611073565b60405180910390fd5b60008351116104eb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104e2906110d3565b60405180910390fd5b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001805461053a90611254565b90501461057c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610573906110b3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff166000846040516105a49190610fa2565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610629576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161062090611113565b60405180910390fd5b60006002811115610663577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b82600281111561069c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b14156106e75760008151116106e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106dd90611093565b60405180910390fd5b5b6040518060800160405280858152602001848152602001836002811115610737577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b815260200182815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001908051906020019061079b929190610b04565b5060208201518160010190805190602001906107b8929190610b04565b5060408201518160020160006101000a81548160ff0219169083600281111561080a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550606082015181600301908051906020019061082b929190610b04565b50905050336000846040516108409190610fa2565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167fd4821fc01d85179f220c6bba422af5d17cd0150bcbfb95af9e5f06981962392e858585856040516108d89493929190611019565b60405180910390a250505050565b6000818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160205280600052604060002060009150905080600001805461095290611254565b80601f016020809104026020016040519081016040528092919081815260200182805461097e90611254565b80156109cb5780601f106109a0576101008083540402835291602001916109cb565b820191906000526020600020905b8154815290600101906020018083116109ae57829003601f168201915b5050505050908060010180546109e090611254565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0c90611254565b8015610a595780601f10610a2e57610100808354040283529160200191610a59565b820191906000526020600020905b815481529060010190602001808311610a3c57829003601f168201915b5050505050908060020160009054906101000a900460ff1690806003018054610a8190611254565b80601f0160208091040260200160405190810160405280929190818152602001828054610aad90611254565b8015610afa5780601f10610acf57610100808354040283529160200191610afa565b820191906000526020600020905b815481529060010190602001808311610add57829003601f168201915b5050505050905084565b828054610b1090611254565b90600052602060002090601f016020900481019282610b325760008555610b79565b82601f10610b4b57805160ff1916838001178555610b79565b82800160010185558215610b79579182015b82811115610b78578251825591602001919060010190610b5d565b5b509050610b869190610b8a565b5090565b5b80821115610ba3576000816000905550600101610b8b565b5090565b6000610bba610bb584611164565b611133565b905082815260208101848484011115610bd257600080fd5b610bdd848285611212565b509392505050565b600081359050610bf481611338565b92915050565b600081359050610c098161134f565b92915050565b600082601f830112610c2057600080fd5b8135610c30848260208601610ba7565b91505092915050565b600060208284031215610c4b57600080fd5b6000610c5984828501610be5565b91505092915050565b600060208284031215610c7457600080fd5b600082013567ffffffffffffffff811115610c8e57600080fd5b610c9a84828501610c0f565b91505092915050565b60008060008060808587031215610cb957600080fd5b600085013567ffffffffffffffff811115610cd357600080fd5b610cdf87828801610c0f565b945050602085013567ffffffffffffffff811115610cfc57600080fd5b610d0887828801610c0f565b9350506040610d1987828801610bfa565b925050606085013567ffffffffffffffff811115610d3657600080fd5b610d4287828801610c0f565b91505092959194509250565b610d57816111bb565b82525050565b610d6681611200565b82525050565b6000610d7782611194565b610d81818561119f565b9350610d91818560208601611221565b610d9a81611313565b840191505092915050565b6000610db082611194565b610dba81856111b0565b9350610dca818560208601611221565b80840191505092915050565b6000610de360148361119f565b91507f4e616d652063616e6e6f7420626520656d7074790000000000000000000000006000830152602082019050919050565b6000610e2360288361119f565b91507f457374617465206e616d6520697320726571756972656420666f72205374617460008301527f65204167656e74730000000000000000000000000000000000000000000000006020830152604082019050919050565b6000610e8960178361119f565b91507f5573657220616c726561647920726567697374657265640000000000000000006000830152602082019050919050565b6000610ec960148361119f565b91507f434e49432063616e6e6f7420626520656d7074790000000000000000000000006000830152602082019050919050565b6000610f0960228361119f565b91507f55736572206e6f7420666f756e6420776974682074686520676976656e20434e60008301527f49430000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000610f6f60178361119f565b91507f434e494320616c726561647920726567697374657265640000000000000000006000830152602082019050919050565b6000610fae8284610da5565b915081905092915050565b6000602082019050610fce6000830184610d4e565b92915050565b60006060820190508181036000830152610fee8186610d6c565b9050610ffd6020830185610d5d565b818103604083015261100f8184610d6c565b9050949350505050565b600060808201905081810360008301526110338187610d6c565b905081810360208301526110478186610d6c565b90506110566040830185610d5d565b81810360608301526110688184610d6c565b905095945050505050565b6000602082019050818103600083015261108c81610dd6565b9050919050565b600060208201905081810360008301526110ac81610e16565b9050919050565b600060208201905081810360008301526110cc81610e7c565b9050919050565b600060208201905081810360008301526110ec81610ebc565b9050919050565b6000602082019050818103600083015261110c81610efc565b9050919050565b6000602082019050818103600083015261112c81610f62565b9050919050565b6000604051905081810181811067ffffffffffffffff8211171561115a576111596112e4565b5b8060405250919050565b600067ffffffffffffffff82111561117f5761117e6112e4565b5b601f19601f8301169050602081019050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b60006111c6826111e0565b9050919050565b60008190506111db82611324565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061120b826111cd565b9050919050565b82818337600083830152505050565b60005b8381101561123f578082015181840152602081019050611224565b8381111561124e576000848401525b50505050565b6000600282049050600182168061126c57607f821691505b602082108114156112805761127f6112b5565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b6003811061133557611334611286565b5b50565b611341816111bb565b811461134c57600080fd5b50565b6003811061135c57600080fd5b5056fea264697066735822122057d11b8b6ec11bd5de8b559e7d9e6bc3dcfe2318db13f8f8ed31c4cce487014b64736f6c63430008000033",$G="0x608060405234801561001057600080fd5b506004361061004c5760003560e01c80633e4ee9531461005157806363d915f0146100835780637fc144131461009f578063a87430ba146100cf575b600080fd5b61006b60048036038101906100669190610c62565b610102565b60405161007a93929190610fd4565b60405180910390f35b61009d60048036038101906100989190610ca3565b610463565b005b6100b960048036038101906100b49190610c62565b6108e6565b6040516100c69190610fb9565b60405180910390f35b6100e960048036038101906100e49190610c39565b61092f565b6040516100f99493929190611019565b60405180910390f35b606060006060600080856040516101199190610fa2565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156101ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101b1906110f3565b60405180910390fd5b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060405180608001604052908160008201805461021690611254565b80601f016020809104026020016040519081016040528092919081815260200182805461024290611254565b801561028f5780601f106102645761010080835404028352916020019161028f565b820191906000526020600020905b81548152906001019060200180831161027257829003601f168201915b505050505081526020016001820180546102a890611254565b80601f01602080910402602001604051908101604052809291908181526020018280546102d490611254565b80156103215780601f106102f657610100808354040283529160200191610321565b820191906000526020600020905b81548152906001019060200180831161030457829003601f168201915b505050505081526020016002820160009054906101000a900460ff166002811115610375577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60028111156103ad577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b81526020016003820180546103c190611254565b80601f01602080910402602001604051908101604052809291908181526020018280546103ed90611254565b801561043a5780601f1061040f5761010080835404028352916020019161043a565b820191906000526020600020905b81548152906001019060200180831161041d57829003601f168201915b505050505081525050905080600001518160400151826060015194509450945050509193909250565b60008451116104a7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161049e90611073565b60405180910390fd5b60008351116104eb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104e2906110d3565b60405180910390fd5b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001805461053a90611254565b90501461057c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610573906110b3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff166000846040516105a49190610fa2565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610629576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161062090611113565b60405180910390fd5b60006002811115610663577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b82600281111561069c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b14156106e75760008151116106e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106dd90611093565b60405180910390fd5b5b6040518060800160405280858152602001848152602001836002811115610737577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b815260200182815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082015181600001908051906020019061079b929190610b04565b5060208201518160010190805190602001906107b8929190610b04565b5060408201518160020160006101000a81548160ff0219169083600281111561080a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550606082015181600301908051906020019061082b929190610b04565b50905050336000846040516108409190610fa2565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167fd4821fc01d85179f220c6bba422af5d17cd0150bcbfb95af9e5f06981962392e858585856040516108d89493929190611019565b60405180910390a250505050565b6000818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160205280600052604060002060009150905080600001805461095290611254565b80601f016020809104026020016040519081016040528092919081815260200182805461097e90611254565b80156109cb5780601f106109a0576101008083540402835291602001916109cb565b820191906000526020600020905b8154815290600101906020018083116109ae57829003601f168201915b5050505050908060010180546109e090611254565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0c90611254565b8015610a595780601f10610a2e57610100808354040283529160200191610a59565b820191906000526020600020905b815481529060010190602001808311610a3c57829003601f168201915b5050505050908060020160009054906101000a900460ff1690806003018054610a8190611254565b80601f0160208091040260200160405190810160405280929190818152602001828054610aad90611254565b8015610afa5780601f10610acf57610100808354040283529160200191610afa565b820191906000526020600020905b815481529060010190602001808311610add57829003601f168201915b5050505050905084565b828054610b1090611254565b90600052602060002090601f016020900481019282610b325760008555610b79565b82601f10610b4b57805160ff1916838001178555610b79565b82800160010185558215610b79579182015b82811115610b78578251825591602001919060010190610b5d565b5b509050610b869190610b8a565b5090565b5b80821115610ba3576000816000905550600101610b8b565b5090565b6000610bba610bb584611164565b611133565b905082815260208101848484011115610bd257600080fd5b610bdd848285611212565b509392505050565b600081359050610bf481611338565b92915050565b600081359050610c098161134f565b92915050565b600082601f830112610c2057600080fd5b8135610c30848260208601610ba7565b91505092915050565b600060208284031215610c4b57600080fd5b6000610c5984828501610be5565b91505092915050565b600060208284031215610c7457600080fd5b600082013567ffffffffffffffff811115610c8e57600080fd5b610c9a84828501610c0f565b91505092915050565b60008060008060808587031215610cb957600080fd5b600085013567ffffffffffffffff811115610cd357600080fd5b610cdf87828801610c0f565b945050602085013567ffffffffffffffff811115610cfc57600080fd5b610d0887828801610c0f565b9350506040610d1987828801610bfa565b925050606085013567ffffffffffffffff811115610d3657600080fd5b610d4287828801610c0f565b91505092959194509250565b610d57816111bb565b82525050565b610d6681611200565b82525050565b6000610d7782611194565b610d81818561119f565b9350610d91818560208601611221565b610d9a81611313565b840191505092915050565b6000610db082611194565b610dba81856111b0565b9350610dca818560208601611221565b80840191505092915050565b6000610de360148361119f565b91507f4e616d652063616e6e6f7420626520656d7074790000000000000000000000006000830152602082019050919050565b6000610e2360288361119f565b91507f457374617465206e616d6520697320726571756972656420666f72205374617460008301527f65204167656e74730000000000000000000000000000000000000000000000006020830152604082019050919050565b6000610e8960178361119f565b91507f5573657220616c726561647920726567697374657265640000000000000000006000830152602082019050919050565b6000610ec960148361119f565b91507f434e49432063616e6e6f7420626520656d7074790000000000000000000000006000830152602082019050919050565b6000610f0960228361119f565b91507f55736572206e6f7420666f756e6420776974682074686520676976656e20434e60008301527f49430000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000610f6f60178361119f565b91507f434e494320616c726561647920726567697374657265640000000000000000006000830152602082019050919050565b6000610fae8284610da5565b915081905092915050565b6000602082019050610fce6000830184610d4e565b92915050565b60006060820190508181036000830152610fee8186610d6c565b9050610ffd6020830185610d5d565b818103604083015261100f8184610d6c565b9050949350505050565b600060808201905081810360008301526110338187610d6c565b905081810360208301526110478186610d6c565b90506110566040830185610d5d565b81810360608301526110688184610d6c565b905095945050505050565b6000602082019050818103600083015261108c81610dd6565b9050919050565b600060208201905081810360008301526110ac81610e16565b9050919050565b600060208201905081810360008301526110cc81610e7c565b9050919050565b600060208201905081810360008301526110ec81610ebc565b9050919050565b6000602082019050818103600083015261110c81610efc565b9050919050565b6000602082019050818103600083015261112c81610f62565b9050919050565b6000604051905081810181811067ffffffffffffffff8211171561115a576111596112e4565b5b8060405250919050565b600067ffffffffffffffff82111561117f5761117e6112e4565b5b601f19601f8301169050602081019050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b60006111c6826111e0565b9050919050565b60008190506111db82611324565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061120b826111cd565b9050919050565b82818337600083830152505050565b60005b8381101561123f578082015181840152602081019050611224565b8381111561124e576000848401525b50505050565b6000600282049050600182168061126c57607f821691505b602082108114156112805761127f6112b5565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b6003811061133557611334611286565b5b50565b611341816111bb565b811461134c57600080fd5b50565b6003811061135c57600080fd5b5056fea264697066735822122057d11b8b6ec11bd5de8b559e7d9e6bc3dcfe2318db13f8f8ed31c4cce487014b64736f6c63430008000033",QG={},KG={},fP={_format:VG,contractName:zG,sourceName:GG,abi:qG,bytecode:WG,deployedBytecode:$G,linkReferences:QG,deployedLinkReferences:KG};function dP(t,e){return function(){return t.apply(e,arguments)}}const{toString:XG}=Object.prototype,{getPrototypeOf:F5}=Object,m1=(t=>e=>{const r=XG.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Na=t=>(t=t.toLowerCase(),e=>m1(e)===t),g1=t=>e=>typeof e===t,{isArray:Nc}=Array,Cd=g1("undefined");function YG(t){return t!==null&&!Cd(t)&&t.constructor!==null&&!Cd(t.constructor)&&Si(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hP=Na("ArrayBuffer");function JG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hP(t.buffer),e}const ZG=g1("string"),Si=g1("function"),pP=g1("number"),v1=t=>t!==null&&typeof t=="object",eq=t=>t===!0||t===!1,Vp=t=>{if(m1(t)!=="object")return!1;const e=F5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tq=Na("Date"),rq=Na("File"),nq=Na("Blob"),iq=Na("FileList"),aq=t=>v1(t)&&Si(t.pipe),sq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Si(t.append)&&((e=m1(t))==="formdata"||e==="object"&&Si(t.toString)&&t.toString()==="[object FormData]"))},oq=Na("URLSearchParams"),lq=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,n;if(typeof t!="object"&&(t=[t]),Nc(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(i=0;i<s;i++)o=a[i],e.call(null,t[o],o,t)}}function mP(t,e){e=e.toLowerCase();const r=Object.keys(t);let i=r.length,n;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const gP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),vP=t=>!Cd(t)&&t!==gP;function tb(){const{caseless:t}=vP(this)&&this||{},e={},r=(i,n)=>{const a=t&&mP(e,n)||n;Vp(e[a])&&Vp(i)?e[a]=tb(e[a],i):Vp(i)?e[a]=tb({},i):Nc(i)?e[a]=i.slice():e[a]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&vh(arguments[i],r);return e}const uq=(t,e,r,{allOwnKeys:i}={})=>(vh(e,(n,a)=>{r&&Si(n)?t[a]=dP(n,r):t[a]=n},{allOwnKeys:i}),t),cq=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fq=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},dq=(t,e,r,i)=>{let n,a,s;const o={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),a=n.length;a-- >0;)s=n[a],(!i||i(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&F5(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},hq=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return i!==-1&&i===r},pq=t=>{if(!t)return null;if(Nc(t))return t;let e=t.length;if(!pP(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},mq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&F5(Uint8Array)),gq=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const a=n.value;e.call(t,a[0],a[1])}},vq=(t,e)=>{let r;const i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},yq=Na("HTMLFormElement"),bq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,n){return i.toUpperCase()+n}),LE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),xq=Na("RegExp"),yP=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};vh(r,(n,a)=>{let s;(s=e(n,a,t))!==!1&&(i[a]=s||n)}),Object.defineProperties(t,i)},Tq=t=>{yP(t,(e,r)=>{if(Si(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=t[r];if(Si(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wq=(t,e)=>{const r={},i=n=>{n.forEach(a=>{r[a]=!0})};return Nc(t)?i(t):i(String(t).split(e)),r},_q=()=>{},Eq=(t,e)=>(t=+t,Number.isFinite(t)?t:e),$v="abcdefghijklmnopqrstuvwxyz",FE="0123456789",bP={DIGIT:FE,ALPHA:$v,ALPHA_DIGIT:$v+$v.toUpperCase()+FE},Sq=(t=16,e=bP.ALPHA_DIGIT)=>{let r="";const{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function Aq(t){return!!(t&&Si(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Cq=t=>{const e=new Array(10),r=(i,n)=>{if(v1(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const a=Nc(i)?[]:{};return vh(i,(s,o)=>{const l=r(s,n+1);!Cd(l)&&(a[o]=l)}),e[n]=void 0,a}}return i};return r(t,0)},Pq=Na("AsyncFunction"),kq=t=>t&&(v1(t)||Si(t))&&Si(t.then)&&Si(t.catch),se={isArray:Nc,isArrayBuffer:hP,isBuffer:YG,isFormData:sq,isArrayBufferView:JG,isString:ZG,isNumber:pP,isBoolean:eq,isObject:v1,isPlainObject:Vp,isUndefined:Cd,isDate:tq,isFile:rq,isBlob:nq,isRegExp:xq,isFunction:Si,isStream:aq,isURLSearchParams:oq,isTypedArray:mq,isFileList:iq,forEach:vh,merge:tb,extend:uq,trim:lq,stripBOM:cq,inherits:fq,toFlatObject:dq,kindOf:m1,kindOfTest:Na,endsWith:hq,toArray:pq,forEachEntry:gq,matchAll:vq,isHTMLForm:yq,hasOwnProperty:LE,hasOwnProp:LE,reduceDescriptors:yP,freezeMethods:Tq,toObjectSet:wq,toCamelCase:bq,noop:_q,toFiniteNumber:Eq,findKey:mP,global:gP,isContextDefined:vP,ALPHABET:bP,generateString:Sq,isSpecCompliantForm:Aq,toJSONObject:Cq,isAsyncFn:Pq,isThenable:kq};function ct(t,e,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}se.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xP=ct.prototype,TP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{TP[t]={value:t}});Object.defineProperties(ct,TP);Object.defineProperty(xP,"isAxiosError",{value:!0});ct.from=(t,e,r,i,n,a)=>{const s=Object.create(xP);return se.toFlatObject(t,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ct.call(s,t.message,e,r,i,n),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const Dq=null;function rb(t){return se.isPlainObject(t)||se.isArray(t)}function wP(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function ME(t,e,r){return t?t.concat(e).map(function(n,a){return n=wP(n),!r&&a?"["+n+"]":n}).join(r?".":""):e}function Iq(t){return se.isArray(t)&&!t.some(rb)}const Nq=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function y1(t,e,r){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,T){return!se.isUndefined(T[m])});const i=r.metaTokens,n=r.visitor||c,a=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(n))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(se.isDate(y))return y.toISOString();if(!l&&se.isBlob(y))throw new ct("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(y)||se.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,m,T){let b=y;if(y&&!T&&typeof y=="object"){if(se.endsWith(m,"{}"))m=i?m:m.slice(0,-2),y=JSON.stringify(y);else if(se.isArray(y)&&Iq(y)||(se.isFileList(y)||se.endsWith(m,"[]"))&&(b=se.toArray(y)))return m=wP(m),b.forEach(function(A,C){!(se.isUndefined(A)||A===null)&&e.append(s===!0?ME([m],C,a):s===null?m:m+"[]",u(A))}),!1}return rb(y)?!0:(e.append(ME(T,m,a),u(y)),!1)}const f=[],d=Object.assign(Nq,{defaultVisitor:c,convertValue:u,isVisitable:rb});function h(y,m){if(!se.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(y),se.forEach(y,function(b,E){(!(se.isUndefined(b)||b===null)&&n.call(e,b,se.isString(E)?E.trim():E,m,d))===!0&&h(b,m?m.concat(E):[E])}),f.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return h(t),e}function BE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function M5(t,e){this._pairs=[],t&&y1(t,this,e)}const _P=M5.prototype;_P.append=function(e,r){this._pairs.push([e,r])};_P.toString=function(e){const r=e?function(i){return e.call(this,i,BE)}:BE;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Oq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function EP(t,e,r){if(!e)return t;const i=r&&r.encode||Oq,n=r&&r.serialize;let a;if(n?a=n(e,r):a=se.isURLSearchParams(e)?e.toString():new M5(e,r).toString(i),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Rq{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(i){i!==null&&e(i)})}}const UE=Rq,SP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lq=typeof URLSearchParams<"u"?URLSearchParams:M5,Fq=typeof FormData<"u"?FormData:null,Mq=typeof Blob<"u"?Blob:null,Bq={isBrowser:!0,classes:{URLSearchParams:Lq,FormData:Fq,Blob:Mq},protocols:["http","https","file","blob","url","data"]},AP=typeof window<"u"&&typeof document<"u",Uq=(t=>AP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),jq=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Hq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:AP,hasStandardBrowserEnv:Uq,hasStandardBrowserWebWorkerEnv:jq},Symbol.toStringTag,{value:"Module"})),Sa={...Hq,...Bq};function Vq(t,e){return y1(t,new Sa.classes.URLSearchParams,Object.assign({visitor:function(r,i,n,a){return Sa.isNode&&se.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function zq(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gq(t){const e={},r=Object.keys(t);let i;const n=r.length;let a;for(i=0;i<n;i++)a=r[i],e[a]=t[a];return e}function CP(t){function e(r,i,n,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=r.length;return s=!s&&se.isArray(n)?n.length:s,l?(se.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!o):((!n[s]||!se.isObject(n[s]))&&(n[s]=[]),e(r,i,n[s],a)&&se.isArray(n[s])&&(n[s]=Gq(n[s])),!o)}if(se.isFormData(t)&&se.isFunction(t.entries)){const r={};return se.forEachEntry(t,(i,n)=>{e(zq(i),n,r,0)}),r}return null}function qq(t,e,r){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}const B5={transitional:SP,adapter:["xhr","http"],transformRequest:[function(e,r){const i=r.getContentType()||"",n=i.indexOf("application/json")>-1,a=se.isObject(e);if(a&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return n?JSON.stringify(CP(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Vq(e,this.formSerializer).toString();if((o=se.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return y1(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),qq(e)):e}],transformResponse:[function(e){const r=this.transitional||B5.transitional,i=r&&r.forcedJSONParsing,n=this.responseType==="json";if(e&&se.isString(e)&&(i&&!this.responseType||n)){const s=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?ct.from(o,ct.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sa.classes.FormData,Blob:Sa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{B5.headers[t]={}});const U5=B5,Wq=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$q=t=>{const e={};let r,i,n;return t&&t.split(`
`).forEach(function(s){n=s.indexOf(":"),r=s.substring(0,n).trim().toLowerCase(),i=s.substring(n+1).trim(),!(!r||e[r]&&Wq[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e},jE=Symbol("internals");function rf(t){return t&&String(t).trim().toLowerCase()}function zp(t){return t===!1||t==null?t:se.isArray(t)?t.map(zp):String(t)}function Qq(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}const Kq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qv(t,e,r,i,n){if(se.isFunction(i))return i.call(this,e,r);if(n&&(e=r),!!se.isString(e)){if(se.isString(i))return e.indexOf(i)!==-1;if(se.isRegExp(i))return i.test(e)}}function Xq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function Yq(t,e){const r=se.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(n,a,s){return this[i].call(this,e,n,a,s)},configurable:!0})})}class b1{constructor(e){e&&this.set(e)}set(e,r,i){const n=this;function a(o,l,u){const c=rf(l);if(!c)throw new Error("header name must be a non-empty string");const f=se.findKey(n,c);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||l]=zp(o))}const s=(o,l)=>se.forEach(o,(u,c)=>a(u,c,l));return se.isPlainObject(e)||e instanceof this.constructor?s(e,r):se.isString(e)&&(e=e.trim())&&!Kq(e)?s($q(e),r):e!=null&&a(r,e,i),this}get(e,r){if(e=rf(e),e){const i=se.findKey(this,e);if(i){const n=this[i];if(!r)return n;if(r===!0)return Qq(n);if(se.isFunction(r))return r.call(this,n,i);if(se.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=rf(e),e){const i=se.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||Qv(this,this[i],i,r)))}return!1}delete(e,r){const i=this;let n=!1;function a(s){if(s=rf(s),s){const o=se.findKey(i,s);o&&(!r||Qv(i,i[o],o,r))&&(delete i[o],n=!0)}}return se.isArray(e)?e.forEach(a):a(e),n}clear(e){const r=Object.keys(this);let i=r.length,n=!1;for(;i--;){const a=r[i];(!e||Qv(this,this[a],a,e,!0))&&(delete this[a],n=!0)}return n}normalize(e){const r=this,i={};return se.forEach(this,(n,a)=>{const s=se.findKey(i,a);if(s){r[s]=zp(n),delete r[a];return}const o=e?Xq(a):String(a).trim();o!==a&&delete r[a],r[o]=zp(n),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return se.forEach(this,(i,n)=>{i!=null&&i!==!1&&(r[n]=e&&se.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const i=new this(e);return r.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[jE]=this[jE]={accessors:{}}).accessors,n=this.prototype;function a(s){const o=rf(s);i[o]||(Yq(n,s),i[o]=!0)}return se.isArray(e)?e.forEach(a):a(e),this}}b1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(b1.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});se.freezeMethods(b1);const hs=b1;function Kv(t,e){const r=this||U5,i=e||r,n=hs.from(i.headers);let a=i.data;return se.forEach(t,function(o){a=o.call(r,a,n.normalize(),e?e.status:void 0)}),n.normalize(),a}function PP(t){return!!(t&&t.__CANCEL__)}function yh(t,e,r){ct.call(this,t??"canceled",ct.ERR_CANCELED,e,r),this.name="CanceledError"}se.inherits(yh,ct,{__CANCEL__:!0});function Jq(t,e,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new ct("Request failed with status code "+r.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Zq=Sa.hasStandardBrowserEnv?{write(t,e,r,i,n,a){const s=[t+"="+encodeURIComponent(e)];se.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),se.isString(i)&&s.push("path="+i),se.isString(n)&&s.push("domain="+n),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kP(t,e){return t&&!eW(e)?tW(t,e):e}const rW=Sa.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function n(a){let s=a;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=n(window.location.href),function(s){const o=se.isString(s)?n(s):s;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}();function nW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iW(t,e){t=t||10;const r=new Array(t),i=new Array(t);let n=0,a=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[a];s||(s=u),r[n]=l,i[n]=u;let f=a,d=0;for(;f!==n;)d+=r[f++],f=f%t;if(n=(n+1)%t,n===a&&(a=(a+1)%t),u-s<e)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function HE(t,e){let r=0;const i=iW(50,250);return n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o),u=a<=s;r=a;const c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&u?(s-a)/l:void 0,event:n};c[e?"download":"upload"]=!0,t(c)}}const aW=typeof XMLHttpRequest<"u",sW=aW&&function(t){return new Promise(function(r,i){let n=t.data;const a=hs.from(t.headers).normalize();let{responseType:s,withXSRFToken:o}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(se.isFormData(n)){if(Sa.hasStandardBrowserEnv||Sa.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((c=a.getContentType())!==!1){const[m,...T]=c?c.split(";").map(b=>b.trim()).filter(Boolean):[];a.setContentType([m||"multipart/form-data",...T].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(m+":"+T))}const d=kP(t.baseURL,t.url);f.open(t.method.toUpperCase(),EP(d,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function h(){if(!f)return;const m=hs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:m,config:t,request:f};Jq(function(A){r(A),u()},function(A){i(A),u()},b),f=null}if("onloadend"in f?f.onloadend=h:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(h)},f.onabort=function(){f&&(i(new ct("Request aborted",ct.ECONNABORTED,t,f)),f=null)},f.onerror=function(){i(new ct("Network Error",ct.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||SP;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),i(new ct(T,b.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,t,f)),f=null},Sa.hasStandardBrowserEnv&&(o&&se.isFunction(o)&&(o=o(t)),o||o!==!1&&rW(d))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&Zq.read(t.xsrfCookieName);m&&a.set(t.xsrfHeaderName,m)}n===void 0&&a.setContentType(null),"setRequestHeader"in f&&se.forEach(a.toJSON(),function(T,b){f.setRequestHeader(b,T)}),se.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",HE(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",HE(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{f&&(i(!m||m.type?new yh(null,t,f):m),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=nW(d);if(y&&Sa.protocols.indexOf(y)===-1){i(new ct("Unsupported protocol "+y+":",ct.ERR_BAD_REQUEST,t));return}f.send(n||null)})},nb={http:Dq,xhr:sW};se.forEach(nb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const VE=t=>`- ${t}`,oW=t=>se.isFunction(t)||t===null||t===!1,DP={getAdapter:t=>{t=se.isArray(t)?t:[t];const{length:e}=t;let r,i;const n={};for(let a=0;a<e;a++){r=t[a];let s;if(i=r,!oW(r)&&(i=nb[(s=String(r)).toLowerCase()],i===void 0))throw new ct(`Unknown adapter '${s}'`);if(i)break;n[s||"#"+a]=i}if(!i){const a=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(VE).join(`
`):" "+VE(a[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:nb};function Xv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yh(null,t)}function zE(t){return Xv(t),t.headers=hs.from(t.headers),t.data=Kv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),DP.getAdapter(t.adapter||U5.adapter)(t).then(function(i){return Xv(t),i.data=Kv.call(t,t.transformResponse,i),i.headers=hs.from(i.headers),i},function(i){return PP(i)||(Xv(t),i&&i.response&&(i.response.data=Kv.call(t,t.transformResponse,i.response),i.response.headers=hs.from(i.response.headers))),Promise.reject(i)})}const GE=t=>t instanceof hs?{...t}:t;function vc(t,e){e=e||{};const r={};function i(u,c,f){return se.isPlainObject(u)&&se.isPlainObject(c)?se.merge.call({caseless:f},u,c):se.isPlainObject(c)?se.merge({},c):se.isArray(c)?c.slice():c}function n(u,c,f){if(se.isUndefined(c)){if(!se.isUndefined(u))return i(void 0,u,f)}else return i(u,c,f)}function a(u,c){if(!se.isUndefined(c))return i(void 0,c)}function s(u,c){if(se.isUndefined(c)){if(!se.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,f){if(f in e)return i(u,c);if(f in t)return i(void 0,u)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,c)=>n(GE(u),GE(c),!0)};return se.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||n,d=f(t[c],e[c],c);se.isUndefined(d)&&f!==o||(r[c]=d)}),r}const IP="1.6.8",j5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{j5[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const qE={};j5.transitional=function(e,r,i){function n(a,s){return"[Axios v"+IP+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,o)=>{if(e===!1)throw new ct(n(s," has been removed"+(r?" in "+r:"")),ct.ERR_DEPRECATED);return r&&!qE[s]&&(qE[s]=!0,console.warn(n(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,o):!0}};function lW(t,e,r){if(typeof t!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const a=i[n],s=e[a];if(s){const o=t[a],l=o===void 0||s(o,a,t);if(l!==!0)throw new ct("option "+a+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ct("Unknown option "+a,ct.ERR_BAD_OPTION)}}const ib={assertOptions:lW,validators:j5},Bs=ib.validators;class ng{constructor(e){this.defaults=e,this.interceptors={request:new UE,response:new UE}}async request(e,r){try{return await this._request(e,r)}catch(i){if(i instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}throw i}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=vc(this.defaults,r);const{transitional:i,paramsSerializer:n,headers:a}=r;i!==void 0&&ib.assertOptions(i,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),n!=null&&(se.isFunction(n)?r.paramsSerializer={serialize:n}:ib.assertOptions(n,{encode:Bs.function,serialize:Bs.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&se.merge(a.common,a[r.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=hs.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,f=0,d;if(!l){const y=[zE.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),d=y.length,c=Promise.resolve(r);f<d;)c=c.then(y[f++],y[f++]);return c}d=o.length;let h=r;for(f=0;f<d;){const y=o[f++],m=o[f++];try{h=y(h)}catch(T){m.call(this,T);break}}try{c=zE.call(this,h)}catch(y){return Promise.reject(y)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=vc(this.defaults,e);const r=kP(e.baseURL,e.url);return EP(r,e.params,e.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(e){ng.prototype[e]=function(r,i){return this.request(vc(i||{},{method:e,url:r,data:(i||{}).data}))}});se.forEach(["post","put","patch"],function(e){function r(i){return function(a,s,o){return this.request(vc(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ng.prototype[e]=r(),ng.prototype[e+"Form"]=r(!0)});const Gp=ng;class H5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const i=this;this.promise.then(n=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](n);i._listeners=null}),this.promise.then=n=>{let a;const s=new Promise(o=>{i.subscribe(o),a=o}).then(n);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,o){i.reason||(i.reason=new yh(a,s,o),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new H5(function(n){e=n}),cancel:e}}}const uW=H5;function cW(t){return function(r){return t.apply(null,r)}}function fW(t){return se.isObject(t)&&t.isAxiosError===!0}const ab={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ab).forEach(([t,e])=>{ab[e]=t});const dW=ab;function NP(t){const e=new Gp(t),r=dP(Gp.prototype.request,e);return se.extend(r,Gp.prototype,e,{allOwnKeys:!0}),se.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return NP(vc(t,n))},r}const _r=NP(U5);_r.Axios=Gp;_r.CanceledError=yh;_r.CancelToken=uW;_r.isCancel=PP;_r.VERSION=IP;_r.toFormData=y1;_r.AxiosError=ct;_r.Cancel=_r.CanceledError;_r.all=function(e){return Promise.all(e)};_r.spread=cW;_r.isAxiosError=fW;_r.mergeConfig=vc;_r.AxiosHeaders=hs;_r.formToJSON=t=>CP(se.isHTMLForm(t)?new FormData(t):t);_r.getAdapter=DP.getAdapter;_r.HttpStatusCode=dW;_r.default=_r;const V5=_r;function hW(){const t=Q.useContext(Zd),{setProgress:e}=t,r="0x5bec4f185b1746B0D2B48F1EFD624F43648b8133`",i=Jl(),[n,a]=Q.useState(1),[s,o]=Q.useState({fname:"",estateName:"",cnic:"",phone:"",email:"",profilePic:"",cnicPic:""}),[l,u]=Q.useState({fname:"",estateName:"",cnic:"",phone:"",email:"",profilePic:"",cnicPic:""}),[c,f]=Q.useState(!1),d=(A,C)=>{u(C?I=>({...I,[A]:""}):I=>({...I,[A]:`${A.charAt(0).toUpperCase()+A.slice(1)} is required`}))},h=(A,C)=>{o({...s,[A]:C}),d(A,C)},y=["Personal Details"],m=A=>{switch(A){case 1:return w.jsx(jG,{formData:s,setFormData:o,validationErrors:l,updateFormValue:h})}},T=["fname","cnic","estateName","phone","email","profilePic","cnicPic"],b=async A=>{const C=new FormData;C.append("file",A);try{return(await V5({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:C,headers:{pinata_api_key:"e0700a92b6af0906dbec",pinata_secret_api_key:"adab40ed09233225339e5b0530429ba1e56130545941f4c405d443e34e27e2f1","Content-Type":"multipart/form-data"}})).data.IpfsHash}catch(I){return console.error("Error uploading file to Pinata:",I),Me.error("Error uploading file to IPFS.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4}),null}},E=async A=>{if(n===y.length&&A!=="back"){await e(0),await e(10);const I=T.filter(ne=>!s[ne]);if(I.length>0){const oe=`Please fill in the following required fields: ${I.map(_e=>_e.charAt(0).toUpperCase()+_e.slice(1)).join(", ")}`;Me.error(`${oe}`,{position:Me.POSITION.TOP_CENTER,autoClose:1e4});return}if(c)return;f(!0);const R=new FormData;await e(30),R.append("fname",s.fname),R.append("estateName",s.estateName),R.append("cnic",s.cnic),R.append("phone",s.phone),R.append("email",s.email);const L=[];s.profilePic&&L.push(b(s.profilePic)),s.cnicPic&&L.push(b(s.cnicPic));const O=await Promise.all(L);R.append("profileHash",O[0]),R.append("cnicHash",O[1]);const H=await new wc(window.ethereum).getSigner(),re=new us(r,fP.abi,H);await e(50);try{const ne=await re.registerUser(R.get("fname"),R.get("cnic"),R.get("phone"),R.get("email"),0,R.get("estateName"),R.get("cnicHash"),R.get("profileHash"));await e(70);const oe=await ne.wait();console.log("Transaction hash:",oe.transactionHash),await e(100),oe&&(i("/login"),Me.success("User Registered Successfully"))}catch(ne){console.error("Error calling contract:",ne),ne.message.includes("CNIC already registered")&&Me.error("CNIC already registered"),ne.message.includes("User already registered")&&Me.error("User already registered"),await e(100)}}};return w.jsx("div",{children:w.jsx(L5,{image:HG,children:w.jsxs("div",{className:"relative h-full w-full",children:[w.jsxs("div",{className:"w-full h-full relative",children:[w.jsx(lP,{steps:y,currentStep:n}),w.jsx(cP,{children:m(n)})]}),w.jsx("div",{className:" w-full absolute bottom-0",children:w.jsx(uP,{handleClick:E,currentStep:n,steps:y,isSubmitting:c})})]})})})}const x1="/assets/organization-e0603e41.svg";function pW({formData:t,validationErrors:e,updateFormValue:r}){const i=a=>{let s=a.target.value.replace(/\D/g,"");s.length>13&&(s=s.slice(0,13)),s=s.replace(/(\d{5})(\d{7})(\d{1})?/,"$1-$2-$3").trim(),r("cnic",s)},n=a=>{let s=a.target.value.replace(/\D/g,"");s.length>11&&(s=s.slice(0,11)),s=s.replace(/(\d{3})(\d{7,8})/,"$1-$2").trim(),r("phone",s)};return w.jsxs("form",{className:"w-full mt-6 mr-0 mb-0 ml-0 relative space-y-8 h-[40vh] overflow-y-scroll scroll-smooth z-100 scrollbar p-3",children:[w.jsx("div",{className:"flex flex-auto gap-5 w-full items-center justify-between",children:w.jsxs("div",{className:"relative w-full mb-1",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Name"}),w.jsx("input",{name:"fname",placeholder:"Name",type:"text",required:!0,value:t.fname,onChange:a=>r("fname",a.target.value),className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.fname?"focus:border-red-500 border-red-300":""}`}),e.fname&&w.jsx("p",{className:"text-red-500",children:e.fname})]})}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"CNIC (13 digit XXXXX-XXXXXXX-X)"}),w.jsx("input",{placeholder:"CNIC",type:"text",required:!0,value:t.cnic,onChange:i,className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.cnic?"focus:border-red-500 border-red-300":""}`}),e.cnic&&w.jsx("p",{className:"text-red-500",children:e.cnic})]}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Phone Number"}),w.jsx("input",{name:"phone",placeholder:"Phone Number",type:"text",required:!0,value:t.phone,onChange:n,className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.phone?"focus:border-red-500 border-red-300":""}`}),e.phone&&w.jsx("p",{className:"text-red-500",children:e.phone})]}),w.jsxs("div",{className:"relative",children:[w.jsx("p",{className:"bg-white pt-0 pr-2 pb-0 pl-2 -mt-1 mr-0 mb-0 ml-0 font-medium text-gray-600 absolute",children:"Email Address"}),w.jsx("input",{name:"email",placeholder:"Email Address",type:"email",required:!0,value:t.email,onChange:a=>r("email",a.target.value),className:`border placeholder-gray-400 focus:outline-none focus:border-accent w-full pt-4 pr-4 pb-4 pl-4 mt-2 mr-0 mb-0 ml-0 text-base block bg-white border-gray-300 rounded-md ${e.email?"focus:border-red-500 border-red-300":""}`}),e.email&&w.jsx("p",{className:"text-red-500",children:e.email})]}),w.jsxs("div",{className:"relative",children:[w.jsx("label",{className:"block text-gray-600 mb-2",children:"Profile Picture"}),w.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("profilePic",a.target.files[0]),className:"border border-gray-300 rounded-md p-2"}),e.profilePic&&w.jsx("p",{className:"text-red-500",children:e.profilePic})]}),w.jsxs("div",{className:"relative",children:[w.jsx("label",{className:"block text-gray-600 mb-2",children:"CNIC Front Picture"}),w.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("cnicPic",a.target.files[0]),className:"border border-gray-300 rounded-md p-2"}),e.cnicPic&&w.jsx("p",{className:"text-red-500",children:e.cnicPic})]})]})}function WE(t){const e=Q.useContext(Zd),{setProgress:r}=e,i="0x5bec4f185b1746B0D2B48F1EFD624F43648b8133`",n=Jl(),[a,s]=Q.useState(1),[o,l]=Q.useState({name:"",cnic:"",phone:"",email:"",profilePic:"",cnicPic:""}),[u,c]=Q.useState({name:"",cnic:"",phone:"",email:"",profilePic:"",cnicPic:""}),[f,d]=Q.useState(!1),h=(C,I)=>{c(I?R=>({...R,[C]:""}):R=>({...R,[C]:`${C.charAt(0).toUpperCase()+C.slice(1)} is required`}))},y=(C,I)=>{l({...o,[C]:I}),h(C,I)},m=["Personal Details"],T=C=>{switch(C){case 1:return w.jsx(pW,{formData:o,setFormData:l,validationErrors:u,updateFormValue:y})}},b=["name","cnic","phone","email","profilePic","cnicPic"],E=async C=>{const I=new FormData;I.append("file",C);try{return(await V5({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:I,headers:{pinata_api_key:"e0700a92b6af0906dbec",pinata_secret_api_key:"adab40ed09233225339e5b0530429ba1e56130545941f4c405d443e34e27e2f1","Content-Type":"multipart/form-data"}})).data.IpfsHash}catch(R){return console.error("Error uploading file to Pinata:",R),Me.error("Error uploading file to IPFS.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4}),null}},A=async C=>{if(a===m.length&&C!=="back"){await r(0),await r(10);const R=b.filter(oe=>!o[oe]);if(R.length>0){const _e=`Please fill in the following required fields: ${R.map(ie=>ie.charAt(0).toUpperCase()+ie.slice(1)).join(", ")}`;Me.error(`${_e}`,{position:Me.POSITION.TOP_CENTER,autoClose:1e4});return}if(f)return;d(!0);const L=new FormData;await r(15),L.append("name",o.name),L.append("cnic",o.cnic);const O=[];o.profilePic&&O.push(E(o.profilePic)),o.cnicPic&&O.push(E(o.cnicPic));const W=await Promise.all(O);L.append("profileHash",W[0]),L.append("cnicHash",W[1]),console.log(L),await r(30);const re=await new wc(window.ethereum).getSigner(),ne=new us(i,fP.abi,re);await r(50);try{const oe=await ne.registerUser(L.get("fname"),L.get("cnic"),L.get("phone"),L.get("email"),0,L.get("estateName"),L.get("cnicHash"),L.get("profileHash"));await r(70);const _e=await oe.wait();console.log("Transaction hash:",_e.transactionHash),await r(100),_e&&(n("/login"),Me.success("User Registered Successfully"))}catch(oe){console.error("Error calling contract:",oe),await r(0)}}};return w.jsx("div",{children:w.jsx(L5,{image:x1,children:w.jsxs("div",{className:"relative h-full w-full",children:[w.jsxs("div",{className:"w-full h-full relative",children:[w.jsx(lP,{steps:m,currentStep:a}),w.jsx(cP,{children:T(a)})]}),w.jsx("div",{className:" w-full absolute bottom-0",children:w.jsx(uP,{handleClick:A,currentStep:a,steps:m,isSubmitting:f})})]})})})}function mW(){const t="0x10f0490Ec05887AfFab6f60839f47315C69F71f9",[e,r]=Q.useState({address:"",description:"",city:"",floor:"",owner_wallet:"",imageLinks:[],type:""}),[i,n]=Q.useState({}),[a,s]=Q.useState([]),[o,l]=Q.useState(!1),u=Q.useRef(null),c=m=>{const T=Array.from(m.target.files);s(b=>[...b,...T]),n({...i,images:null})},f=async m=>Promise.all(m.map(async T=>{const b=new FormData;b.append("file",T);try{return(await V5({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:b,headers:{pinata_api_key:"e0700a92b6af0906dbec",pinata_secret_api_key:"adab40ed09233225339e5b0530429ba1e56130545941f4c405d443e34e27e2f1","Content-Type":"multipart/form-data"}})).data.IpfsHash}catch(E){return console.error("Error uploading image to Pinata:",E),Me.error("Error uploading image to IPFS.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4}),null}})),d=()=>{let m={},T=!0;return["address","city","floor","owner_wallet","description"].forEach(E=>{e[E]||(T=!1,m[E]=`The ${E.replace("_"," ")} is required.`)}),a.length===0&&(T=!1,m.images="At least one image is required."),n(m),T},h=async m=>{if(m.preventDefault(),!d())return;l(!0);const T=await f(a);if(!T||T.includes(null)){l(!1);return}r({...e,imageLinks:T}),console.log("Successfully uploaded images to IPFS with hashes:",T);try{const E=await new wc(window.ethereum).getSigner(),A=new us(t,Uf.abi,E);console.log(e),console.log(A);const I=await(await A.listProperty(e.address,e.city,e.floor,e.owner_wallet,e.description,T,e.type)).wait();console.log("Property listed!",I),Me.success("Property Listed Successfully")}catch(b){console.error("Error listing property:",b),Me.error("Error listing property.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4})}finally{l(!1)}},y=()=>{u.current.click()};return w.jsxs("div",{className:"flex justify-center my-10 items-center h-screen",children:[w.jsx("div",{className:"gradient z-0"}),w.jsx("div",{className:"max-w-3xl z-10 w-full",children:w.jsxs("form",{className:"bg-white/50 shadow-md px-8 pt-6 pb-8 mb-4 border z-10 border-slate-300 rounded-2xl py-5",onSubmit:h,children:[w.jsx("h2",{className:"text-gray-900 text-center text-2xl md:text-3xl mb-5 font-semibold",children:"Enter Property Details"}),["address","city","floor","owner_wallet","description","type"].map((m,T)=>w.jsx("div",{className:"mb-4",children:w.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:[m.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase()),w.jsx("input",{type:m==="description"?"textarea":"text",name:m,value:e[m],onChange:b=>{r({...e,[m]:b.target.value}),n({...i,[m]:null})},className:`shadow appearance-none border ${i[m]?"border-red-500":"rounded"} w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline`}),i[m]&&w.jsx("p",{className:"text-red-500 text-xs italic",children:i[m]})]})},T)),w.jsx("div",{className:"mb-4",children:w.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:["Choose images",w.jsxs("div",{onClick:y,style:{cursor:"pointer"},className:"box-decoration w-full py-6",children:[a.length>0?a.map((m,T)=>w.jsx("img",{src:URL.createObjectURL(m),alt:`Upload Preview ${T}`,className:"aspect-video md:w-full h-40 object-cover rounded-lg mb-2"},T)):w.jsx(Qy,{className:"w-40 h-40 text-accent"}),w.jsx("input",{id:"image-upload-input",type:"file",multiple:!0,onChange:c,ref:u,style:{display:"none"},accept:"image/*"})]}),i.images&&w.jsx("p",{className:"text-red-500 text-xs italic",children:i.images})]})}),w.jsx("div",{className:"flex items-center justify-between glass",children:w.jsx("button",{type:"submit",disabled:o,className:`w-full text-white bg-accent hover:bg-accent/75 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ${o?"bg-gray-300 hover:bg-gray-300 cursor-not-allowed":""}`,children:o?"Listing...":"List Property"})})]})})]})}function gW(t){const[e,r]=Q.useState(!1),[i,n]=Q.useState(),[a,s]=Q.useState(null),o=Jl(),l=async()=>{try{if(e)window.ethereum.selectedAddress=null,r(!1);else{const f=await new wc(window.ethereum).getSigner(),d=await f.getAddress();n(await f.getAddress());const h=(d==null?void 0:d.substr(0,8))+"...",y="Please sign to connect the wallet",m=await f.signMessage(y);T6(y,m),s(h),r(!0)}}catch(c){console.log(c.message)}},u=async()=>{if(e)try{const c=await fetch(`http://localhost:8000/user/veiwDetails/walletAddress/${i}`);if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const f=await c.json();console.log(f),f.cnic!==""?f.role===0?(Me.success("You are logged in now.",{position:Me.POSITION.TOP_CENTER,autoClose:2e3}),localStorage.clear(),localStorage.setItem("Isstateagent","true"),o("/")):Me.warning("You are not registered as StateAgent"):Me.success("User not found!")}catch(c){console.error("Error:",c.message)}else Me.error("Connect your wallet first")};return w.jsx(p1,{image:x1,children:w.jsx("div",{className:"w-full h-2/3 flex items-start justify-center",children:w.jsxs("section",{className:"flex flex-col mt-20",children:[w.jsx("button",{role:"switch",id:"flexSwitchChecked",className:`relative inline-flex items-center px-20 py-3 border border-transparent text-base font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transform transition-transform hover:scale-105 animate-spin ${e?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white":"bg-gray-300 text-gray-700"}`,onClick:l,children:e?a:"Connect Wallet"}),w.jsx("button",{className:`mt-4 px-20 py-6 bg-blue-500 text-white rounded-md ${e?"cursor-pointer":"cursor-not-allowed opacity-50"}`,onClick:u,disabled:!e,children:"Sign In"})]})})})}function vW(t){const[e,r]=Q.useState(!1),[i,n]=Q.useState(),[a,s]=Q.useState(null),o=Jl(),l=async()=>{try{if(e)window.ethereum.selectedAddress=null,r(!1);else{const f=await new wc(window.ethereum).getSigner(),d=await f.getAddress();n(await f.getAddress());const h=(d==null?void 0:d.substr(0,8))+"...",y="Welcome",m=await f.signMessage(y);T6(y,m),s(h),r(!0)}}catch(c){console.log(c.message)}},u=async()=>{if(e)try{const c=await fetch(`http://localhost:8000/user/veiwDetails/walletAddress/${i}`);if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const f=await c.json();console.log(f),f.cnic!==""?f.role===2?(Me.success("You are logged in now.",{position:Me.POSITION.TOP_CENTER,autoClose:2e3}),localStorage.clear(),localStorage.setItem("Istenant","true"),o("/")):Me.warning("You are not registered as Tenant"):Me.success("User not found!")}catch(c){console.error("Error:",c.message)}else Me.error("Connect your wallet first")};return w.jsx(p1,{image:x1,children:w.jsx("div",{className:"w-full h-2/3 flex items-start justify-center",children:w.jsxs("section",{className:"flex flex-col mt-20",children:[w.jsx("button",{role:"switch",id:"flexSwitchChecked",className:`relative inline-flex items-center px-20 py-3 border border-transparent text-base font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transform transition-transform hover:scale-105 animate-spin ${e?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white":"bg-gray-300 text-gray-700"}`,onClick:l,children:e?a:"Connect Wallet"}),w.jsx("button",{className:`mt-4 px-20 py-6 bg-blue-500 text-white rounded-md ${e?"cursor-pointer":"cursor-not-allowed opacity-50"}`,onClick:u,disabled:!e,children:"Sign In"})]})})})}function yW(){const{uid:t}=n6(),e="0x61528a2598513881673E58dCf5c745429646458B",[r,i]=Q.useState({propertyId:t,rentAmount:"",advance:"",duration:"",landlord_wallet:"",tenant_wallet:"",extraDetails:""}),[n,a]=Q.useState({}),[s,o]=Q.useState(!1),l=()=>{let f={},d=!0;for(const h in r)h!=="extraDetails"&&!r[h].trim()&&(f[h]="This field is required",d=!1);return a(f),d},u=async f=>{if(f.preventDefault(),!l()){Me.error("Please fill in all required fields.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4});return}if(!s){o(!0);try{const h=new(void 0).Web3Provider(window.ethereum).getSigner();await(await new us(e,Uf.abi,h).createAgreement(r.propertyId,r.rentAmount,r.advance,r.duration,r.landlord_wallet,r.tenant_wallet,r.extraDetails)).wait(),Me.success("Agreement Created Successfully")}catch(d){console.error("Error creating Agreement:",d),Me.error("Failed to create agreement. Please try again.",{position:Me.POSITION.TOP_CENTER,autoClose:1e4})}finally{o(!1)}}},c=f=>{const{name:d,value:h}=f.target;i(y=>({...y,[d]:h})),n[d]&&a(y=>({...y,[d]:null}))};return w.jsxs("div",{className:"flex justify-center my-10 items-center h-[100%]",children:[w.jsx("div",{className:"gradient z-0"}),w.jsx("div",{className:"max-w-3xl z-10 w-full",children:w.jsxs("form",{className:"bg-white/50 shadow-md px-8 pt-6 pb-8 mb-4 border z-10 border-slate-300 rounded-2xl py-5",onSubmit:u,children:[w.jsx("h2",{className:"text-gray-900 text-center text-2xl md:text-3xl mb-5 font-semibold",children:"Fill the Agreement Details"}),Object.keys(r).map((f,d)=>w.jsx("div",{className:"mb-4",children:w.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:[f.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase()),w.jsx("input",{type:f.includes("amount")||f==="advance"||f==="rentAmount"||f==="duration"?"number":"text",name:f,value:r[f],onChange:c,className:`shadow appearance-none border ${n[f]?"border-red-500":"rounded"} w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline`,placeholder:`Enter ${f.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase())}`,disabled:f==="propertyId"}),n[f]&&w.jsx("p",{className:"text-red-500 text-xs italic",children:n[f]})]})},d)),w.jsx("div",{className:"flex items-center justify-between",children:w.jsx("button",{type:"submit",className:`w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:s?"Creating...":"Create Agreement"})})]})})]})}function bW(){const[t,e]=Q.useState({});if(!t)return w.jsx("div",{className:"flex w-full py-10 justify-center text-slate-500",children:w.jsx("img",{alt:"loader",src:eh})});const r=async()=>{try{const i=await fetch(`http://localhost:8000/user/veiwDetails/walletAddress/${localStorage.getItem("walletAddress")}`);if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);const n=await i.json();console.log(n),e(n)}catch(i){console.error("Error:",i.message)}};return Q.useEffect(()=>{r()},[]),w.jsx("div",{className:"flex flex-col max-w-screen-sm md:max-w-none lg:max-w-none items-center justify-center mx-3",children:w.jsxs("div",{className:`flex w-full lg:w-3/5 md:w-4/5 flex-col justify-center\r
            items-center border z-10 relative\r
           border-slate-300  bg-white/50 rounded-2xl my-6 mb-10`,children:[w.jsxs("div",{className:"flex justify-start lg:items-center w-full mt-6 items-start  place-content-start md:gap-[5%] border-b border-slate-300 px-5 py-7 relative",children:[w.jsx("div",{className:"flex items-center relative justify-center h-24 lg:h-80 p-0 m-0",children:w.jsx("img",{alt:"profile",src:`https://gateway.pinata.cloud/ipfs//${t==null?void 0:t.displayPic}`,className:"inline-block object-cover aspect-square  h-full p-0 shadow shadow-accent rounded-full"})}),w.jsx("div",{className:"flex flex-col justify-between lg:pb-16 h-full  gap-3",children:w.jsxs("h1",{className:"text-3xl lg:text-5xl font-medium text-slate-900",children:[t==null?void 0:t.name," "]})})]}),w.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-start w-full items-start place-content-start",children:[w.jsxs("div",{className:"flex flex-col gap-6 px-5 py-7  mr-2  md:w-1/3",children:[w.jsxs("div",{className:"flex flex-col gap-2  ",children:[w.jsx("h1",{className:"text-lg text-slate-900 font-medium",children:"Role"}),w.jsx("p",{className:"description",children:(t==null?void 0:t.role)===0?"Estate Agent":(t==null?void 0:t.role)===1?"Landlord":"Tenant"})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-lg text-slate-900 font-medium",children:"Wallet Address"}),w.jsx("p",{className:"description",children:localStorage.getItem("walletAddress")})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("h1",{className:"text-lg text-slate-900 font-medium",children:"CNIC"}),w.jsx("p",{className:"description",children:t==null?void 0:t.cnic})]})]}),w.jsxs("div",{className:"flex flex-col border-b md:border-b-0 md:border-l md:pl-2 border-slate-300 gap-6 md:w-2/3 pb-10",children:[w.jsx("div",{className:"flex flex-col gap-2 px-5 py-7",children:w.jsx("p",{className:"description",children:"Rent Safe, our blockchain-powered platform, ensures unparalleled security for all users—real estate agents, tenants, and landlords. With decentralized technologies, your property transactions are safeguarded against fraud and unauthorized access. Enjoy the peace of mind that comes with Rent Safe, where your rental process is fortified by cutting-edge security measures, creating a trusted and secure environment for everyone involved."})}),w.jsxs("div",{className:"flex flex-col gap-2 ml-5",children:[w.jsx("h1",{className:"text-lg text-slate-900 font-medium",children:"Contact"}),w.jsxs(pr,{to:`mailto:${t==null?void 0:t.email}`,className:"contact-dev",children:[w.jsx(PO,{}),t==null?void 0:t.email]}),w.jsxs(pr,{to:`tel:${t==null?void 0:t.phone}`,className:"contact-dev",children:[w.jsx(IO,{}),t==null?void 0:t.phone]})]})]})]})]})})}function xW(t){const[e,r]=Q.useState(!1),[i,n]=Q.useState(),[a,s]=Q.useState(null),o=Jl(),l=async()=>{try{if(e)window.ethereum.selectedAddress=null,r(!1);else{const f=await new wc(window.ethereum).getSigner(),d=await f.getAddress();n(await f.getAddress());const h=(d==null?void 0:d.substr(0,8))+"...",y="Welcome",m=await f.signMessage(y);T6(y,m),s(h),r(!0)}}catch(c){console.log(c.message)}},u=async()=>{if(e)try{const c=await fetch(`http://localhost:8000/user/veiwDetails/walletAddress/${i}`);if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const f=await c.json();console.log(f),f.cnic!==""?f.role===1?(Me.success("You are logged in now.",{position:Me.POSITION.TOP_CENTER,autoClose:2e3}),localStorage.clear(),localStorage.setItem("Islandlord","true"),o("/")):Me.warning("You are not registered as Landlord"):Me.success("User not found!")}catch(c){console.error("Error:",c.message)}else Me.error("Connect your wallet first")};return w.jsx(p1,{image:x1,children:w.jsx("div",{className:"w-full h-2/3 flex items-start justify-center",children:w.jsxs("section",{className:"flex flex-col mt-20",children:[w.jsx("button",{role:"switch",id:"flexSwitchChecked",className:`relative inline-flex items-center px-20 py-3 border border-transparent text-base font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transform transition-transform hover:scale-105 animate-spin ${e?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white":"bg-gray-300 text-gray-700"}`,onClick:l,children:e?a:"Connect Wallet"}),w.jsx("button",{className:`mt-4 px-20 py-6 bg-blue-500 text-white rounded-md ${e?"cursor-pointer":"cursor-not-allowed opacity-50"}`,onClick:u,disabled:!e,children:"Sign In"})]})})})}function TW(){const t=Q.useContext(Zd),{progress:e}=t;return w.jsxs(w.Fragment,{children:[w.jsx(gO,{color:"#6c47ff",height:10,progress:e}),w.jsx(AO,{}),w.jsx("div",{className:"pt-20",children:w.jsxs(KN,{children:[w.jsx(kr,{path:"/",element:w.jsx(UO,{})}),w.jsx(kr,{path:"/properties",element:w.jsx(sM,{})}),w.jsx(kr,{path:"/properties/create",element:w.jsx(mW,{})}),w.jsx(kr,{path:"/about",element:w.jsx(_A,{})}),w.jsx(kr,{path:"/properties/:propertyId/:listingDate",element:w.jsx(FG,{})}),w.jsx(kr,{path:"/agreements/create/:uid",element:w.jsx(yW,{})}),w.jsx(kr,{path:"/agreements",element:w.jsx(VO,{})}),w.jsx(kr,{path:"/agreements/:agreementId",element:w.jsx(lM,{})}),w.jsx(kr,{path:"/profile",element:w.jsx(bW,{})}),w.jsx(kr,{path:"/login",element:w.jsx(MG,{})}),w.jsx(kr,{path:"/login/stateAgent",element:w.jsx(gW,{role:0})}),w.jsx(kr,{path:"/login/landlord",element:w.jsx(xW,{role:2})}),w.jsx(kr,{path:"/login/tenant",element:w.jsx(vW,{role:1})}),w.jsx(kr,{path:"/register",element:w.jsx(BG,{})}),w.jsx(kr,{path:"/register/stateAgent",element:w.jsx(hW,{})}),w.jsx(kr,{path:"/register/tenant",element:w.jsx(WE,{role:1})}),w.jsx(kr,{path:"/register/landlord",element:w.jsx(WE,{role:2})})]})}),w.jsx($y,{autoClose:2e3})]})}Yv.createRoot(document.getElementById("root")).render(w.jsx(it.StrictMode,{children:w.jsx(sO,{children:w.jsx(tO,{children:w.jsx(TW,{})})})}));
